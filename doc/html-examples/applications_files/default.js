function closed_where_is_server_mon(){jQuery.post(RPM.URL("/accounts/ACCOUNT_ID/applications/servermon_tooltip_close"),{})}function show_subscriptions_wizard_popup(){RPM.lightbox.open({overlayClose:!1,html:jQuery("#hidden_wizard_data").html(),onComplete:function(){fix_popup_size()}}),jQuery("#cboxClose").css("display","none")}function resize_popup(){var a=jQuery("#cboxLoadedContent");a.colorbox.resize(),a.height(a.height()+20)}function fix_popup_size(){var a=jQuery("#cboxLoadedContent");a.height(a.height()+20)}function flip_subscription_selection_to(a,b){jQuery(".plan_picker .plan").removeClass("active"),a.addClass("active");var c=a.attr("plan"),d=jQuery(".plan_picker").attr("current_plan");b&&(jQuery(".plan_changer .default_instructions").hide(),c=="volume"&&d!="volume"?(jQuery(".plan_changer span.plan_changer_form").hide(),jQuery(".plan_changer span.contact_sales").show()):(jQuery(".plan_changer span.contact_sales").hide(),jQuery(".plan_changer span.plan_changer_form").fadeIn("fast",function(){jQuery(".plan_changer span.product_level").hide()}))),jQuery(".features_list li."+c).fadeTo("slow",1),jQuery(".features_list li."+c).css("font-weight","bold"),jQuery(".features_list li:not(."+c+")").fadeTo("slow",.6),jQuery(".features_list li:not(."+c+")").css("font-weight","normal"),jQuery(".features_list li span."+c).fadeTo("slow",1),jQuery(".features_list li span."+c).css("font-weight","bold").css("text-decoration","none"),jQuery(".features_list li span:not(."+c+")").fadeTo("slow",.6),jQuery(".features_list li span:not(."+c+")").css("font-weight","normal").css("text-decoration","line-through"),jQuery(".features_list h2").fadeOut("slow",function(){jQuery(".features_list h2 span").text(a.find("h2").text()),jQuery(this).fadeIn("slow")}),jQuery("select#subscription_product_level").val(a.find("h2").text()),jQuery("select#subscription_product_level").trigger("change"),jQuery(".form.plan_changer li.subs_level span").text(a.find("h2").text())}function handle_feature_click(a){var b=a.attr("class").split(" ")[0],c=jQuery(".plan_picker .plan."+b);flip_subscription_selection_to(c,!0),c.fadeOut("slow",function(){jQuery(this).fadeIn("slow")})}function apply_promo(){flip_subscription_selection_to(jQuery(".plan_picker .plan.current_plan"),!0),jQuery("#subscription_promo_code").focus()}function RestInPlaceEditor(a){this.element=jQuery(a),this.initOptions(),this.bindForm(),this.element.bind("click",{editor:this},this.clickHandler)}function pieConnectorLineColorIE8(a,b){navigator.userAgent.indexOf("MSIE 8.0")>-1||navigator.userAgent.indexOf("MSIE 7.0")>-1?pieConnectorColor=b:pieConnectorColor=a;return pieConnectorColor}function hide_disk_pie_lines(){jQuery("svg path[stroke='#606060']").hide()}function createTipsyTooltips(a){jQuery(function(b){var c=b("header#primary_header, #app_status_bar, #triage_nav, #primary_nav, #primary_footer"),d=null;b("[data-tip-trigger]").length>0&&(d=b("[data-tip-trigger]")),b("[data-tip-trigger]",a).click(function(){c.fadeTo("fast",.2),jQuery("#helpmode_icon").length>0||jQuery("body").prepend("<span id='helpmode_icon'>?</span>"),d.fadeTo("fast",.01),b("[data-tip][data-tip-triggerable]").each(function(){b(this).tipsy("show")}),b(document).bind("click",function(a){var e=jQuery(a.target);typeof e.attr("data-tip-trigger")=="undefined"&&(b("[data-tip]").each(function(){b(this).tipsy("hide")}),c.fadeTo("fast",1),jQuery("#helpmode_icon").remove(),d.fadeTo("fast",1))})}),b("[data-tip]",a).each(function(){var a=b(this),c=b.fn.tipsy.autoNS;if(b.inArray(a.attr("data-tip-position"),["top","bottom","left","right"])>-1)switch(a.attr("data-tip-position")){case"top":c="s";break;case"bottom":c="n";break;case"left":c="e";break;case"right":c="w"}if(a.attr("data-tip-perma")=="true"){dtip=a.attr("data-tip");var d=a.attr("id");d||(d="tipsified_"+Math.floor(Math.random()*101),a.attr("id",d));var e=a.attr("data-tip-close-callback");e||(e=""),a.attr("data-tip",dtip+"<span style='position:absolute;right:8px;top:6px;'><a href='javascript:void(0);' onclick=\""+e+";jQuery('#"+d+"').tipsy('disable');jQuery('#"+d+"').tipsy('hide');\">X</a></span>"),a.tipsy({title:"data-tip",gravity:c,opacity:.95,html:!0,trigger:"manual"}),a.tipsy("show"),b(window).resize(function(){b("#"+a.attr("id")).tipsy("hide"),b("#"+a.attr("id")).tipsy("show")})}else typeof a.attr("data-tip-triggerable")!="undefined"?a.tipsy({title:"data-tip",opacity:.95,gravity:c,fade:!0,html:!0,delayIn:250,trigger:"manual"}):a.tipsy({title:"data-tip",opacity:.95,gravity:c,fade:!0,html:!0,delayIn:250})})})}function reenableFormButtons(a){var b=jQuery(a);b.removeData("submitted"),jQuery("button.replacement_button, .spinner",b).remove(),jQuery("button:hidden",b).show()}function disableFormButtons(a){var b=jQuery(a);b.data("submitted")!="true"&&(b.data("submitted","true"),jQuery("button",b).hide().after('<button disabled="disabled" class="disabled replacement_button">Please wait&hellip;</button>'),jQuery("button.replacement_button",b).after(RPM.SPINNER));return!1}(function(a,b){function B(a,c,d){if(d===b&&a.nodeType===1){d=a.getAttribute("data-"+c);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:D.isNaN(d)?G.test(d)?D.parseJSON(d):d:parseFloat(d)}catch(e){}D.data(a,c,d)}else d=b}return d}function A(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function z(){return!1}function y(){return!0}function x(a,c,d){var e=D.extend({},d[0]);e.type=a,e.originalEvent={},e.liveFired=b,D.event.handle.call(c,e),e.isDefaultPrevented()&&d[0].preventDefault()}function w(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=[],p=[],q=D._data(this,"events");if(a.liveFired!==this&&q&&q.live&&!a.target.disabled&&(!a.button||a.type!=="click")){a.namespace&&(m=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var r=q.live.slice(0);for(h=0;h<r.length;h++)f=r[h],f.origType.replace(P,"")===a.type?p.push(f.selector):r.splice(h--,1);e=D(a.target).closest(p,a.currentTarget);for(i=0,j=e.length;i<j;i++){l=e[i];for(h=0;h<r.length;h++){f=r[h];if(l.selector===f.selector&&(!m||m.test(f.namespace))&&!l.elem.disabled){g=l.elem,d=null;if(f.preType==="mouseenter"||f.preType==="mouseleave")a.type=f.preType,d=D(a.relatedTarget).closest(f.selector)[0];(!d||d!==g)&&o.push({elem:g,handleObj:f,level:l.level})}}}for(i=0,j=o.length;i<j;i++){e=o[i];if(c&&e.level>c)break;a.currentTarget=e.elem,a.data=e.handleObj.data,a.handleObj=e.handleObj,n=e.handleObj.origHandler.apply(e.elem,arguments);if(n===!1||a.isPropagationStopped()){c=e.level,n===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function v(a,b){return(a&&a!=="*"?a+".":"")+b.replace(R,"`").replace(S,"&")}function u(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function t(a,b,c){if(D.isFunction(b))return D.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return D.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=D.grep(a,function(a){return a.nodeType===1});if(bc.test(b))return D.filter(b,d,!c);b=D.filter(b,d)}return D.grep(a,function(a,d){return D.inArray(a,b)>=0===c})}function s(a,b){return D.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function r(a,b){if(b.nodeType===1&&D.hasData(a)){var c=D.expando,d=D.data(a),e=D.data(b,d);if(d=d[c]){var f=d.events;e=e[c]=D.extend({},d);if(f){delete e.handle,e.events={};for(var g in f)for(var h=0,i=f[g].length;h<i;h++)D.event.add(b,g+(f[g][h].namespace?".":"")+f[g][h].namespace,f[g][h],f[g][h].data)}}}}function q(a,b){if(b.nodeType===1){var c=b.nodeName.toLowerCase();b.clearAttributes(),b.mergeAttributes(a);if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(D.expando)}}function p(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function o(a,b){b.src?D.ajax({url:b.src,async:!1,dataType:"script"}):D.globalEval(b.text||b.textContent||b.innerHTML||""),b.parentNode&&b.parentNode.removeChild(b)}function n(a,b,c){var d=b==="width"?bw:bx,e=b==="width"?a.offsetWidth:a.offsetHeight;if(c==="border")return e;D.each(d,function(){c||(e-=parseFloat(D.css(a,"padding"+this))||0),c==="margin"?e+=parseFloat(D.css(a,"margin"+this))||0:e-=parseFloat(D.css(a,"border"+this+"Width"))||0});return e}function m(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(D.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function l(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bU,m;for(;i<j&&(k||!m);i++)m=h[i](c,d,e),typeof m=="string"&&(!k||g[m]?m=b:(c.dataTypes.unshift(m),m=l(a,c,d,e,m,g)));(k||!m)&&!g["*"]&&(m=l(a,c,d,e,"*",g));return m}function k(a,b,c,d){if(D.isArray(b)&&b.length)D.each(b,function(b,e){c||bD.test(a)?d(a,e):k(a+"["+(typeof e=="object"||D.isArray(e)?b:"")+"]",e,c,d)});else if(c||b==null||typeof b!="object")d(a,b);else if(D.isArray(b)||D.isEmptyObject(b))d(a,"");else for(var e in b)k(a+"["+e+"]",b[e],c,d)}function j(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function i(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&D.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function h(){D(a).unload(function(){for(var a in ca)ca[a](0,1)})}function g(){try{return new a.XMLHttpRequest}catch(b){}}function f(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function e(a,b){var c={};D.each(cg.concat.apply([],cg.slice(0,b)),function(){c[this]=a});return c}function d(a){if(!cc[a]){var b=D("<"+a+">").appendTo("body"),c=b.css("display");b.remove();if(c==="none"||c==="")c="block";cc[a]=c}return cc[a]}function c(a){return D.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var C=a.document,D=function(){function c(){if(!d.isReady){try{C.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=navigator.userAgent,w,x,y,z=Object.prototype.toString,A=Object.prototype.hasOwnProperty,B=Array.prototype.push,D=Array.prototype.slice,E=String.prototype.trim,F=Array.prototype.indexOf,G={};d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!c&&C.body){this.context=C,this[0]=C.body,this.selector="body",this.length=1;return this}if(typeof a=="string"){f=h.exec(a);if(!f||!f[1]&&c)return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a);if(f[1]){c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:C,i=m.exec(a),i?d.isPlainObject(c)?(a=[C.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes);return d.merge(this,a)}g=C.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}this.context=C,this.selector=a;return this}if(d.isFunction(a))return e.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.5.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();d.isArray(a)?B.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")");return e},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady(),x.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){a.$=f,b&&(a.jQuery=e);return d},isReady:!1,readyWait:1,ready:function(a){a===!0&&d.readyWait--;if(!d.readyWait||a!==!0&&!d.isReady){if(!C.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;x.resolveWith(C,[d]),d.fn.trigger&&d(C).trigger("ready").unbind("ready")}},bindReady:function(){if(!x){x=d._Deferred();if(C.readyState==="complete")return setTimeout(d.ready,1);if(C.addEventListener)C.addEventListener("DOMContentLoaded",y,!1),a.addEventListener("load",d.ready,!1);else if(C.attachEvent){C.attachEvent("onreadystatechange",y),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}C.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNaN:function(a){return a==null||!l.test(a)||isNaN(a)},type:function(a){return a==null?String(a):G[z.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!A.call(a,"constructor")&&!A.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a);return c===b||A.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b,c,e){a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),e=c.documentElement,(!e||!e.nodeName||e.nodeName==="parsererror")&&d.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(a){if(a&&i.test(a)){var b=C.head||C.getElementsByTagName("head")[0]||C.documentElement,c=C.createElement("script");d.support.scriptEval()?c.appendChild(C.createTextNode(a)):c.text=a,b.insertBefore(c,b.firstChild),b.removeChild(c)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(var j=a[0];g<h&&c.call(j,g,j)!==!1;j=a[++g]);return a},trim:E?function(a){return a==null?"":E.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?B.call(c,a):d.merge(c,a)}return c},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d=[],e;for(var f=0,g=a.length;f<g;f++)e=b(a[f],f,c),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,e){arguments.length===2&&(typeof c=="string"?(e=a,a=e[c],c=b):c&&!d.isFunction(c)&&(e=c,c=b)),!c&&a&&(c=function(){return a.apply(e||this,arguments)}),a&&(c.guid=a.guid=a.guid||c.guid||d.guid++);return c},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.subclass=this.subclass,a.fn.init=function(b,e){e&&e instanceof d&&!(e instanceof a)&&(e=a(e));return d.fn.init.call(this,b,e,c)},a.fn.init.prototype=a.fn;var c=a(C);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){G["[object "+b+"]"]=b.toLowerCase()}),w=d.uaMatch(v),w.browser&&(d.browser[w.browser]=!0,d.browser.version=w.version),d.browser.webkit&&(d.browser.safari=!0),F&&(d.inArray=function(a,b){return F.call(b,a)}),i.test(" ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(C),C.addEventListener?y=function(){C.removeEventListener("DOMContentLoaded",y,!1),d.ready()}:C.attachEvent&&(y=function(){C.readyState==="complete"&&(C.detachEvent("onreadystatechange",y),d.ready())});return d}(),E="then done fail isResolved isRejected promise".split(" "),F=[].slice;D.extend({_Deferred:function(){var a=[],b,c,d,e={done:function(){if(!d){var c=arguments,f,g,h,i,j;b&&(j=b,b=0);for(f=0,g=c.length;f<g;f++)h=c[f],i=D.type(h),i==="array"?e.done.apply(e,h):i==="function"&&a.push(h);j&&e.resolveWith(j[0],j[1])}return this},resolveWith:function(e,f){if(!d&&!b&&!c){f=f||[],c=1;try{while(a[0])a.shift().apply(e,f)}finally{b=[e,f],c=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return c||b},cancel:function(){d=1,a=[];return this}};return e},Deferred:function(a){var b=D._Deferred(),c=D._Deferred(),d;D.extend(b,{then:function(a,c){b.done(a).fail(c);return this},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,promise:function(a){if(a==null){if(d)return d;d=a={}}var c=E.length;while(c--)a[E[c]]=b[E[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b);return b},when:function(a){function b(a){return function(b){c[a]=arguments.length>1?F.call(arguments,0):b,--f||g.resolveWith(g,F.call(c,0))}}var c=arguments,d=0,e=c.length,f=e,g=e<=1&&a&&D.isFunction(a.promise)?a:D.Deferred();if(e>1){for(;d<e;d++)c[d]&&D.isFunction(c[d].promise)?c[d].promise().then(b(d),g.reject):--f;f||g.resolveWith(g,c)}else g!==a&&g.resolveWith(g,e?[a]:[]);return g.promise()}}),function(){D.support={};var b=C.createElement("div");b.style.display="none",b.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var c=b.getElementsByTagName("*"),d=b.getElementsByTagName("a")[0],e=C.createElement("select"),f=e.appendChild(C.createElement("option")),g=b.getElementsByTagName("input")[0];if(c&&c.length&&d){D.support={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,style:/red/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55$/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0,reliableMarginRight:!0},g.checked=!0,D.support.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,D.support.optDisabled=!f.disabled;var h=null;D.support.scriptEval=function(){if(h===null){var b=C.documentElement,c=C.createElement("script"),d="script"+D.now();try{c.appendChild(C.createTextNode("window."+d+"=1;"))}catch(e){}b.insertBefore(c,b.firstChild),a[d]?(h=!0,delete a[d]):h=!1,b.removeChild(c)}return h};try{delete b.test}catch(i){D.support.deleteExpando=!1}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent("onclick",function j(){D.support.noCloneEvent=!1,b.detachEvent("onclick",j)}),b.cloneNode(!0).fireEvent("onclick")),b=C.createElement("div"),b.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var k=C.createDocumentFragment();k.appendChild(b.firstChild),D.support.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,D(function(){var a=C.createElement("div"),b=C.getElementsByTagName("body")[0];if(b){a.style.width=a.style.paddingLeft="1px",b.appendChild(a),D.boxModel=D.support.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,D.support.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",D.support.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var c=a.getElementsByTagName("td");D.support.reliableHiddenOffsets=c[0].offsetHeight===0,c[0].style.display="",c[1].style.display="none",D.support.reliableHiddenOffsets=D.support.reliableHiddenOffsets&&c[0].offsetHeight===0,a.innerHTML="",C.defaultView&&C.defaultView.getComputedStyle&&(a.style.width="1px",a.style.marginRight="0",D.support.reliableMarginRight=(parseInt(C.defaultView.getComputedStyle(a,null).marginRight,10)||0)===0),b.removeChild(a).style.display="none",a=c=null}});var l=function(a){var b=C.createElement("div");a="on"+a;if(!b.attachEvent)return!0;var c=a in b;c||(b.setAttribute(a,"return;"),c=typeof b[a]=="function");return c};D.support.submitBubbles=l("submit"),D.support.changeBubbles=l("change"),b=c=d=null}}();var G=/^(?:\{.*\}|\[.*\])$/;D.extend({cache:{},uuid:0,expando:"jQuery"+(D.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?D.cache[a[D.expando]]:a[D.expando];return!!a&&!A(a)},data:function(a,c,d,e){if(D.acceptData(a)){var f=D.expando,g=typeof c=="string",h,i=a.nodeType,j=i?D.cache:a,k=i?a[D.expando]:a[D.expando]&&D.expando;if((!k||e&&k&&!j[k][f])&&g&&d===b)return;k||(i?a[D.expando]=k=++D.uuid:k=D.expando),j[k]||(j[k]={},i||(j[k].toJSON=D.noop));if(typeof c=="object"||typeof c=="function")e?j[k][f]=D.extend(j[k][f],c):j[k]=D.extend(j[k],c);h=j[k],e&&(h[f]||(h[f]={}),h=h[f]),d!==b&&(h[c]=d);if(c==="events"&&!h[c])return h[f]&&h[f].events;return g?h[c]:h}},removeData:function(b,c,d){if(D.acceptData(b)){var e=D.expando,f=b.nodeType,g=f?D.cache:b,h=f?b[D.expando]:D.expando;if(!g[h])return;if(c){var i=d?g[h][e]:g[h];if(i){delete i[c];if(!A(i))return}}if(d){delete g[h][e];if(!A(g[h]))return}var j=g[h][e];D.support.deleteExpando||g!=a?delete g[h]:g[h]=null,j?(g[h]={},f||(g[h].toJSON=D.noop),g[h][e]=j):f&&(D.support.deleteExpando?delete b[D.expando]:b.removeAttribute?b.removeAttribute(D.expando):b[D.expando]=null)}},_data:function(a,b,c){return D.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=D.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),D.fn.extend({data:function(a,c){var d=null;if(typeof a=="undefined"){if(this.length){d=D.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,f;for(var g=0,h=e.length;g<h;g++)f=e[g].name,f.indexOf("data-")===0&&(f=f.substr(5),B(this[0],f,d[f]))}}return d}if(typeof a=="object")return this.each(function(){D.data(this,a)});var i=a.split(".");i[1]=i[1]?"."+i[1]:"";if(c===b){d=this.triggerHandler("getData"+i[1]+"!",[i[0]]),d===b&&this.length&&(d=D.data(this[0],a),d=B(this[0],a,d));return d===b&&i[1]?this.data(i[0]):d}return this.each(function(){var b=D(this),d=[i[0],c];b.triggerHandler("setData"+i[1]+"!",d),D.data(this,a,c),b.triggerHandler("changeData"+i[1]+"!",d)})},removeData:function(a){return this.each(function(){D.removeData(this,a)})}}),D.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var d=D._data(a,b);if(!c)return d||[];!d||D.isArray(c)?d=D._data(a,b,D.makeArray(c)):d.push(c);return d}},dequeue:function(a,b){b=b||"fx";var c=D.queue(a,b),d=c.shift();d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),d.call(a,function(){D.dequeue(a,b)})),c.length||D.removeData(a,b+"queue",!0)}}),D.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return D.queue(this[0],a);return this.each(function(b){var d=D.queue(this,a,c);a==="fx"&&d[0]!=="inprogress"&&D.dequeue(this,a)})},dequeue:function(a){return this.each(function(){D.dequeue(this,a)})},delay:function(a,b){a=D.fx?D.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){D.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var H=/[\n\t\r]/g,I=/\s+/,J=/\r/g,K=/^(?:href|src|style)$/,L=/^(?:button|input)$/i,M=/^(?:button|input|object|select|textarea)$/i,N=/^a(?:rea)?$/i,O=/^(?:radio|checkbox)$/i;D.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"},D.fn.extend({attr:function(a,b){return D.access(this,a,b,!0,D.attr)},removeAttr:function(a,b){return this.each(function(){D.attr(this,a,""),this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(D.isFunction(a))return this.each(function(b){var c=D(this);c.addClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string"){var b=(a||"").split(I);for(var c=0,d=this.length;c<d;c++){var e=this[c];if(e.nodeType===1)if(e.className){var f=" "+e.className+" ",g=e.className;for(var h=0,i=b.length;h<i;h++)f.indexOf(" "+b[h]+" ")<0&&(g+=" "+b[h]);e.className=D.trim(g)}else e.className=a}}return this},removeClass:function(a){if(D.isFunction(a))return this.each(function(b){var c=D(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string"||a===b){var c=(a||"").split(I);for(var d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){var g=(" "+f.className+" ").replace(H," ");for(var h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=D.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(D.isFunction(a))return this.each(function(c){var d=D(this);d.toggleClass(a.call(this,c,d.attr("class"),b),b)});return this.each(function(){if(c==="string"){var e,f=0,g=D(this),h=b,i=a.split(I);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&D._data(this,"__className__",this.className),this.className=this.className||a===!1?"":D._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(H," ").indexOf(b)>-1)return!0;return!1},val:function(a){if(!arguments.length){var c=this[0];if(c){if(D.nodeName(c,"option")){var d=c.attributes.value;return!d||d.specified?c.value:c.text}if(D.nodeName(c,"select")){var e=c.selectedIndex,f=[],g=c.options,h=c.type==="select-one";if(e<0)return null;for(var i=h?e:0,j=h?e+1:g.length;i<j;i++){var k=g[i];if(k.selected&&(D.support.optDisabled?!k.disabled:k.getAttribute("disabled")===null)&&(!k.parentNode.disabled||!D.nodeName(k.parentNode,"optgroup"))){a=D(k).val();if(h)return a;f.push(a)}}if(h&&!f.length&&g.length)return D(g[e]).val();return f}if(O.test(c.type)&&!D.support.checkOn)return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(J,"")}return b}var l=D.isFunction(a);return this.each(function(b){var c=D(this),d=a;if(this.nodeType===1){l&&(d=a.call(this,b,c.val())),d==null?d="":typeof d=="number"?d+="":D.isArray(d)&&(d=D.map(d,function(a){return a==null?"":a+""}));if(D.isArray(d)&&O.test(this.type))this.checked=D.inArray(c.val(),d)>=0;else if(D.nodeName(this,"select")){var e=D.makeArray(d);D("option",this).each(function(){this.selected=D.inArray(D(this).val(),e)>=0}),e.length||(this.selectedIndex=-1)}else this.value=d}})}}),D.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return b;if(e&&c in D.attrFn)return D(a)[c](d);var f=a.nodeType!==1||!D.isXMLDoc(a),g=d!==b;c=f&&D.props[c]||c;if(a.nodeType===1){var h=K.test(c);if(c==="selected"&&!D.support.optSelected){var i=a.parentNode;i&&(i.selectedIndex,i.parentNode&&i.parentNode.selectedIndex)}if((c in a||a[c]!==b)&&f&&!h){g&&(c==="type"&&L.test(a.nodeName)&&a.parentNode&&D.error("type property can't be changed"),d===null?a.nodeType===1&&a.removeAttribute(c):a[c]=d);if(D.nodeName(a,"form")&&a.getAttributeNode(c))return a.getAttributeNode(c).nodeValue;if(c==="tabIndex"){var j=a.getAttributeNode("tabIndex");return j&&j.specified?j.value:M.test(a.nodeName)||N.test(a.nodeName)&&a.href?0:b}return a[c]}if(!D.support.style&&f&&c==="style"){g&&(a.style.cssText=""+d);return a.style.cssText}g&&a.setAttribute(c,""+d);if(!a.attributes[c]&&a.hasAttribute&&!a.hasAttribute(c))return b;var k=!D.support.hrefNormalized&&f&&h?a.getAttribute(c,2):a.getAttribute(c);return k===null?b:k}g&&(a[c]=d);return a[c]}});var P=/\.(.*)$/,Q=/^(?:textarea|input|select)$/i,R=/\./g,S=/ /g,T=/[^\w\s.|`]/g,U=function(a){return a.replace(T,"\\$&")};D.event={add:function(c,d,e,f){if(c.nodeType!==3&&c.nodeType!==8){try{D.isWindow(c)&&c!==a&&!c.frameElement&&(c=a)}catch(g){}if(e===!1)e=z;else if(!e)return;var h,i;e.handler&&(h=e,e=h.handler),e.guid||(e.guid=D.guid++);var j=D._data(c);if(!j)return;var k=j.events,l=j.handle;k||(j.events=k={}),l||(j.handle=l=function(a){return typeof D!="undefined"&&D.event.triggered!==a.type?D.event.handle.apply(l.elem,arguments):b}),l.elem=c,d=d.split(" ");var m,n=0,o;while(m=d[n++]){i=h?D.extend({},h):{handler:e,data:f},m.indexOf(".")>-1?(o=m.split("."),m=o.shift(),i.namespace=o.slice(0).sort().join(".")):(o=[],i.namespace=""),i.type=m,i.guid||(i.guid=e.guid);var p=k[m],q=D.event.special[m]||{};if(!p){p=k[m]=[];if(!q.setup||q.setup.call(c,f,o,l)===!1)c.addEventListener?c.addEventListener(m,l,!1):c.attachEvent&&c.attachEvent("on"+m,l)}q.add&&(q.add.call(c,i),i.handler.guid||(i.handler.guid=e.guid)),p.push(i),D.event.global[m]=!0}c=null}},global:{},remove:function(a,c,d,e){if(a.nodeType!==3&&a.nodeType!==8){d===!1&&(d=z);var f,g,h,i,j=0,k,l,m,n,o,p,q,r=D.hasData(a)&&D._data(a),s=r&&r.events;if(!r||!s)return;c&&c.type&&(d=c.handler,c=c.type);if(!c||typeof c=="string"&&c.charAt(0)==="."){c=c||"";for(g in s)D.event.remove(a,g+c);return}c=c.split(" ");while(g=c[j++]){q=g,p=null,k=g.indexOf(".")<0,l=[],k||(l=g.split("."),g=l.shift(),m=new RegExp("(^|\\.)"+D.map(l.slice(0).sort(),U).join("\\.(?:.*\\.)?")+"(\\.|$)")),o=s[g];if(!o)continue;if(!d){for(i=0;i<o.length;i++){p=o[i];if(k||m.test(p.namespace))D.event.remove(a,q,p.handler,i),o.splice(i--,1)}continue}n=D.event.special[g]||{};for(i=e||0;i<o.length;i++){p=o[i];if(d.guid===p.guid){if(k||m.test(p.namespace))e==null&&o.splice(i--,1),n.remove&&n.remove.call(a,p);if(e!=null)break}}if(o.length===0||e!=null&&o.length===1)(!n.teardown||n.teardown.call(a,l)===!1)&&D.removeEvent(a,g,r.handle),f=null,delete s[g]}if(D.isEmptyObject(s)){var t=r.handle;t&&(t.elem=null),delete r.events,delete r.handle,D.isEmptyObject(r)&&D.removeData(a,b,!0)}}},trigger:function(a,c,d){var e=a.type||a,f=arguments[3];if(!f){a=typeof a=="object"?a[D.expando]?a:D.extend(D.Event(e),a):D.Event(e),e.indexOf("!")>=0&&(a.type=e=e.slice(0,-1),a.exclusive=!0),d||(a.stopPropagation(),D.event.global[e]&&D.each(D.cache,function(){var b=D.expando,d=this[b];d&&d.events&&d.events[e]&&D.event.trigger(a,c,d.handle.elem)}));if(!d||d.nodeType===3||d.nodeType===8)return b;a.result=b,a.target=d,c=D.makeArray(c),c.unshift(a)}a.currentTarget=d;var g=D._data(d,"handle");g&&g.apply(d,c);var h=d.parentNode||d.ownerDocument;try{d&&d.nodeName&&D.noData[d.nodeName.toLowerCase()]||d["on"+e]&&d["on"+e].apply(d,c)===!1&&(a.result=!1,a.preventDefault())}catch(i){}if(!a.isPropagationStopped()&&h)D.event.trigger(a,c,h,!0);else if(!a.isDefaultPrevented()){var j,k=a.target,l=e.replace(P,""),m=D.nodeName(k,"a")&&l==="click",n=D.event.special[l]||{};if((!n._default||n._default.call(d,a)===!1)&&!m&&!(k&&k.nodeName&&D.noData[k.nodeName.toLowerCase()])){try{k[l]&&(j=k["on"+l],j&&(k["on"+l]=null),D.event.triggered=a.type,k[l]())}catch(o){}j&&(k["on"+l]=j),D.event.triggered=b}}},handle:function(c){var d,e,f,g,h,i=[],j=D.makeArray(arguments);c=j[0]=D.event.fix(c||a.event),c.currentTarget=this,d=c.type.indexOf(".")<0&&!c.exclusive,d||(f=c.type.split("."),c.type=f.shift(),i=f.slice(0).sort(),g=new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)")),c.namespace=c.namespace||i.join("."),h=D._data(this,"events"),e=(h||{})[c.type];if(h&&e){e=e.slice(0);for(var k=0,l=e.length;k<l;k++){var m=e[k];if(d||g.test(m.namespace)){c.handler=m.handler,c.data=m.data,c.handleObj=m;var n=m.handler.apply(this,j);n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[D.expando])return a;var c=a;a=D.Event(c);for(var d=this.props.length,e;d;)e=this.props[--d],a[e]=c[e];a.target||(a.target=a.srcElement||C),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var f=C.documentElement,g=C.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1e8,proxy:D.proxy,special:{ready:{setup:D.bindReady,teardown:D.noop},live:{add:function(a){D.event.add(this,v(a.origType,a.selector),D.extend({},a,{handler:w,guid:a.handler.guid}))},remove:function(a){D.event.remove(this,v(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){D.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},D.removeEvent=C.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},D.Event=function(a){if(!this.preventDefault)return new D.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?y:z):this.type=a,this.timeStamp=D.now(),this[D.expando]=!0},D.Event.prototype={preventDefault:function(){this.isDefaultPrevented=y;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=y;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=y,this.stopPropagation()},isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z};var V=function(a){var b=a.relatedTarget;try{if(b&&b!==C&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&(a.type=a.data,D.event.handle.apply(this,arguments))}catch(c){}},W=function(a){a.type=a.data,D.event.handle.apply(this,arguments)};D.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){D.event.special[a]={setup:function(c){D.event.add(this,b,c&&c.selector?W:V,a)},teardown:function(a){D.event.remove(this,b,a&&a.selector?W:V)}}}),D.support.submitBubbles||(D.event.special.submit={setup:function(a,b){if(this.nodeName&&this.nodeName.toLowerCase()!=="form")D.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&D(b).closest("form").length&&x("submit",this,arguments)}),D.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&D(b).closest("form").length&&a.keyCode===13&&x("submit",this,arguments)});else return!1},teardown:function(a){D.event.remove(this,".specialSubmit")}});if(!D.support.changeBubbles){var X,Y=function(a){var b=a.type,c=a.value;b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?D.map(a.options,function(a){return a.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(c=a.selectedIndex);return c},Z=function Z(a){var c=a.target,d,e;if(Q.test(c.nodeName)&&!c.readOnly){d=D._data(c,"_change_data"),e=Y(c),(a.type!=="focusout"||c.type!=="radio")&&D._data(c,"_change_data",e);if(d===b||e===d)return;if(d!=null||e)a.type="change",a.liveFired=b,D.event.trigger(a,arguments[1],c)}};D.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,c=b.type;(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select")&&Z.call(this,a)},keydown:function(a){var b=a.target,c=b.type;(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&Z.call(this,a)},beforeactivate:function(a){var b=a.target;D._data(b,"_change_data",Y(b))}},setup:function(a,b){if(this.type==="file")return!1;for(var c in X)D.event.add(this,c+".specialChange",X[c]);return Q.test(this.nodeName)},teardown:function(a){D.event.remove(this,".specialChange");return Q.test(this.nodeName)}},X=D.event.special.change.filters,X.focus=X.beforeactivate}C.addEventListener&&D.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){var c=D.event.fix(a);c.type=b,c.originalEvent={},D.event.trigger(c,null,c.target),c.isDefaultPrevented()&&a.preventDefault()}var d=0;D.event.special[b]={setup:function(){d++===0&&C.addEventListener(a,c,!0)},teardown:function(){--d===0&&C.removeEventListener(a,c,!0)}}}),D.each(["bind","one"],function(a,c){D.fn[c]=function(a,d,e){if(typeof a=="object"){for(var f in a)this[c](f,d,a[f],e);return this}if(D.isFunction(d)||d===!1)e=d,d=b;var g=c==="one"?D.proxy(e,function(a){D(this).unbind(a,g);return e.apply(this,arguments)}):e;if(a==="unload"&&c!=="one")this.one(a,d,e);else for(var h=0,i=this.length;h<i;h++)D.event.add(this[h],a,g,d);return this}}),D.fn.extend({unbind:function(a,b){if(typeof a!="object"||a.preventDefault)for(var c=0,d=this.length;c<d;c++)D.event.remove(this[c],a,b);else for(var e in a)this.unbind(e,a[e]);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){D.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=D.Event(a);c.preventDefault(),c.stopPropagation(),D.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){var b=arguments,c=1;while(c<b.length)D.proxy(a,b[c++]);return this.click(D.proxy(a,function(d){var e=(D._data(this,"lastToggle"+a.guid)||0)%c;D._data(this,"lastToggle"+a.guid,e+1),d.preventDefault();return b[e].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var $={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};D.each(["live","die"],function(a,c){D.fn[c]=function(a,d,e,f){var g,h=0,i,j,k,l=f||this.selector,m=f?this:D(this.context);if(typeof a=="object"&&!a.preventDefault){for(var n in a)m[c](n,d,a[n],l);return this}D.isFunction(d)&&(e=d,d=b),a=(a||"").split(" ");while((g=a[h++])!=null){i=P.exec(g),j="",i&&(j=i[0],g=g.replace(P,""));if(g==="hover"){a.push("mouseenter"+j,"mouseleave"+j);continue}k=g,g==="focus"||g==="blur"?(a.push($[g]+j),g=g+j):g=($[g]||g)+j;if(c==="live")for(var o=0,p=m.length;o<p;o++)D.event.add(m[o],"live."+v(g,l),{data:d,selector:l,handler:e,origType:g,origHandler:e,preType:k});else m.unbind("live."+v(g,l),e)}return this}}),D.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){D.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)},D.attrFn&&(D.attrFn[b]=!0)}),function(){function c(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}function a(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!="string"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){h=!1;return 0});var k=function(a,b,c,e){c=c||[],b=b||C;var g=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,n,o,q,r,s,u=!0,v=k.isXML(b),w=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],w.push(h[1]);if(h[2]){n=h[3];break}}}while(h);if(w.length>1&&m.exec(a))if(w.length===2&&l.relative[w[0]])i=t(w[0]+w[1],b);else{i=l.relative[w[0]]?[b]:k(w.shift(),b);while(w.length)a=w.shift(),l.relative[a]&&(a+=w.shift()),i=t(a,i)}else{!e&&w.length>1&&b.nodeType===9&&!v&&l.match.ID.test(w[0])&&!l.match.ID.test(w[w.length-1])&&(o=k.find(w.shift(),b,v),b=o.expr?k.filter(o.expr,o.set)[0]:o.set[0]);if(b){o=e?{expr:w.pop(),set:p(e)}:k.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&b.parentNode?b.parentNode:b,v),i=o.expr?k.filter(o.expr,o.set):o.set,w.length>0?j=p(i):u=!1;while(w.length)q=w.pop(),r=q,l.relative[q]?r=w.pop():q="",r==null&&(r=b),l.relative[q](j,r,v)}else j=w=[]}j||(j=i),j||k.error(q||a);if(f.call(j)==="[object Array]")if(u)if(b&&b.nodeType===1)for(s=0;j[s]!=null;s++)j[s]&&(j[s]===!0||j[s].nodeType===1&&k.contains(b,j[s]))&&c.push(i[s]);else for(s=0;j[s]!=null;s++)j[s]&&j[s].nodeType===1&&c.push(i[s]);else c.push.apply(c,j);else p(j,c);n&&(k(n,g,c,e),k.uniqueSort(c));return c};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)==="\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(f){if(f===!0)continue}else g=o=!0}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],"");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression: "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(b,d,f){var g,h=e++,i=a;typeof d=="string"&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,f)},"~":function(b,d,f){var g,h=e++,i=a;typeof d=="string"&&!j.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,f)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not")if((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else{var g=k.filter(a[3],b,c,!0^f);c||e.push.apply(e,g);return!1}else if(l.match.POS.test(a[0])||l.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"text"===c&&(b===c||b===null)},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(C.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(f.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;C.documentElement.compareDocumentPosition?r=function(a,b){if(a===b){g=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(a===b){g=!0;return 0}if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=C.createElement("div"),c="script"+(new Date).getTime(),d=C.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),C.getElementById(c)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=C.createElement("div");a.appendChild(C.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),C.querySelectorAll&&function(){var a=k,b=C.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){k=function(b,d,e,f){d=d||C;if(!f&&!k.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return p(d.getElementsByTagName(b),e);if(g[2]&&l.find.CLASS&&d.getElementsByClassName)return p(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return p([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return p([],e);if(h.id===g[3])return p([h],e)}try{return p(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,m=d.getAttribute("id"),n=m||c,o=d.parentNode,q=/^\s*[+~]/.test(b);m?n=n.replace(/'/g,"\\$&"):d.setAttribute("id",n),q&&o&&(d=d.parentNode);try{if(!q||o)return p(d.querySelectorAll("[id='"+n+"'] "+b),e)}catch(r){}finally{m||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)k[d]=a[d];b=null}}(),function(){var a=C.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(C.createElement("div"),"div"),d=!1;try{b.call(C.documentElement,"[test!='']:sizzle")}catch(e){d=!0}k.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(d||!l.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return k(e,null,null,[a]).length>0}}}(),function(){var a=C.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),C.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:C.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var t=function(a,b){var c,d=[],e="",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};D.find=k,D.expr=k.selectors,D.expr[":"]=D.expr.filters,D.unique=k.uniqueSort,D.text=k.getText,D.isXMLDoc=k.isXML,D.contains=k.contains}();var _=/Until$/,ba=/^(?:parents|prevUntil|prevAll)/,bb=/,/,bc=/^.[^:#\[\.,]*$/,bd=Array.prototype.slice,be=D.expr.match.POS,bf={children:!0,contents:!0,next:!0,prev:!0};D.fn.extend({find:function(a){var b=this.pushStack("","find",a),c=0;for(var d=0,e=this.length;d<e;d++){c=b.length,D.find(a,this[d],b);if(d>0)for(var f=c;f<b.length;f++)for(var g=0;g<c;g++)if(b[g]===b[f]){b.splice(f--,1);break}}return b},has:function(a){var b=D(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(D.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(t(this,a,!1),"not",a)},filter:function(a){return this.pushStack(t(this,a,!0),"filter",a)},is:function(a){return!!a&&D.filter(a,this).length>0},closest:function(a,b){var c=[],d,e,f=this[0];if(D.isArray(a)){var g,h,i={},j=1;if(f&&a.length){for(d=0,e=a.length;d<e;d++)h=a[d],i[h]||(i[h]=D.expr.match.POS.test(h)?D(h,b||this.context):h);while(f&&f.ownerDocument&&f!==b){for(h in i)g=i[h],(g.jquery?g.index(f)>-1:D(f).is(g))&&c.push({selector:h,elem:f,level:j});f=f.parentNode,j++}}return c}var k=be.test(a)?D(a,b||this.context):null;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(k?k.index(f)>-1:D.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b)break}}c=c.length>1?D.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a||typeof a=="string")return D.inArray(this[0],a?D(a):this.parent().children());return D.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?D(a,b):D.makeArray(a),d=D.merge(this.get(),c);return this.pushStack(u(c[0])||u(d[0])?d:D.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),D.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return D.dir(a,"parentNode")},parentsUntil:function(a,b,c){return D.dir(a,"parentNode",c)},next:function(a){return D.nth(a,2,"nextSibling")},prev:function(a){return D.nth(a,2,"previousSibling")},nextAll:function(a){return D.dir(a,"nextSibling")},prevAll:function(a){return D.dir(a,"previousSibling")},nextUntil:function(a,b,c){return D.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return D.dir(a,"previousSibling",c)},siblings:function(a){return D.sibling(a.parentNode.firstChild,a)},children:function(a){return D.sibling(a.firstChild)},contents:function(a){return D.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:D.makeArray(a.childNodes)}},function(a,b){D.fn[a]=function(c,d){var e=D.map(this,b,c),f=bd.call(arguments);_.test(a)||(d=c),d&&typeof d=="string"&&(e=D.filter(d,e)),e=this.length>1&&!bf[a]?D.unique(e):e,(this.length>1||bb.test(d))&&ba.test(a)&&(e=e.reverse());return this.pushStack(e,a,f.join(","))}}),D.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?D.find.matchesSelector(b[0],a)?[b[0]]:[]:D.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!D(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bg=/ jQuery\d+="(?:\d+|null)"/g,bh=/^\s+/,bi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bj=/<([\w:]+)/,bk=/<tbody/i,bl=/<|&#?\w+;/,bm=/<(?:script|object|embed|option|style)/i,bn=/checked\s*(?:[^=]|=\s*.checked.)/i,bo={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};bo.optgroup=bo.option,bo.tbody=bo.tfoot=bo.colgroup=bo.caption=bo.thead,bo.th=bo.td,D.support.htmlSerialize||(bo._default=[1,"div<div>","</div>"]),D.fn.extend({text:function(a){if(D.isFunction(a))return this.each(function(b){var c=D(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(a));return D.text(this)},wrapAll:function(a){if(D.isFunction(a))return this.each(function(b){D(this).wrapAll(a.call(this,b))});if(this[0]){var b=D(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(D.isFunction(a))return this.each(function(b){D(this).wrapInner(a.call(this,b))});return this.each(function(){var b=D(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){D(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){D.nodeName(this,"body")||D(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=D(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,D(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||D.filter(a,[d]).length)!b&&d.nodeType===1&&(D.cleanData(d.getElementsByTagName("*")),D.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&D.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return D.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bg,""):null;if(typeof a!="string"||bm.test(a)||!D.support.leadingWhitespace&&bh.test(a)||bo[(bj.exec(a)||["",""])[1].toLowerCase()])D.isFunction(a)?this.each(function(b){var c=D(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(bi,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(D.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(D.isFunction(a))return this.each(function(b){var c=D(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=D(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;D(this).remove(),b?D(b).before(a):D(c).append(a)})}return this.length?this.pushStack(D(D.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!D.support.checkClone&&arguments.length===3&&typeof i=="string"&&bn.test(i))return this.each(function(){D(this).domManip(a,c,d,!0)});if(D.isFunction(i))return this.each(function(e){var f=D(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,D.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=D.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&D.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?s(this[k],f):this[k],e.cacheable||l>1&&k<m?D.clone(g,!0,!0):g)}j.length&&D.each(j,o)}return this}}),D.buildFragment=function(a,b,c){var d,e,f,g=b&&b[0]?b[0].ownerDocument||b[0]:C;a.length===1&&typeof a[0]=="string"&&a[0].length<512&&g===C&&a[0].charAt(0)==="<"&&!bm.test(a[0])&&(D.support.checkClone||!bn.test(a[0]))&&(e=!0,f=D.fragments[a[0]],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),D.clean(a,g,d,c)),e&&(D.fragments[a[0]]=f?d:1);return{fragment:d,cacheable:e}},D.fragments={},D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){D.fn[a]=function(c){var d=[],e=D(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();D(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),D.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,f,g;if((!D.support.noCloneEvent||!D.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!D.isXMLDoc(a)){q(a,d),e=p(a),f=p(d);for(g=0;e[g];++g)q(e[g],f[g])}if(b){r(a,d);if(c){e=p(a),f=p(d);for(g=0;e[g];++g)r(e[g],f[g])}}return d},clean:function(a,b,c,d){b=b||C,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||C);var e=[];for(var f=0,g;(g=a[f])!=null;f++){typeof g=="number"&&(g+="");if(!g)continue;if(typeof g!="string"||bl.test(g)){if(typeof g=="string"){g=g.replace(bi,"<$1></$2>");var h=(bj.exec(g)||["",""])[1].toLowerCase(),i=bo[h]||bo._default,j=i[0],k=b.createElement("div");k.innerHTML=i[1]+g+i[2];while(j--)k=k.lastChild;if(!D.support.tbody){var l=bk.test(g),m=h==="table"&&!l?k.firstChild&&k.firstChild.childNodes:i[1]==="<table>"&&!l?k.childNodes:[];for(var n=m.length-1;n>=0;--n)D.nodeName(m[n],"tbody")&&!m[n].childNodes.length&&m[n].parentNode.removeChild(m[n])}!D.support.leadingWhitespace&&bh.test(g)&&k.insertBefore(b.createTextNode(bh.exec(g)[0]),k.firstChild),g=k.childNodes}}else g=b.createTextNode(g);g.nodeType?e.push(g):e=D.merge(e,g)}if(c)for(f=0;e[f];f++)!d||!D.nodeName(e[f],"script")||e[f].type&&e[f].type.toLowerCase()!=="text/javascript"?(e[f].nodeType===1&&e.splice.apply(e,[f+1,0].concat(D.makeArray(e[f].getElementsByTagName("script")))),c.appendChild(e[f])):d.push(e[f].parentNode?e[f].parentNode.removeChild(e[f]):e[f]);return e},cleanData:function(a){var b,c,d=D.cache,e=D.expando,f=D.event.special,g=D.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&D.noData[i.nodeName.toLowerCase()])continue;c=i[D.expando];if(c){b=d[c]&&d[c][e];if(b&&b.events){for(var j in b.events)f[j]?D.event.remove(i,j):D.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[D.expando]:i.removeAttribute&&i.removeAttribute(D.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/-([a-z])/ig,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv={position:"absolute",visibility:"hidden",display:"block"},bw=["Left","Right"],bx=["Top","Bottom"],by,bz,bA,bB=function(a,b){return b.toUpperCase()};D.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return D.access(this,a,c,!0,function(a,c,d){return d!==b?D.style(a,c,d):D.css(a,c)})},D.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":D.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var f,g=D.camelCase(c),h=a.style,i=D.cssHooks[g];c=D.cssProps[g]||g;if(d===b){if(i&&"get"in i&&(f=i.get(a,!1,e))!==b)return f;return h[c]}if(typeof d=="number"&&isNaN(d)||d==null)return;typeof d=="number"&&!D.cssNumber[g]&&(d+="px");if(!i||!("set"in i)||(d=i.set(a,d))!==b)try{h[c]=d}catch(j){}}},css:function(a,c,d){var e,f=D.camelCase(c),g=D.cssHooks[f];c=D.cssProps[f]||f;if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c,f)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(br,bB)}}),D.curCSS=D.css,D.each(["height","width"],function(a,b){D.cssHooks[b]={get:function(a,c,d){var e;if(c){a.offsetWidth!==0?e=n(a,b,d):D.swap(a,bv,function(){e=n(a,b,d)});if(e<=0){e=by(a,b,b),e==="0px"&&bA&&(e=bA(a,b,b));if(e!=null)return e===""||e==="auto"?"0px":e}if(e<0||e==null){e=a.style[b];return e===""||e==="auto"?"0px":e}return typeof e=="string"?e:e+"px"}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),D.support.opacity||(D.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style;c.zoom=1;var d=D.isNaN(b)?"":"alpha(opacity="+b*100+")",e=c.filter||"";c.filter=bp.test(e)?e.replace(bp,d):c.filter+" "+d}}),D(function(){D.support.reliableMarginRight||(D.cssHooks.marginRight={get:function(a,b){var c;D.swap(a,{display:"inline-block"},function(){b?c=by(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),C.defaultView&&C.defaultView.getComputedStyle&&(bz=function(a,c,d){var e,f,g;d=d.replace(bs,"-$1").toLowerCase();if(!(f=a.ownerDocument.defaultView))return b;if(g=f.getComputedStyle(a,null))e=g.getPropertyValue(d),e===""&&!D.contains(a.ownerDocument.documentElement,a)&&(e=D.style(a,d));return e}),C.documentElement.currentStyle&&(bA=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;!bt.test(d)&&bu.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e));return d===""?"auto":d}),by=bz||bA,D.expr&&D.expr.filters&&(D.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!D.support.reliableHiddenOffsets&&(a.style.display||D.css(a,"display"))==="none"},D.expr.filters.visible=function(a){return!D.expr.filters.hidden(a)});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/(^|\-)([a-z])/g,bR=function(a,b,c){return b+c.toUpperCase()},bS=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bT=D.fn.load,bU={},bV={},bW,bX;try{bW=C.location.href}catch(bY){bW=C.createElement("a"),bW.href="",bW=bW.href}bX=bS.exec(bW.toLowerCase())||[],D.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bT)return bT.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(D.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=D.param(c,D.ajaxSettings.traditional),g="POST"));var h=this;D.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?D("<div>").append(c.replace(bM,"")).find(f):c)),d&&h.each(d,[c,b,a])}});return this},serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?D.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=D(this).val();return c==null?null:D.isArray(c)?D.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),D.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){D.fn[b]=function(a){return this.bind(b,a)}}),D.each(["get","post"],function(a,c){D[c]=function(a,d,e,f){D.isFunction(d)&&(f=f||e,e=d,d=b);return D.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),D.extend({getScript:function(a,c){return D.get(a,b,c,"script")},getJSON:function(a,b,c){return D.get(a,b,c,"json")},ajaxSetup:function(a,b){b?D.extend(!0,a,D.ajaxSettings,b):(b=a,a=D.extend(!0,D.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in D.ajaxSettings&&(a[c]=D.ajaxSettings[c]);return a},ajaxSettings:{url:bW,isLocal:bI.test(bX[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":D.parseJSON,"text xml":D.parseXML}},ajaxPrefilter:m(bU),ajaxTransport:m(bV),ajax:function(a,c){function d(a,c,d,l){if(u!==2){u=2,s&&clearTimeout(s),r=b,p=l||"",x.readyState=a?4:0;var o,q,t,w=d?j(e,x,d):b,y,z;if(a>=200&&a<300||a===304){if(e.ifModified){if(y=x.getResponseHeader("Last-Modified"))D.lastModified[n]=y;if(z=x.getResponseHeader("Etag"))D.etag[n]=z}if(a===304)c="notmodified",o=!0;else try{q=i(e,w),c="success",o=!0}catch(A){c="parsererror",t=A}}else{t=c;if(!c||a)c="error",a<0&&(a=0)}x.status=a,x.statusText=c,o?h.resolveWith(f,[q,c,x]):h.rejectWith(f,[x,c,t]),x.statusCode(m),m=b,v&&g.trigger("ajax"+(o?"Success":"Error"),[x,e,o?q:t]),k.resolveWith(f,[x,c]),v&&(g.trigger("ajaxComplete",[x,e]),--D.active||D.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=D.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof D)?D(f):D.event,h=D.Deferred(),k=D._Deferred(),m=e.statusCode||{},n,o={},p,q,r,s,t,u=0,v,w,x={readyState:0,setRequestHeader:function(a,b){u||(o[a.toLowerCase().replace(bQ,bR)]=b);return this},getAllResponseHeaders:function(){return u===2?p:null},getResponseHeader:function(a){var c;if(u===2){if(!q){q={};while(c=bG.exec(p))q[c[1].toLowerCase()]=c[2]}c=q[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){u||(e.mimeType=a);return this},abort:function(a){a=a||"abort",r&&r.abort(a),d(0,a);return this}};h.promise(x),x.success=x.done,x.error=x.fail,x.complete=k.done,x.statusCode=function(a){if(a){var b;if(u<2)for(b in a)m[b]=[m[b],a[b]];else b=a[x.status],x.then(b,b)}return this},e.url=((a||e.url)+"").replace(bF,"").replace(bK,bX[1]+"//"),e.dataTypes=D.trim(e.dataType||"*").toLowerCase().split(bO),e.crossDomain==null&&(t=bS.exec(e.url.toLowerCase()),e.crossDomain=t&&(t[1]!=bX[1]||t[2]!=bX[2]||(t[3]||(t[1]==="http:"?80:443))!=(bX[3]||(bX[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=D.param(e.data,e.traditional)),l(bU,e,c,x);if(u===2)return!1;v=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bJ.test(e.type),v&&D.active++===0&&D.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bL.test(e.url)?"&":"?")+e.data),n=e.url;if(e.cache===!1){var y=D.now(),z=e.url.replace(bP,"$1_="+y);e.url=z+(z===e.url?(bL.test(e.url)?"&":"?")+"_="+y:"")}}if(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)o["Content-Type"]=e.contentType;e.ifModified&&(n=n||e.url,D.lastModified[n]&&(o["If-Modified-Since"]=D.lastModified[n]),D.etag[n]&&(o["If-None-Match"]=D.etag[n])),o.Accept=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"];for(w in e.headers)x.setRequestHeader(w,e.headers[w]);if(e.beforeSend&&(e.beforeSend.call(f,x,e)===!1||u===2)){x.abort();return!1}for(w in{success:1,error:1,complete:1})x[w](e[w]);r=l(bV,e,c,x);if(r){x.readyState=1,v&&g.trigger("ajaxSend",[x,e]),e.async&&e.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},e.timeout));try{u=1,r.send(o,d)}catch(A){status<2?d(-1,A):D.error(A)}}else d(-1,"No Transport");return x},param:function(a,c){var d=[],e=function(a,b){b=D.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=D.ajaxSettings.traditional);if(D.isArray(a)||a.jquery&&!D.isPlainObject(a))D.each(a,function(){e(this.name,this.value)});else for(var f in a)k(f,a[f],c,e);return d.join("&").replace(bC,"+")}}),D.extend({active:0,lastModified:{},etag:{}});var bZ=D.now(),b$=/(\=)\?(&|$)|\?\?/i;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return D.expando+"_"+bZ++}}),D.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||c.jsonpCallback||c.jsonp!=null||b.jsonp!==!1&&(b$.test(b.url)||e&&b$.test(b.data))){var f,g=b.jsonpCallback=D.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2",l=function(){a[g]=h,f&&D.isFunction(h)&&a[g](f[0])};b.jsonp!==!1&&(i=i.replace(b$,k),b.url===i&&(e&&(j=j.replace(b$,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.then(l,l),b.converters["script json"]=function(){f||D.error(g+" was not called");return f[0]},b.dataTypes[0]="json";return"script"}}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){D.globalEval(a);return a}}}),D.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),D.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=C.head||C.getElementsByTagName("head")[0]||C.documentElement;return{send:function(e,f){c=C.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var b_=D.now(),ca,cb;D.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&g()||f()}:g,cb=D.ajaxSettings.xhr(),D.support.ajax=!!cb,D.support.cors=cb&&"withCredentials"in cb,cb=b,D.support.ajax&&D.ajaxTransport(function(a){if(!a.crossDomain||D.support.cors){var c;return{send:function(d,e){var f=a.xhr(),g,i;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)f[i]=a.xhrFields[i];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(i in d)f.setRequestHeader(i,d[i])}catch(j){}f.send(a.hasContent&&a.data||null),c=function(d,h){var i,j,k,l,m;try{if(c&&(h||f.readyState===4)){c=b,g&&(f.onreadystatechange=D.noop,delete ca[g]);if(h)f.readyState!==4&&f.abort();else{i=f.status,k=f.getAllResponseHeaders(),l={},m=f.responseXML,m&&m.documentElement&&(l.xml=m),l.text=f.responseText;try{j=f.statusText}catch(n){j=""}i||!a.isLocal||a.crossDomain?i===1223&&(i=204):i=l.text?200:404}}}catch(o){h||e(-1,o)}l&&e(i,j,l,k)},a.async&&f.readyState!==4?(ca||(ca={},h()),g=b_++,f.onreadystatechange=ca[g]=c):c()},abort:function(){c&&c(0,1)}}}});var cc={},cd=/^(?:toggle|show|hide)$/,ce=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cf,cg=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];D.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],g=f.style.display,!D._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),g===""&&D.css(f,"display")==="none"&&D._data(f,"olddisplay",d(f.nodeName));for(h=0;h<i;h++){f=this[h],g=f.style.display;if(g===""||g==="none")f.style.display=D._data(f,"olddisplay")||""}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);for(var d=0,f=this.length;d<f;d++){var g=D.css(this[d],"display");g!=="none"&&!D._data(this[d],"olddisplay")&&D._data(this[d],"olddisplay",g)}for(d=0;d<f;d++)this[d].style.display="none";return this},_toggle:D.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";D.isFunction(a)&&D.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:D(this).is(":hidden");D(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=D.speed(b,c,e);if(D.isEmptyObject(a))return this.each(f.complete);return this[f.queue===!1?"each":"queue"](function(){var b=D.extend({},f),c,e=this.nodeType===1,g=e&&D(this).is(":hidden"),h=this;for(c in a){var i=D.camelCase(c);c!==i&&(a[i]=a[c],delete a[c],c=i);if(a[c]==="hide"&&g||a[c]==="show"&&!g)return b.complete.call(this);if(e&&(c==="height"||c==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(D.css(this,"display")==="inline"&&D.css(this,"float")==="none")if(D.support.inlineBlockNeedsLayout){var j=d(this.nodeName);j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)}else this.style.display="inline-block"}D.isArray(a[c])&&((b.specialEasing=b.specialEasing||{})[c]=a[c][1],a[c]=a[c][0])}b.overflow!=null&&(this.style.overflow="hidden"),b.curAnim=D.extend({},a),D.each(a,function(c,d){var e=new D.fx(h,b,c);if(cd.test(d))e[d==="toggle"?g?"show":"hide":d](a);else{var f=ce.exec(d),i=e.cur();if(f){var j=parseFloat(f[2]),k=f[3]||(D.cssNumber[c]?"":"px");k!=="px"&&(D.style(h,c,(j||1)+k),i=(j||1)/e.cur()*i,D.style(h,c,i+k)),f[1]&&(j=(f[1]==="-="?-1:1)*j+i),e.custom(i,j,k)}else e.custom(i,d,"")}});return!0})},stop:function(a,b){var c=D.timers;a&&this.queue([]),this.each(function(){for(var a=c.length-1;a>=0;a--)c[a].elem===this&&(b&&c[a](!0),c.splice(a,1))}),b||this.dequeue();return this}}),D.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){D.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),D.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?D.extend({},a):{complete:c||!c&&b||D.isFunction(a)&&a,duration:a,easing:c&&b||b&&!D.isFunction(b)&&b};d.duration=D.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in D.fx.speeds?D.fx.speeds[d.duration]:D.fx.speeds._default,d.old=d.complete,d.complete=function(){d.queue!==!1&&D(this).dequeue(),D.isFunction(d.old)&&d.old.call(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig||(b.orig={})}}),D.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(D.fx.step[this.prop]||D.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=D.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function d(a){return e.step(a)}var e=this,f=D.fx;this.startTime=D.now(),this.start=a,this.end=b,this.unit=c||this.unit||(D.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,d.elem=this.elem,d()&&D.timers.push(d)&&!cf&&(cf=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=D.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),D(this.elem).show()},hide:function(){this.options.orig[this.prop]=D.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=D.now(),c=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var d in this.options.curAnim)this.options.curAnim[d]!==!0&&(c=!1);if(c){if(this.options.overflow!=null&&!D.support.shrinkWrapBlocks){var e=this.elem,f=this.options;D.each(["","X","Y"],function(a,b){e.style["overflow"+b]=f.overflow[a]})}this.options.hide&&D(this.elem).hide();if(this.options.hide||this.options.show)for(var g in this.options.curAnim)D.style(this.elem,g,this.options.orig[g]);this.options.complete.call(this.elem)}return!1}var h=b-this.startTime;this.state=h/this.options.duration;var i=this.options.specialEasing&&this.options.specialEasing[this.prop],j=this.options.easing||(D.easing.swing?"swing":"linear");this.pos=D.easing[i||j](this.state,h,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return!0}},D.extend(D.fx,{tick:function(){var a=D.timers;for(var b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||D.fx.stop()},interval:13,stop:function(){clearInterval(cf),cf=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){D.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),D.expr&&D.expr.filters&&(D.expr.filters.animated=function(a){return D.grep(D.timers,function(b){return a===b.elem}).length});var ch=/^t(?:able|d|h)$/i,ci=/^(?:body|html)$/i;"getBoundingClientRect"in C.documentElement?D.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){D.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return D.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!D.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||D.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||D.support.boxModel&&g.scrollLeft||h.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}:D.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){D.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return D.offset.bodyOffset(b);D.offset.initialize();var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==g){if(D.offset.supportsFixedPosition&&j.position==="fixed")break;c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,D.offset.doesNotAddBorder&&(!D.offset.doesAddBorderForTableAndCells||!ch.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),D.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;D.offset.supportsFixedPosition&&j.position==="fixed"&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft));return{top:k,left:l}},D.offset={initialize:function(){var a=C.body,b=C.createElement("div"),c,d,e,f,g=parseFloat(D.css(a,"marginTop"))||0,h="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";D.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML=h,a.insertBefore(b,a.firstChild),c=b.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,this.doesNotAddBorder=d.offsetTop!==5,this.doesAddBorderForTableAndCells=f.offsetTop===5,d.style.position="fixed",d.style.top="20px",this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g,a.removeChild(b),D.offset.initialize=D.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;D.offset.initialize(),D.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(D.css(a,"marginTop"))||0,c+=parseFloat(D.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=D.css(a,"position");d==="static"&&(a.style.position="relative");var e=D(a),f=e.offset(),g=D.css(a,"top"),h=D.css(a,"left"),i=(d==="absolute"||d==="fixed")&&D.inArray("auto",[g,h])>-1,j={},k={},l,m;i&&(k=e.position()),l=i?k.top:parseInt(g,10)||0,m=i?k.left:parseInt(h,10)||0,D.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},D.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=ci.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(D.css(a,"marginTop"))||0,c.left-=parseFloat(D.css(a,"marginLeft"))||0,d.top+=parseFloat(D.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(D.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||C.body;while(a&&!ci.test(a.nodeName)&&D.css(a,"position")==="static")a=a.offsetParent;return a})}}),D.each(["Left","Top"],function(a,d){var e="scroll"+d;D.fn[e]=function(d){var f=this[0],g;if(!f)return null;if(d!==b)return this.each(function(){g=c(this),g?g.scrollTo(a?D(g).scrollLeft():d,a?d:D(g).scrollTop()):this[e]=d});g=c(f);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:D.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]}}),D.each(["Height","Width"],function(a,c){var d=c.toLowerCase();D.fn["inner"+c]=function(){return this[0]?parseFloat(D.css(this[0],d,"padding")):null},D.fn["outer"+c]=function(a){return this[0]?parseFloat(D.css(this[0],d,a?"margin":"border")):null},D.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(D.isFunction(a))return this.each(function(b){var c=D(this);c[d](a.call(this,b,c[d]()))});if(D.isWindow(e)){var f=e.document.documentElement["client"+c];return e.document.compatMode==="CSS1Compat"&&f||e.document.body["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var g=D.css(e,d),h=parseFloat(g);return D.isNaN(h)?g:h}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=D})(window),function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(c.css("zIndex"),10);if(!isNaN(d)&&d!==0)return d}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var f=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){if(c===b)return h["inner"+d].call(this);return this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){if(typeof b!="number")return h["outer"+d].call(this,b);return this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){var d=b.nodeName.toLowerCase(),e=a.attr(b,"tabindex");if("area"===d){d=b.parentNode,e=d.name;if(!b.href||!e||d.nodeName.toLowerCase()!=="map")return!1;b=a("img[usemap=#"+e+"]")[0];return!!b&&c(b)}return(/input|select|textarea|button|object/.test(d)?!b.disabled:"a"==d?b.href||!isNaN(e):!isNaN(e))&&c(b)},tabbable:function(b){var c=a.attr(b,"tabindex");return(isNaN(c)||c>=0)&&a(b).is(":focusable")}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){b=a.ui[b].prototype;for(var e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;c=c&&c==="left"?"scrollLeft":"scrollTop";var d=!1;if(b[c]>0)return!0;b[c]=1,d=b[c]>0,b[c]=0;return d},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)a(e).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)},c=new c,c.options=a.extend(!0,{},c.options),a[e][b].prototype=a.extend(!0,c,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)==="_")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b];c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent){b=a.event.props.length;for(var f;b;)f=a.event.props[--b],c[f]=c.originalEvent[f]}this.element.trigger(c,d);return!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(d){if(!0===a.data(d.target,c.widgetName+".preventClickEvent")){a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){c.originalEvent=c.originalEvent||{};if(!c.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=c.which==1,f=typeof this.options.cancel=="string"?a(c.target).parents().add(c.target).filter(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==!1;if(!this._mouseStarted){c.preventDefault();return!0}}!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault();return c.originalEvent.mouseHandled=!0}},_mouseMove:function(c){if(a.browser.msie&&!(document.documentMode>=9)&&!c.button)return this._mouseUp(c);if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1)?this._mouseDrag(c):this._mouseUp(c));return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target==this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,e=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=a.extend({},e);var f=a(e.of),g=f[0],h=(e.collision||"flip").split(" "),i=e.offset?e.offset.split(" "):[0,0],j,k,l;g.nodeType===9?(j=f.width(),k=f.height(),l={top:0,left:0}):g.setTimeout?(j=f.width(),k=f.height(),l={top:f.scrollTop(),left:f.scrollLeft()}):g.preventDefault?(e.at="left top",j=k=0,l={top:e.of.pageY,left:e.of.pageX}):(j=f.outerWidth(),k=f.outerHeight(),l=f.offset()),a.each(["my","at"],function(){var a=(e[this]||"").split(" ");a.length===1&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=b.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",e[this]=a}),h.length===1&&(h[1]=h[0]),i[0]=parseInt(i[0],10)||0,i.length===1&&(i[1]=i[0]),i[1]=parseInt(i[1],10)||0,e.at[0]==="right"?l.left+=j:e.at[0]==="center"&&(l.left+=j/2),e.at[1]==="bottom"?l.top+=k:e.at[1]==="center"&&(l.top+=k/2),l.left+=i[0],l.top+=i[1];return this.each(function(){var b=a(this),c=b.outerWidth(),d=b.outerHeight(),f=parseInt(a.curCSS(this,"marginLeft",!0))||0,g=parseInt(a.curCSS(this,"marginTop",!0))||0,m=c+f+(parseInt(a.curCSS(this,"marginRight",!0))||0),n=d+g+(parseInt(a.curCSS(this,"marginBottom",!0))||0),o=a.extend({},l),p;e.my[0]==="right"?o.left-=c:e.my[0]==="center"&&(o.left-=c/2),e.my[1]==="bottom"?o.top-=d:e.my[1]==="center"&&(o.top-=d/2),o.left=Math.round(o.left),o.top=Math.round(o.top),p={left:o.left-f,top:o.top-g},a.each(["left","top"],function(b,f){a.ui.position[h[b]]&&a.ui.position[h[b]][f](o,{targetWidth:j,targetHeight:k,elemWidth:c,elemHeight:d,collisionPosition:p,collisionWidth:m,collisionHeight:n,offset:i,my:e.my,at:e.at})}),a.fn.bgiframe&&b.bgiframe(),b.offset(a.extend(o,{using:e.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),b.left=d>0?b.left-d:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),b.top=d>0?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!=="center"){var d=a(window);d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var e=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,f=c.at[0]==="left"?c.targetWidth:-c.targetWidth,g=-2*c.offset[0];b.left+=c.collisionPosition.left<0?e+f+g:d>0?e+f+g:0}},top:function(b,c){if(c.at[1]!=="center"){var d=a(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var e=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,f=c.at[1]==="top"?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=c.collisionPosition.top<0?e+f+g:d>0?e+f+g:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0;e={top:c.top-e.top+f,left:c.left-e.left+g},"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];if(!c||!c.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return e.call(this)})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger("start",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",b,c)===!1){this._mouseUp({});return!1}this.position=c.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",b)!==!1&&e._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone():this.element,b.parents("body").length||b.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[(b.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(b.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment)[0];if(c){b=a(b.containment).offset();var e=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),b.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,b.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName),g=b.pageX,h=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),c.grid&&(h=this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1],h=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0],g=this.containment?g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2]?g-this.offset.click.left<this.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g));return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,e){e=e||this._uiHash(),a.ui.plugin.call(this,b,[c,e]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.11"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var e=a(this).data("draggable"),f=e.options,g=a.extend({},c,{item:e.element});e.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(e.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,g))})},stop:function(b,c){var e=a(this).data("draggable"),f=a.extend({},c,{item:e.element});a.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,f))})},drag:function(b,c){var e=a(this).data("draggable"),f=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs,this.instance.helperProportions=e.helperProportions,this.instance.offset.click=e.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",b),e.dropped=this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),e._trigger("fromSortable",b),e.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("opacity")&&(c._opacity=b.css("opacity")),b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options,b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),e=c.options,f=!1;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-c.overflowOffset.top<e.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-c.overflowOffset.left<e.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),e=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var e=a(this).data("draggable"),f=e.options,g=f.snapTolerance,h=c.offset.left,i=h+e.helperProportions.width,j=c.offset.top,k=j+e.helperProportions.height,l=e.snapElements.length-1;l>=0;l--){var m=e.snapElements[l].left,n=m+e.snapElements[l].width,o=e.snapElements[l].top,p=o+e.snapElements[l].height;if(m-g<h&&h<n+g&&o-g<j&&j<p+g||m-g<h&&h<n+g&&o-g<k&&k<p+g||m-g<i&&i<n+g&&o-g<j&&j<p+g||m-g<i&&i<n+g&&o-g<k&&k<p+g){if(f.snapMode!="inner"){var q=Math.abs(o-k)<=g,r=Math.abs(p-j)<=g,s=Math.abs(m-i)<=g,t=Math.abs(n-h)<=g;q&&(c.position.top=e._convertPositionTo("relative",{top:o-e.helperProportions.height,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m-e.helperProportions.width}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n}).left-e.margins.left)}var u=q||r||s||t;f.snapMode!="outer"&&(q=Math.abs(o-j)<=g,r=Math.abs(p-k)<=g,s=Math.abs(m-h)<=g,t=Math.abs(n-i)<=g,q&&(c.position.top=e._convertPositionTo("relative",{top:o,left:0}).top-e.margins.top),r&&(c.position.top=e._convertPositionTo("relative",{top:p-e.helperProportions.height,left:0}).top-e.margins.top),s&&(c.position.left=e._convertPositionTo("relative",{top:0,left:m}).left-e.margins.left),t&&(c.position.left=e._convertPositionTo("relative",{top:0,left:n-e.helperProportions.width}).left-e.margins.left)),!e.snapElements[l].snapping&&(q||r||s||t||u)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=q||r||s||t||u}else e.snapElements[l].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper),c=a(this).data("draggable").options,b.css("zIndex")&&(c._zIndex=b.css("zIndex")),b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options,b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})}(jQuery),function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var e=c||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return!1;var f=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==e.options.scope&&b.accept.call(b.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){f=!0;return!1}});if(f)return!1;if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(e));return this.element}return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.11"}),a.ui.intersect=function(b,c,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left,g=f+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,i=h+b.helperProportions.height,j=c.offset.left,k=j+c.proportions.width,l=c.offset.top,m=l+c.proportions.height;switch(e){case"fit":return j<=f&&g<=k&&l<=h&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&g-b.helperProportions.width/2<k&&l<h+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,l,j,c.proportions.height,c.proportions.width);case"touch":return(h>=l&&h<=m||i>=l&&i<=m||h<l&&i>m)&&(f>=j&&f<=k||g>=j&&g<=k||f<j&&g>k);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var e=a.ui.ddmanager.droppables[b.options.scope]||[],f=c?c.type:null,g=(b.currentItem||b.element).find(":data(droppable)").andSelf(),h=0;a:for(;h<e.length;h++)if(!(e[h].options.disabled||b&&!e[h].accept.call(e[h].element[0],b.currentItem||b.element))){for(var i=0;i<g.length;i++)if(g[i]==e[h].element[0]){e[h].proportions.height=0;continue a}e[h].visible=e[h].element.css("display")!="none",e[h].visible&&(f=="mousedown"&&e[h]._activate.call(e[h],c),e[h].offset=e[h].element.offset(),e[h].proportions={width:e[h].element[0].offsetWidth,height:e[h].element[0].offsetHeight})}},drop:function(b,c){var e=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(e=e||this._drop.call(this,c)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))});return e},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=a.ui.intersect(b,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})}}}(jQuery),function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var f=0;f<d.length;f++){var g=a.trim(d[f]),h=a('<div class="ui-resizable-handle '+("ui-resizable-"+g)+'"></div>');/sw|se|ne|nw/.test(g)&&h.css({zIndex:++c.zIndex}),"se"==g&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(d,f),this._proportionallyResize()}a(this.handles[c])}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide"),b._handles.show()},function(){b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement);return this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,f=this.element.position(),g=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:f.top,left:f.left}),a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=b(this.helper.css("left"));var h=b(this.helper.css("top"));d.containment&&(f+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:h},this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalPosition={left:f,top:h},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor",d=="auto"?this.axis+"-resize":d),g.addClass("ui-resizable-resizing"),this._propagate("start",c);return!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return!1;c=d.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);c=this._respectSize(c,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",a,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var f=this._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName);f=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,g=g?0:d.sizeDiff.width,g={width:d.helper.width()-g,height:d.helper.height()-f},f=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null;var h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(g,{top:h,left:f})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove();return!1},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;a.height?a.width=c.height*this.aspectRatio:a.width&&(a.height=c.width/this.aspectRatio),d=="sw"&&(a.left=b.left+(c.width-a.width),a.top=null),d=="nw"&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width));return a},_respectSize:function(a){var b=this.options,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height;g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight);var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d);d=/nw|ne|n/.test(d),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&d&&(a.top=j-b.minHeight),f&&d&&(a.top=j-b.maxHeight),(b=!a.width&&!a.height)&&!a.left&&a.top?a.top=null:b&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],g=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){a=parseInt(a,10)||0,b=parseInt(g[b],10)||0;return a+b})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0;c=c?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.11"}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof b.alsoResize=="object"&&!b.alsoResize.parentNode?b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)}):c(b.alsoResize)},resize:function(b,c){var d=a(this).data("resizable");b=d.options;var f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,f){a(b).each(function(){var b=a(this),g=a(this).data("resizable-alsoresize"),i={},k=f&&f.length?f:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(k,function(a,b){(a=(g[b]||0)+(h[b]||0))&&a>=0&&(i[b]=a||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(i)})};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?a.each(b.alsoResize,function(a,b){i(a,b)}):i(b.alsoResize)},stop:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};b._revertToRelativePosition&&(b._revertToRelativePosition=!1,typeof c.alsoResize=="object"&&!c.alsoResize.nodeType?a.each(c.alsoResize,function(a){d(a)}):d(c.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,f=c._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:c.sizeDiff.height;g={width:c.size.width-(g?0:c.sizeDiff.width),height:c.size.height-h},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var i=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(g,i&&h?{top:i,left:h}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.element,f=c.options.containment;if(d=f instanceof a?f.get(0):/parent/.test(f)?d.parent().get(0):f){c.containerElement=a(d);if(/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(d),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){h[a]=b(g.css("padding"+c))}),c.containerOffset=g.offset(),c.containerPosition=g.position(),c.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]},f=c.containerOffset;var i=c.containerSize.height,j=c.containerSize.width;j=a.ui.hasScroll(d,"left")?d.scrollWidth:j,i=a.ui.hasScroll(d)?d.scrollHeight:i,c.parentData={element:d,left:f.left,top:f.top,width:j,height:i}}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,f=c.containerOffset,g=c.position;b=c._aspectRatio||b.shiftKey;var h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=f),g.left<(c._helper?f.left:0)&&(c.size.width+=c._helper?c.position.left-f.left:c.position.left-h.left,b&&(c.size.height=c.size.width/d.aspectRatio),c.position.left=d.helper?f.left:0),g.top<(c._helper?f.top:0)&&(c.size.height+=c._helper?c.position.top-f.top:c.position.top,b&&(c.size.width=c.size.height*d.aspectRatio),c.position.top=c._helper?f.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top,d=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),f=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-f.top)+c.sizeDiff.height),g=c.containerElement.get(0)==c.element.parent().get(0),h=/relative|absolute/.test(c.containerElement.css("position")),g&&h&&(d-=c.parentData.left),d+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-d,b&&(c.size.height=c.size.width/c.aspectRatio)),f+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-f,b&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=b.containerOffset,f=b.containerPosition,g=b.containerElement,h=a(b.helper),i=h.offset(),j=h.outerWidth()-b.sizeDiff.width;h=h.outerHeight()-b.sizeDiff.height,b._helper&&!c.animate&&/relative/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h}),b._helper&&!c.animate&&/static/.test(g.css("position"))&&a(this).css({left:i.left-f.left-d.left,width:j,height:h})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof c.ghost=="string"?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("resizable"),c=b.options,d=b.size,f=b.originalSize,g=b.originalPosition,h=b.axis;c.grid=typeof c.grid=="number"?[c.grid,c.grid]:c.grid;var i=Math.round((d.width-f.width)/(c.grid[0]||1))*(c.grid[0]||1);c=Math.round((d.height-f.height)/(c.grid[1]||1))*(c.grid[1]||1),/^(se|s|e)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):/^(ne)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c):(/^(sw)$/.test(h)?(b.size.width=f.width+i,b.size.height=f.height+c):(b.size.width=f.width+i,b.size.height=f.height+c,b.position.top=g.top-c),b.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy();return this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var g=!b.metaKey||!d.$element.hasClass("ui-selected");d.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting"),d.unselecting=!g,d.selecting=g,(d.selected=g)?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element});return!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;if(f>h){var j=h;h=f,f=j}g>i&&(j=i,i=g,g=j),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var j=a.data(this,"selectable-item");if(!!j&&j.element!=c.element[0]){var k=!1;d.tolerance=="touch"?k=!(j.left>h||j.right<f||j.top>i||j.bottom<g):d.tolerance=="fit"&&(k=j.left>f&&j.right<h&&j.top>g&&j.bottom<i),k?(j.selected&&(j.$element.removeClass("ui-selected"),j.selected=!1),j.unselecting&&(j.$element.removeClass("ui-unselecting"),j.unselecting=!1),j.selecting||(j.$element.addClass("ui-selecting"),j.selecting=!0,c._trigger("selecting",b,{selecting:j.element}))):(j.selecting&&(b.metaKey&&j.startselected?(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.$element.addClass("ui-selected"),j.selected=!0):(j.$element.removeClass("ui-selecting"),j.selecting=!1,j.startselected&&(j.$element.addClass("ui-unselecting"),j.unselecting=!0),c._trigger("unselecting",b,{unselecting:j.element}))),j.selected&&!b.metaKey&&!j.startselected&&(j.$element.removeClass("ui-selected"),j.selected=!1,j.$element.addClass("ui-unselecting"),j.unselecting=!0,c._trigger("unselecting",b,{unselecting:j.element})))}});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove();return!1}}),a.extend(a.ui.selectable,{version:"1.8.11"})}(jQuery),function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==f){e=a(this);return!1}}),a.data(b.target,"sortable-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}this.currentItem=e,this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,e){c=this.options;var f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,f._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,e=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),e!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;c>=0;c--){e=this.items[c];var f=e.item[0],g=this._intersectsWithPointer(e);if(g&&f!=this.currentItem[0]&&this.placeholder[g==1?"next":"prev"]()[0]!=f&&!a.ui.contains(this.placeholder[0],f)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],f):!0)){this.direction=g==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e))this._rearrange(b,e);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;c=e.placeholder.offset(),e.reverting=!0,a(this.helper).animate({left:c.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&e.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!e.length&&b.key&&e.push(b.key+"=");return e.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{},c.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")});return e},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left;j=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),c=c&&b,b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();if(!c)return!1;return this.floating?e&&e=="right"||b=="down"?2:1:b&&(b=="down"?2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&b||f=="left"&&!b:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a),this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],e=[],f=this._connectWith();if(f&&b)for(b=f.length-1;b>=0;b--)for(var g=a(f[b]),h=g.length-1;h>=0;h--){var i=a.data(g[h],"sortable");i&&i!=this&&!i.options.disabled&&e.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=e.length-1;b>=0;b--)e[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--)for(var h=a(f[g]),i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}for(g=e.length-1;g>=0;g--){b=e[g][1],f=e[g][0],i=0;for(h=f.length;i<h;i++)j=a(f[i]),j.data("sortable-item",b),c.push({item:j,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var e=this.items[c],f=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;b||(e.width=f.outerWidth(),e.height=f.outerHeight()),f=f.offset(),e.left=f.left,e.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,e=c.options;if(!e.placeholder||e.placeholder.constructor==String){var f=e.placeholder;e.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(f||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];f||(b.style.visibility="hidden");return b},update:function(a,b){if(!f||!!e.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(e.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),e.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,e=null,f=this.containers.length-1;f>=0;f--)if(!a.ui.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(!c||!a.ui.contains(this.containers[f].element[0],c.element[0]))c=this.containers[f],e=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",b,this._uiHash(this)),this.containers[f].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1;else if(this.currentContainer!=this.containers[e]){c=1e4,f=null;for(var g=this.positionAbs[this.containers[e].floating?"left":"top"],h=this.items.length-1;h>=0;h--)if(a.ui.contains(this.containers[e].element[0],this.items[h].item[0])){var i=this.items[h][this.containers[e].floating?"left":"top"];Math.abs(i-g)<c&&(c=Math.abs(i-g),f=this.items[h])}if(f||this.options.dropOnEmpty)this.currentContainer=this.containers[e],f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[e].element,!0),this._trigger("change",b,this._uiHash()),this.containers[e]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem,b.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(b[0].style.width==""||c.forceHelperSize)&&b.width(this.currentItem.width()),(b[0].style.height==""||c.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0];b=a(b.containment).offset();var e=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position),b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,e=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var g=b.pageX,h=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),c.grid&&(h=this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1],h=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h,g=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0],g=this.containment?g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2]?g-this.offset.click.left<this.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g));return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var e=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&e.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||e.push(function(a){this._trigger("remove",a,this._uiHash())});for(f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(f=this.containers.length-1;f>=0;f--)c||e.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(e.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(f=0;f<e.length;f++)e[f].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.11"})}(jQuery),function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,d=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){d.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){d.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){d.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){d.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(d.navigation){var e=b.element.find("a").filter(d.navigationFilter).eq(0);if(e.length){var f=e.closest(".ui-accordion-header");b.active=f.length?f:e.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||d.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),d.event&&b.headers.bind(d.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var d=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(b.autoHeight||b.fillHeight)&&d.css("height","");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(d),b=="icons"&&(this._destroyIcons(),d&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var d=a.ui.keyCode,e=this.headers.length,f=this.headers.index(b.target),g=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:g=this.headers[(f+1)%e];break;case d.LEFT:case d.UP:g=this.headers[(f-1+e)%e];break;case d.SPACE:case d.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}if(g){a(b.target).attr("tabIndex",-1),a(g).attr("tabIndex",0),g.focus();return!1}return!0}},resize:function(){var b=this.options,d;if(b.fillSpace){if(a.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}d=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",e),this.headers.each(function(){d-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,d-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(d=0,this.headers.next().each(function(){d=Math.max(d,a(this).height("").height())}).height(d));return this},activate:function(a){this.options.active=a,a=this._findActive(a)[0],this._clickHandler({target:a},a);return this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,d){var e=this.options;if(!e.disabled)if(b.target){b=a(b.currentTarget||d),d=b[0]===this.active[0],e.active=e.collapsible&&d?!1:this.headers.index(b);if(!(this.running||!e.collapsible&&d)){var f=this.active;j=b.next(),h=this.active.next(),i={options:e,newHeader:d&&e.collapsible?a([]):b,oldHeader:this.active,newContent:d&&e.collapsible?a([]):j,oldContent:h};var g=this.headers.index(this.active[0])>this.headers.index(b[0]);this.active=d?a([]):b,this._toggle(j,h,i,d,g),f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),d||(b.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(e.icons.header).addClass(e.icons.headerSelected),b.next().addClass("ui-accordion-content-active"))}}else if(e.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header),this.active.next().addClass("ui-accordion-content-active");var h=this.active.next(),i={options:e,newHeader:a([]),oldHeader:e.active,newContent:a([]),oldContent:h},j=this.active=a([]);this._toggle(j,h,i)}},_toggle:function(b,d,e,f,g){var h=this,i=h.options;h.toShow=b,h.toHide=d,h.data=e;var j=function(){if(h)return h._completed.apply(h,arguments)};h._trigger("changestart",null,h.data),h.running=d.size()===0?b.size():d.size();if(i.animated){e={},e=i.collapsible&&f?{toShow:a([]),toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace}:{toShow:b,toHide:d,complete:j,down:g,autoHeight:i.autoHeight||i.fillSpace},i.proxied||(i.proxied=i.animated),i.proxiedDuration||(i.proxiedDuration=i.duration),i.animated=a.isFunction(i.proxied)?i.proxied(e):i.proxied,i.duration=a.isFunction(i.proxiedDuration)?i.proxiedDuration(e):i.proxiedDuration,f=a.ui.accordion.animations;var k=i.duration,l=i.animated;l&&!f[l]&&!a.easing[l]&&(l="slide"),f[l]||(f[l]=function(a){this.slide(a,{easing:l,duration:k||700})}),f[l](e)}else i.collapsible&&f?b.toggle():(d.hide(),b.show()),j(!0);d.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.11",animations:{slide:function(b,d){b=a.extend({easing:"swing",duration:300},b,d);if(b.toHide.size())if(b.toShow.size()){var e=b.toShow.css("overflow"),f=0,g={},h={},i;d=b.toShow,i=d[0].style.width,d.width(parseInt(d.parent().width(),10)-parseInt(d.css("paddingLeft"),10)-parseInt(d.css("paddingRight"),10)-(parseInt(d.css("borderLeftWidth"),10)||0)-(parseInt(d.css("borderRightWidth"),10)||0)),a.each(["height","paddingTop","paddingBottom"],function(d,e){h[e]="hide",d=(""+a.css(b.toShow[0],e)).match(/^([\d+-.]+)(.*)$/),g[e]={value:d[1],unit:d[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(h,{step:function(a,c){c.prop=="height"&&(f=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:e}),b.complete()}})}else b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.attr("readonly")){e=!1;var f=a.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:b._move("previousPage",c);break;case f.PAGE_DOWN:b._move("nextPage",c);break;case f.UP:b._move("previous",c),c.preventDefault();break;case f.DOWN:b._move("next",c),c.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:b.menu.active&&(e=!0,c.preventDefault());case f.TAB:if(!b.menu.active)return;b.menu.select(c);break;case f.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){e&&(e=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var e=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==e&&!a.ui.contains(e,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){c=c.item.data("item.autocomplete"),!1!==b._trigger("focus",a,{item:c})&&/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var c=this,f,g;a.isArray(this.options.source)?(f=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(f,b.term))}):typeof this.options.source=="string"?(g=this.options.source,this.source=function(f,h){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:g,data:f,dataType:"json",autocompleteRequest:++b,success:function(a){this.autocompleteRequest===b&&h(a)},error:function(){this.autocompleteRequest===b&&h([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value)return b;return a.map(b,function(b){if(typeof b=="string")return{label:b,value:b};return a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var e=this;a.each(c,function(a,c){e._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)?(this.element.val(this.term),this.menu.deactivate()):this.menu[a](b):this.search(null,b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return e.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.attr("scrollTop"),e=this.element.height();c<0?this.element.attr("scrollTop",d+c):c>=e&&this.element.attr("scrollTop",d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(c,a):this.activate(c,this.element.children(b))):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(".ui-menu-item:first"));else{var c=this.active.offset().top,e=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-e+a(this).height();return b<10&&b>-10});f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(b,f)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||this.first())this.activate(b,this.element.children(".ui-menu-item:last"));else{var c=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+e-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a){var b,c=function(b){a(":ui-button",b.target.form).each(function(){var b=a(this).data("button");setTimeout(function(){b.refresh()},1)})},d=function(b){var c=b.name,d=b.form,e=a([]);c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form}));return e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",c),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.attr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,f=this.options,j=this.type==="checkbox"||this.type==="radio",k="ui-state-hover"+(j?"":" ui-state-active");f.label===null&&(f.label=this.buttonElement.html()),this.element.is(":disabled")&&(f.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){f.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){f.disabled||a(this).removeClass(k)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")}),j&&this.element.bind("change.button",function(){e.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(f.disabled)return!1;a(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(f.disabled)return!1;a(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed",!0);var b=e.element[0];d(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(f.disabled)return!1;a(this).addClass("ui-state-active"),b=this,a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(f.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(f.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",f.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for="+this.element.attr("id")+"]";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="disabled"&&(c?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?d(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function(a,b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,c=b.options,d=c.title||"&#160;",e=a.ui.dialog.getTitleId(b.element),f=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(a){b.moveToTop(!1,a)});b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);var g=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),h=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(g);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(h),a("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(g),a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),g.find("*").add(g).disableSelection(),c.draggable&&a.fn.draggable&&b._makeDraggable(),c.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(c.buttons),b._isOpen=!1,a.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b)){c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d);return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options;if(e.modal&&!b||!e.stack&&!e.modal)return d._trigger("focus",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),b={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(b),d._trigger("focus",c);return d},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keypress.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first");c=c.filter(":last");if(b.target===c[0]&&!b.shiftKey){d.focus(1);return!1}if(b.target===d[0]&&b.shiftKey){c.focus(1);return!1}}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open");return b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d,b=a('<button type="button"></button>').attr(d,!0).unbind("click").click(function(){d.click.apply(c.element[0],arguments)}).appendTo(f),a.fn.button&&b.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=c.options,e=a(document),f;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){f=d.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),c._trigger("dragStart",e,b(h))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(h,i){d.position=[i.position.left-e.scrollLeft(),i.position.top-e.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(f),c._trigger("dragStop",h,b(i)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position");c=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw",e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:c,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var e=this,f={},g=!1;a.each(b,function(a,b){e._setOption(a,b),a in c&&(g=!0),a in d&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,c){var d=this,e=d.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":d._createButtons(c);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case"draggable":var f=e.is(":data(draggable)");f&&!c&&e.draggable("destroy"),!f&&c&&d._makeDraggable();break;case"position":d._position(c);break;case"resizable":(f=e.is(":data(resizable)"))&&!c&&e.resizable("destroy"),f&&typeof c=="string"&&e.resizable("option","handles",c),!f&&c!==!1&&d._makeResizable(c);break;case"title":a(".ui-dialog-title",d.uiDialogTitlebar).html(""+(c||"&#160;"))}a.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c),b.height==="auto"?a.support.minHeight?this.element.css({minHeight:d,height:"auto"}):(this.uiDialog.show(),b=this.element.css("height","auto").height(),e||this.uiDialog.hide(),this.element.height(Math.max(b,d))):this.element.height(Math.max(b.height-c,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id"),a||(this.uuid+=1,a=this.uuid);return"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe(),this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+"px":b+"px"}return a(document).height()+"px"},width:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+"px":b+"px"}return a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options;this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),c.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=a([]),c.range&&(c.range===!0?(this.range=a("<div></div>"),c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&c.values.length!==2&&(c.values=[c.values[0],c.values[0]])):this.range=a("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),(c.range==="min"||c.range==="max")&&this.range.addClass("ui-slider-range-"+c.range),this.range.addClass("ui-widget-header")),a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(c.values&&c.values.length)for(;a(".ui-slider-handle",this.element).length<c.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all"),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(c){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(c,f);if(g===!1)return}}i=b.options.step,g=b.options.values&&b.options.values.length?h=b.values(f):h=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}b._slide(c,f,h);return e}}).keyup(function(c){var e=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,e),b._change(c,e),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,e,f,g,h,i;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e=this._normValueFromMouse({x:b.pageX,y:b.pageY}),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i]));if(this._start(b,i)===!1)return!1;this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),c=g.offset(),this._clickOffset=a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:b.pageX-c.left-g.width()/2,top:b.pageY-c.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;this.orientation==="horizontal"?(b=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),b=a/b,b>1&&(b=1),b<0&&(b=0),this.orientation==="vertical"&&(b=1-b),a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+b*a)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger("start",a,c)},_slide:function(a,b,c){var d;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(d=this.values(),d[b]=c,a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:d}),this.values(b?0:1),a!==!1&&this.values(b,c,!0))):c!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[b],value:c}),a!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){arguments.length&&(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0));return this._value()},values:function(b,c){var e,f,g;arguments.length>1&&(this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b));if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();e=this.options.values,f=arguments[0];for(g=0;g<e.length;g+=1)e[g]=this._trimAlignValue(f[g]),this._change(null,g);this._refreshValue()},_setOption:function(b,c){var e,f=0;a.isArray(this.options.values)&&(f=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(e=0;e<f;e+=1)this._change(null,e);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length){b=this.options.values[a];return b=this._trimAlignValue(b)}b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b;alignValue=a-c,Math.abs(c)*2>=b&&(alignValue+=c>0?b:-b);return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,e=this,f=this._animateOff?!1:c.animate,g,h={},i,j,k,l;this.options.values&&this.options.values.length?this.handles.each(function(b){g=(e.values(b)-e._valueMin())/(e._valueMax()-e._valueMin())*100,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",a(this).stop(1,1)[f?"animate":"css"](h,c.animate),e.options.range===!0&&(e.orientation==="horizontal"?(b===0&&e.range.stop(1,1)[f?"animate":"css"]({left:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({width:g-i+"%"},{queue:!1,duration:c.animate})):(b===0&&e.range.stop(1,1)[f?"animate":"css"]({bottom:g+"%"},c.animate),b===1&&e.range[f?"animate":"css"]({height:g-i+"%"},{queue:!1,duration:c.animate}))),i=g}):(j=this.value(),k=this._valueMin(),l=this._valueMax(),g=l!==k?(j-k)/(l-k)*100:0,h[e.orientation==="horizontal"?"left":"bottom"]=g+"%",this.handle.stop(1,1)[f?"animate":"css"](h,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:g+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:g+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.11"})}(jQuery),function(a,b){function d(){return++f}function c(){return++e}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){a=="selected"?this.options.collapsible&&b==this.options.selected||this.select(b):(this.options[a]=b,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+c()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+d());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d=a(c).attr("href"),h=d.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(d=c.hash,c.href=d),g.test(d)?e.panels=e.panels.add(e.element.find(e._sanitizeSelector(d))):d&&d!=="#"?(a.data(c,"href.tabs",d),a.data(c,"load.tabs",d.replace(/#.*$/,"")),d=e._tabId(c),c.href="#"+d,c=e.element.find("#"+d),c.length||(c=a(f.panelTemplate).attr("id",d).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),c.data("destroy.tabs",!0)),e.panels=e.panels.add(c)):f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash){f.selected=a;return!1}}),typeof f.selected!="number"&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),typeof f.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):f.selected===null&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return e.lis.index(a)}))).sort(),a.inArray(f.selected,f.disabled)!=-1&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie),c=0;for(var h;h=this.lis[c];c++)a(h)[a.inArray(c,f.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(f.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;f.fx&&(a.isArray(f.fx)?(k=f.fx[0],l=f.fx[1]):k=l=f.fx);var m=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){d(c,l),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},n=k?function(a,b){b.animate(k,k.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,k),e.element.dequeue("tabs")})}:function(a,b){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1){this.blur();return!1}f.selected=e.anchors.index(this),e.abort();if(f.collapsible){if(c.hasClass("ui-tabs-selected")){f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,d)}).dequeue("tabs"),this.blur();return!1}if(!d.length){f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this)),this.blur();return!1}}f.cookie&&e._cookie(f.selected,f.cookie);if(g.length)d.length&&e.element.queue("tabs",function(){n(b,d)}),e.element.queue("tabs",function(){m(b,g)}),e.load(e.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},destroy:function(){var b=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),b.cookie&&this._cookie(null,b.cookie);return this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options;d=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),c=c.indexOf("#")?this._tabId(a("a",d)[0]):c.replace("#",""),d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var h=f.element.find("#"+c);h.length||(h=a(g.panelTemplate).attr("id",c).data("destroy.tabs",!0)),h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(d.appendTo(this.list),h.appendTo(this.list[0].parentNode)):(d.insertBefore(this.lis[e]),h.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,d.addClass("ui-tabs-selected ui-state-active"),h.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!=b}),function(a){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1){this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this}},disable:function(a){a=this._getIndex(a);var b=this.options;a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+".tabs");return this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.11"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()});b=c._unrotate||(c._unrotate=b?function(){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)}),a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",b),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",b),delete this._rotate,delete this._unrotate);return this}})}(jQuery),function(d,A){function F(a,b){d.extend(a,b);for(var c in b)if(b[c]==null||b[c]==A)a[c]=b[c];return a}function K(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}d.extend(d.ui,{datepicker:{version:"1.8.11"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){F(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase(),f=e=="div"||e=="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),e=="input"?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'):this.dpDiv}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]),b.trigger=d([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),d.data(a,"datepicker",b))},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=d('<span class="'+this._appendClass+'">'+c+"</span>"),a[e?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),c=this._get(b,"showOn"),(c=="focus"||c=="both")&&a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c}))),a[e?"before":"after"](b.trigger),b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.dpDiv.show())},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst,a||(this.uuid+=1,this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a)),F(a.settings,e||{}),b=b&&b.constructor==Date?this._formatDate(a,b):b,this._dialogInput.val(b),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker"),e=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(e=="div"||e=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();e=="input"?(a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(e=="div"||e=="span")&&b.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();e=="input"?(a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(e=="div"||e=="span")&&b.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;var f=b||{};typeof b=="string"&&(f={},f[b]=c);if(e){this._curInst==e&&this._hideDatepicker();var g=this._getDateDatepicker(a,!0),h=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");F(e.settings,f),h!==null&&f.dateFormat!==A&&f.minDate===A&&(e.settings.minDate=this._formatDate(e,h)),i!==null&&f.dateFormat!==A&&f.maxDate===A&&(e.settings.maxDate=this._formatDate(e,i)),this._attachments(d(a),e),this._autoSize(e),this._setDateDatepicker(a,g),this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=!0,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker(),c=!1;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv),c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?d.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==A?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))&&(d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a))}catch(b){d.datepicker.log(b)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=d("input",a.parentNode)[0]);if(!d.datepicker._isDisabledDatepicker(a)&&d.datepicker._lastInput!=a){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(!0,!0);var c=d.datepicker._get(b,"beforeShow");F(b.settings,c?c.apply(a,[a,b]):{}),b.lastVal=null,d.datepicker._lastInput=a,d.datepicker._setDateFromField(b),d.datepicker._inDialog&&(a.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var e=!1;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return!e}),e&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(b),c=d.datepicker._checkOffset(b,c,e),b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),g=function(){d.datepicker._datepickerShowing=!0;var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=d.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1),d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,g):b.dpDiv[c||"show"](c?f:null,g),(!c||!f)&&g(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end(),c=this._getNumberOfMonths(a),e=c[1],e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),f=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,i=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-g:0,b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+h?d(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>i&&i>e?Math.abs(b.left+e-i):0),b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+h):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b),this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e),a||e(),(a=this._get(b,"onClose"))&&a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){d.datepicker._curInst&&(a=d(a.target),a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)&&d.datepicker._hideDatepicker())},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var c=new Date;b.selectedDay=c.getDate(),b.drawMonth=b.selectedMonth=c.getMonth(),b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b),this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=!1,e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0),b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);!d(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(f[0])&&(f=this._getInst(f[0]),f.selectedDay=f.currentDay=d("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=d(a),this._getInst(a[0]),this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]),b=b!=null?b:this._formatDate(a),a.input&&a.input.val(b),this._updateAlternate(a);var c=this._get(a,"onSelect");c?c.apply(a.input?a.input[0]:null,[b,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],typeof a.input[0]!="object"&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime()),a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0),a.setDate(1);return Math.floor(Math.round((b-a)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=c=-1,j=-1,k=-1,l=!1,m=function(b){(b=r+1<a.length&&a.charAt(r+1)==b)&&r++;return b},n=function(a){var c=m(a);a=new RegExp("^\\d{1,"+(a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2)+"}"),a=b.substring(q).match(a);if(!a)throw"Missing number at position "+q;q+=a[0].length;return parseInt(a[0],10)},o=function(a,c,d){a=m(a)?d:c;for(c=0;c<a.length;c++)if(b.substr(q,a[c].length).toLowerCase()==a[c].toLowerCase()){q+=a[c].length;return c+1}throw"Unknown name at position "+q},p=function(){if(b.charAt(q)!=a.charAt(r))throw"Unexpected literal at position "+q;q++},q=0,r=0;r<a.length;r++)if(l)a.charAt(r)=="'"&&!m("'")?l=!1:p();else switch(a.charAt(r)){case"d":j=n("d");break;case"D":o("D",e,f);break;case"o":k=n("o");break;case"m":i=n("m");break;case"M":i=o("M",g,h);break;case"y":c=n("y");break;case"@":var s=new Date(n("@"));c=s.getFullYear(),i=s.getMonth()+1,j=s.getDate();break;case"!":s=new Date((n("!")-this._ticksTo1970)/1e4),c=s.getFullYear(),i=s.getMonth()+1,j=s.getDate();break;case"'":m("'")?p():l=!0;break;default:p()}c==-1?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=d?0:-100));if(k>-1){i=1,j=k;for(;;){d=this._getDaysInMonth(c,i-1);if(j<=d)break;i++,j-=d}}s=this._daylightSavingAdjust(new Date(c,i-1,j));if(s.getFullYear()!=c||s.getMonth()+1!=i||s.getDate()!=j)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var g=function(b){(b=l+1<a.length&&a.charAt(l+1)==b)&&l++;return b},h=function(a,b,c){b=""+b;if(g(a))for(;b.length<c;)b="0"+b;return b},i=function(a,b,c,d){return g(a)?d[b]:c[b]},j="",k=!1;if(b)for(var l=0;l<a.length;l++)if(k)a.charAt(l)=="'"&&!g("'")?k=!1:j+=a.charAt(l);else switch(a.charAt(l)){case"d":j+=h("d",b.getDate(),2);break;case"D":j+=i("D",b.getDay(),d,e);break;case"o":j+=h("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5,3);break;case"m":j+=h("m",b.getMonth()+1,2);break;case"M":j+=i("M",b.getMonth(),f,c);break;case"y":j+=g("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":j+=b.getTime();break;case"!":j+=b.getTime()*1e4+this._ticksTo1970;break;case"'":g("'")?j+="'":k=!0;break;default:j+=a.charAt(l)}return j},_possibleChars:function(a){for(var b="",c=!1,d=function(b){(b=e+1<a.length&&a.charAt(e+1)==b)&&e++;return b},e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==A?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},f=function(b){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),b,d.datepicker._getFormatConfig(a))}catch(c){}var e=(b.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,f=e.getFullYear(),g=e.getMonth();e=e.getDate();for(var h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":e+=parseInt(i[1],10);break;case"w":case"W":e+=parseInt(i[1],10)*7;break;case"m":case"M":g+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(i[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,g))}i=h.exec(b)}return new Date(f,g,e)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date)),a.selectedDay=a.currentDay=b.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth(),a.drawYear=a.selectedYear=a.currentYear=b.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),g=this._get(a,"navigationAsDateFormat"),h=this._getNumberOfMonths(a),i=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),k=h[0]!=1||h[1]!=1,l=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),m=this._getMinMaxDate(a,"min"),n=this._getMinMaxDate(a,"max");i=a.drawMonth-i;var o=a.drawYear;i<0&&(i+=12,o--);if(n){var p=this._daylightSavingAdjust(new Date(n.getFullYear(),n.getMonth()-h[0]*h[1]+1,n.getDate()));for(p=m&&p<m?m:p;this._daylightSavingAdjust(new Date(o,i,1))>p;)i--,i<0&&(i=11,o--)}a.drawMonth=i,a.drawYear=o,p=this._get(a,"prevText"),p=g?this.formatDate(p,this._daylightSavingAdjust(new Date(o,i-j,1)),this._getFormatConfig(a)):p,p=this._canAdjustMonth(a,-1,o,i)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+p+"</span></a>";var q=this._get(a,"nextText");q=g?this.formatDate(q,this._daylightSavingAdjust(new Date(o,i+j,1)),this._getFormatConfig(a)):q,f=this._canAdjustMonth(a,1,o,i)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+q+"</span></a>",j=this._get(a,"currentText"),q=this._get(a,"gotoCurrent")&&a.currentDay?l:b,j=g?this.formatDate(j,q,this._getFormatConfig(a)):j,g=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?g:"")+(this._isInRange(a,q)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":g)+"</div>":"",g=parseInt(this._get(a,"firstDay"),10),g=isNaN(g)?0:g,j=this._get(a,"showWeek"),q=this._get(a,"dayNames"),this._get(a,"dayNamesShort");var r=this._get(a,"dayNamesMin"),s=this._get(a,"monthNames"),t=this._get(a,"monthNamesShort"),u=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),w=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var x=this._getDefaultDate(a),z="",A=0;A<h[0];A++){for(var B="",C=0;C<h[1];C++){var D=this._daylightSavingAdjust(new Date(o,i,a.selectedDay)),E=" ui-corner-all",F="";if(k){F+='<div class="ui-datepicker-group';if(h[1]>1)switch(C){case 0:F+=" ui-datepicker-group-first",E=" ui-corner-"+(c?"right":"left");break;case h[1]-1:F+=" ui-datepicker-group-last",E=" ui-corner-"+(c?"left":"right");break;default:F+=" ui-datepicker-group-middle",E=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+E+'">'+(/all|left/.test(E)&&A==0?c?f:p:"")+(/all|right/.test(E)&&A==0?c?p:f:"")+this._generateMonthYearHeader(a,i,o,m,n,A>0||C>0,s,t)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var G=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(E=0;E<7;E++){var H=(E+g)%7;G+="<th"+((E+g+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+q[H]+'">'+r[H]+"</span></th>"}F+=G+"</tr></thead><tbody>",G=this._getDaysInMonth(o,i),o==a.selectedYear&&i==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,G)),E=(this._getFirstDayOfMonth(o,i)-g+7)%7,G=k?6:Math.ceil((E+G)/7),H=this._daylightSavingAdjust(new Date(o,i,1-E));for(var I=0;I<G;I++){F+="<tr>";var J=j?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(H)+"</td>":"";for(E=0;E<7;E++){var K=u?u.apply(a.input?a.input[0]:null,[H]):[!0,""],L=H.getMonth()!=i,M=L&&!w||!K[0]||m&&H<m||n&&H>n;J+='<td class="'+((E+g+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(H.getTime()==D.getTime()&&i==a.selectedMonth&&a._keyEvent||x.getTime()==H.getTime()&&x.getTime()==D.getTime()?" "+this._dayOverClass:"")+(M?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+K[1]+(H.getTime()==l.getTime()?" "+this._currentClass:"")+(H.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!L||v)&&K[2]?' title="'+K[2]+'"':"")+(M?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+H.getMonth()+","+H.getFullYear()+', this);return false;"')+">"+(L&&!v?"&#xa0;":M?'<span class="ui-state-default">'+H.getDate()+"</span>":'<a class="ui-state-default'+(H.getTime()==b.getTime()?" ui-state-highlight":"")+(H.getTime()==l.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+'" href="#">'+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H)}F+=J+"</tr>"}i++,i>11&&(i=0,o++),F+="</tbody></table>"+(k?"</div>"+(h[0]>0&&C==h[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),B+=F}z+=B}z+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1;return z},_generateMonthYearHeader:function(a,b,c,e,f,g,h,i){var j=this._get(a,"changeMonth"),k=this._get(a,"changeYear"),l=this._get(a,"showMonthAfterYear"),m='<div class="ui-datepicker-title">',n="";if(g||!j)n+='<span class="ui-datepicker-month">'+h[b]+"</span>";else{h=e&&e.getFullYear()==c;var o=f&&f.getFullYear()==c;n+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var p=0;p<12;p++)(!h||p>=e.getMonth())&&(!o||p<=f.getMonth())&&(n+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+i[p]+"</option>");n+="</select>"}l||(m+=n+(g||!j||!k?"&#xa0;":"")),a.yearshtml="";if(g||!k)m+='<span class="ui-datepicker-year">'+c+"</span>";else{i=this._get(a,"yearRange").split(":");var q=(new Date).getFullYear();h=function(a){a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?q+parseInt(a,10):parseInt(a,10);return isNaN(a)?q:a},b=h(i[0]),i=Math.max(b,h(i[1]||"")),b=e?Math.max(b,e.getFullYear()):b,i=f?Math.min(i,f.getFullYear()):i;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=i;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>",d.browser.mozilla?m+='<select class="ui-datepicker-year"><option value="'+c+'" selected="selected">'+c+"</option></select>":(m+=a.yearshtml,a.yearshtml=null)}m+=this._get(a,"yearSuffix"),l&&(m+=(g||!j||!k?"&#xa0;":"")+n),m+="</div>";return m},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,b))),a.selectedDay=d.getDate(),a.drawMonth=a.selectedMonth=d.getMonth(),a.drawYear=a.selectedYear=d.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max"),b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1)),b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear),b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}}),d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})},d.datepicker=new K,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.11",window["DP_jQuery_"+y]=d}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===b)return this._value();this._setOption("value",a);return this},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;typeof a!="number"&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.11"})}(jQuery),jQuery.effects||function(a,b){function i(b){if(!b||typeof b=="number"||a.fx.speeds[b])return!0;if(typeof b=="string"&&!a.effects[b])return!0;return!1}function h(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete;return[b,c,d,e]}function g(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function f(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function e(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function c(b){var c;if(b&&b.constructor==Array&&b.length==3)return b;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55];if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(b))return j.transparent;return j[a.trim(b).toLowerCase()]}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){a.isFunction(d)&&(h=d,d=null);return this.queue("fx",function(){var i=a(this),j=i.attr("style")||" ",l=f(e.call(this)),m,n=i.attr("className");a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),m=f(e.call(this)),i.attr("className",n),i.animate(g(l,m),c,d,function(){a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),typeof i.attr("style")=="object"?(i.attr("style").cssText="",i.attr("style").cssText=j):i.attr("style",j),h&&h.apply(this,arguments)}),l=a.queue(this),m=l.splice(l.length-1,1)[0],l.splice(1,0,m),a.dequeue(this)})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.11",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){b=="toggle"&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});b.wrap(d),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return d.css(c).show()},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent().replaceWith(a);return a},setTransition:function(b,c,d,e){e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])});return e}}),a.fn.extend({effect:function(b){var c=h.apply(this,arguments),d={options:c[1],duration:c[2],callback:c[3]};c=d.options.mode;var e=a.effects[b];if(a.fx.off||!e)return c?this[c](d.duration,d.callback):this.each(function(){d.callback&&d.callback.call(this)});return e.call(this,d)},_show:a.fn.show,show:function(a){if(i(a))return this._show.apply(this,arguments);var b=h.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(i(a))return this._hide.apply(this,arguments);var b=h.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(i(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])});return d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(b==0)return c;if((b/=e)==1)return c+d;f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return-(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f))+c},easeOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(b==0)return c;if((b/=e)==1)return c+d;f||(f=e*.3),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return g*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+d+c},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(b==0)return c;if((b/=e/2)==2)return c+d;f||(f=e*.3*1.5),g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);if(b<1)return-0.5*g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)+c;return g*Math.pow(2,-10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)*.5+d+c},easeInBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);if((c/=f/2)<1)return e/2*c*c*(((g*=1.525)+1)*c-g)+d;return e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){if(c<f/2)return a.easing.easeInBounce(b,c*2,0,e,f)*.5+d;return a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a){a.effects.blind=function(c){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,c.options.mode||"hide"),g=c.options.direction||"vertical";a.effects.save(d,e),d.show();var h=a.effects.createWrapper(d).css({overflow:"hidden"}),i=g=="vertical"?"height":"width";g=g=="vertical"?h.height():h.width(),f=="show"&&h.css(i,0);var j={};j[i]=f=="show"?g:0,h.animate(j,c.duration,c.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],f=a.effects.setMode(c,b.options.mode||"effect"),g=b.options.direction||"up",h=b.options.distance||20,i=b.options.times||5,j=b.duration||250;/show|hide/.test(f)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var k=g=="up"||g=="down"?"top":"left";g=g=="up"||g=="left"?"pos":"neg",h=b.options.distance||(k=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3),f=="show"&&c.css("opacity",0).css(k,g=="pos"?-h:h),f=="hide"&&(h/=i*2),f!="hide"&&i--;if(f=="show"){var l={opacity:1};l[k]=(g=="pos"?"+=":"-=")+h,c.animate(l,j/2,b.options.easing),h/=2,i--}for(l=0;l<i;l++){var m={},n={};m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing),h=f=="hide"?h*2:h/2}f=="hide"?(l={opacity:0},l[k]=(g=="pos"?"-=":"+=")+h,c.animate(l,j/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})):(m={},n={},m[k]=(g=="pos"?"-=":"+=")+h,n[k]=(g=="pos"?"+=":"-=")+h,c.animate(m,j/2,b.options.easing).animate(n,j/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.clip=function(c){return this.queue(function(){var d=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(d,c.options.mode||"hide"),h=c.options.direction||"vertical";a.effects.save(d,f),d.show();var i=a.effects.createWrapper(d).css({overflow:"hidden"});i=d[0].tagName=="IMG"?i:d;var j={size:h=="vertical"?"height":"width",position:h=="vertical"?"top":"left"};h=h=="vertical"?i.height():i.width(),g=="show"&&(i.css(j.size,0),i.css(j.position,h/2));var k={};k[j.size]=g=="show"?h:0,k[j.position]=g=="show"?0:h/2,i.animate(k,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){g=="hide"&&d.hide(),a.effects.restore(d,f),a.effects.removeWrapper(d),c.callback&&c.callback.apply(d[0],arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.drop=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right","opacity"],g=a.effects.setMode(e,b.options.mode||"hide"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e);var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0})/2:e.outerWidth({margin:!0})/2);g=="show"&&e.css("opacity",0).css(i,h=="pos"?-j:j);var k={opacity:g=="show"?1:0};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;i<c;i++)for(var k=0;k<d;k++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-k*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+k*(g/d)+(b.options.mode=="show"?(k-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+k*(g/d)+(b.options.mode=="show"?0:(k-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.fold=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right"],f=a.effects.setMode(d,b.options.mode||"hide"),g=b.options.size||15,h=!!b.options.horizFirst,i=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(d,e),d.show();var j=a.effects.createWrapper(d).css({overflow:"hidden"}),k=f=="show"!=h,l=k?["width","height"]:["height","width"];k=k?[j.width(),j.height()]:[j.height(),j.width()];var m=/([0-9]+)%/.exec(g);m&&(g=parseInt(m[1],10)/100*k[f=="hide"?0:1]),f=="show"&&j.css(h?{height:0,width:g}:{height:g,width:0}),h={},m={},h[l[0]]=f=="show"?k[0]:g,m[l[1]]=f=="show"?k[1]:0,j.animate(h,i,b.options.easing).animate(m,i,b.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),b.callback&&b.callback.apply(d[0],arguments),d.dequeue()})})}}(jQuery),function(a){a.effects.highlight=function(c){return this.queue(function(){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,c.options.mode||"show"),g={backgroundColor:d.css("backgroundColor")};f=="hide"&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(g,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){f=="hide"&&d.hide(),a.effects.restore(d,e),f=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),c.callback&&c.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),e=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(e=="hide"&&isVisible||e=="show"&&!isVisible)&&times--;for(e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a){a.effects.puff=function(b){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,b.options.mode||"hide"),f=parseInt(b.options.percent,10)||150,g=f/100,h={height:d.height(),width:d.width()};a.extend(b.options,{fade:!0,mode:e,percent:e=="hide"?f:100,from:e=="hide"?h:{height:h.height*g,width:h.width*g}}),d.effect("scale",b.options,b.duration,b.callback),d.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var d=a(this),e=a.extend(!0,{},b.options),f=a.effects.setMode(d,b.options.mode||"effect"),g=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:f=="hide"?0:100),h=b.options.direction||"both",i=b.options.origin;f!="effect"&&(e.origin=i||["middle","center"],e.restore=!0),i={height:d.height(),width:d.width()},d.from=b.options.from||(f=="show"?{height:0,width:0}:i),g={y:h!="horizontal"?g/100:1,x:h!="vertical"?g/100:1},d.to={height:i.height*g.y,width:i.width*g.x},b.options.fade&&(f=="show"&&(d.from.opacity=0,d.to.opacity=1),f=="hide"&&(d.from.opacity=1,d.to.opacity=0)),e.from=d.from,e.to=d.to,e.mode=f,d.effect("size",e,b.duration,b.callback),d.dequeue()})},a.effects.size=function(b){return this.queue(function(){var d=a(this),e=["position","top","bottom","left","right","width","height","overflow","opacity"],f=["position","top","bottom","left","right","overflow","opacity"],g=["width","height","overflow"],h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=a.effects.setMode(d,b.options.mode||"effect"),l=b.options.restore||!1,m=b.options.scale||"both",n=b.options.origin,o={height:d.height(),width:d.width()};d.from=b.options.from||o,d.to=b.options.to||o,n&&(n=a.effects.getBaseline(n,o),d.from.top=(o.height-d.from.height)*n.y,d.from.left=(o.width-d.from.width)*n.x,d.to.top=(o.height-d.to.height)*n.y,d.to.left=(o.width-d.to.width)*n.x);var p={from:{y:d.from.height/o.height,x:d.from.width/o.width},to:{y:d.to.height/o.height,x:d.to.width/o.width}};if(m=="box"||m=="both")p.from.y!=p.to.y&&(e=e.concat(i),d.from=a.effects.setTransition(d,i,p.from.y,d.from),d.to=a.effects.setTransition(d,i,p.to.y,d.to)),p.from.x!=p.to.x&&(e=e.concat(j),d.from=a.effects.setTransition(d,j,p.from.x,d.from),d.to=a.effects.setTransition(d,j,p.to.x,d.to));(m=="content"||m=="both")&&p.from.y!=p.to.y&&(e=e.concat(h),d.from=a.effects.setTransition(d,h,p.from.y,d.from),d.to=a.effects.setTransition(d,h,p.to.y,d.to)),a.effects.save(d,l?e:f),d.show(),a.effects.createWrapper(d),d.css("overflow","hidden").css(d.from);if(m=="content"||m=="both")i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g=e.concat(i).concat(j),d.find("*[width]").each(function(){child=a(this),l&&a.effects.save(child,g);var d={height:child.height(),width:child.width()};child.from={height:d.height*p.from.y,width:d.width*p.from.x},child.to={height:d.height*p.to.y,width:d.width*p.to.x},p.from.y!=p.to.y&&(child.from=a.effects.setTransition(child,i,p.from.y,child.from),child.to=a.effects.setTransition(child,i,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=a.effects.setTransition(child,j,p.from.x,child.from),child.to=a.effects.setTransition(child,j,p.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){l&&a.effects.restore(child,g)})});d.animate(d.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){d.to.opacity===0&&d.css("opacity",d.from.opacity),k=="hide"&&d.hide(),a.effects.restore(d,l?e:f),a.effects.removeWrapper(d),b.callback&&b.callback.apply(this,arguments),d.dequeue()}})})}}(jQuery),function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),e=["position","top","bottom","left","right"];a.effects.setMode(c,b.options.mode||"effect");var f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,e),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg";f={};var l={},m={};f[j]=(k=="pos"?"-=":"+=")+g,l[j]=(k=="pos"?"+=":"-=")+g*2,m[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(f,i,b.options.easing);for(g=1;g<h;g++)c.animate(l,i,b.options.easing).animate(m,i,b.options.easing);c.animate(l,i,b.options.easing).animate(f,i/2,b.options.easing,function(){a.effects.restore(c,e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a){a.effects.slide=function(b){return this.queue(function(){var e=a(this),f=["position","top","bottom","left","right"],g=a.effects.setMode(e,b.options.mode||"show"),h=b.options.direction||"left";a.effects.save(e,f),e.show(),a.effects.createWrapper(e).css({overflow:"hidden"});var i=h=="up"||h=="down"?"top":"left";h=h=="up"||h=="left"?"pos":"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:!0}):e.outerWidth({margin:!0}));g=="show"&&e.css(i,h=="pos"?isNaN(j)?"-"+j:-j:j);var k={};k[i]=(g=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+j,e.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){g=="hide"&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),b.callback&&b.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),f=d.offset();d={top:f.top,left:f.left,height:d.innerHeight(),width:d.innerWidth()},f=c.offset();var g=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:f.top,left:f.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){g.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a){a.extend(a.ajaxSettings,{accepts:{_default:"text/javascript, text/html, application/xml, text/xml, */*"}})}(jQuery),function(a){a.fn.reset=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(){return this.each(function(){this.disabled=!1})},a.fn.disable=function(){return this.each(function(){this.disabled=!0})}}(jQuery),function(a){a.extend({fieldEvent:function(a,b){var c=a[0]||a,d="change";c.type=="radio"||c.type=="checkbox"?d="click":b&&(c.type=="text"||c.type=="textarea"||c.type=="password")&&(d="keyup");return d}}),a.fn.extend({delayedObserver:function(b,c){var d=a(this);typeof window.delayedObserverStack=="undefined"&&(window.delayedObserverStack=[]),typeof window.delayedObserverCallback=="undefined"&&(window.delayedObserverCallback=function(a){var b=window.delayedObserverStack[a];b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){b.timer=null,b.callback(b.obj,b.obj.formVal())},b.delay*1e3),b.oldVal=b.obj.formVal()}),window.delayedObserverStack.push({obj:d,timer:null,delay:b,oldVal:d.formVal(),callback:c});var e=window.delayedObserverStack.length-1;d[0].tagName=="FORM"?a(":input",d).each(function(){var c=a(this);c.bind(a.fieldEvent(c,b),function(){var a=window.delayedObserverStack[e];a.obj.formVal()!=a.oldVal&&window.delayedObserverCallback(e)})}):d.bind(a.fieldEvent(d,b),function(){var a=window.delayedObserverStack[e];a.obj.formVal()!=a.oldVal&&window.delayedObserverCallback(e)})},formVal:function(){var a=this[0];if(a.tagName=="FORM")return this.serialize();return a.type=="checkbox"||a.type=="radio"?this.filter("input:checked").val()||"":this.val()}})}(jQuery),function($){$.fn.extend({visualEffect:function(o,options){options?speed=options.duration*1e3:speed=null,e=o.replace(/\_(.)/g,function(a,b){return b.toUpperCase()});return eval("$(this)."+e+"("+speed+")")},appear:function(a,b){return this.fadeIn(a,b)},blindDown:function(a,b){return this.show("blind",{direction:"vertical"},a,b)},blindUp:function(a,b){return this.hide("blind",{direction:"vertical"},a,b)},blindRight:function(a,b){return this.show("blind",{direction:"horizontal"},a,b)},blindLeft:function(a,b){this.hide("blind",{direction:"horizontal"},a,b);return this},dropOut:function(a,b){return this.hide("drop",{direction:"down"},a,b)},dropIn:function(a,b){return this.show("drop",{direction:"up"},a,b)},fade:function(a,b){return this.fadeOut(a,b)},fadeToggle:function(a,b){return this.animate({opacity:"toggle"},a,b)},fold:function(a,b){return this.hide("fold",{},a,b)},foldOut:function(a,b){return this.show("fold",{},a,b)},grow:function(a,b){return this.show("scale",{},a,b)},highlight:function(a,b){return this.show("highlight",{},a,b)},puff:function(a,b){return this.hide("puff",{},a,b)},pulsate:function(a,b){return this.show("pulsate",{},a,b)},shake:function(a,b){return this.show("shake",{},a,b)},shrink:function(a,b){return this.hide("scale",{},a,b)},squish:function(a,b){return this.hide("scale",{origin:["top","left"]},a,b)},slideUp:function(a,b){return this.hide("slide",{direction:"up"},a,b)},slideDown:function(a,b){return this.show("slide",{direction:"up"},a,b)},switchOff:function(a,b){return this.hide("clip",{},a,b)},switchOn:function(a,b){return this.show("clip",{},a,b)}})}(jQuery),Number.prototype.floor=function(){return Math.floor(this)},Number.prototype.round=function(){return Math.round(this)},String.prototype.startsWith=function(a){return this.indexOf(a)===0},String.prototype.endsWith=function(a){return this.match(a+"$")==a},Array.prototype.arrayEqual=function(a){return this.every(function(b,c,d){return b.every&&typeof b=="object"&&a[c].every&&typeof a[c]=="object"?b.arrayEqual(a[c]):b==a[c]})},Array.prototype.unique=function(){var a={},b,c=this.length,d=[];for(b=0;b<l;b+=1)a[this[b]]=this[b];for(b in a)d.push(a[b]);return d},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=0;arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==Infinity&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;var e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.every||(Array.prototype.every=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;var c=arguments[1];for(var d=0;d<b;d++)if(d in this&&!a.call(c,this[d],d,this))return!1;return!0}),Array.prototype.map||(Array.prototype.map=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;var c=Array(b),d=arguments[1];for(var e=0;e<b;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;var c=[],d=arguments[1];for(var e=0;e<b;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c}),Array.prototype.some||(Array.prototype.some=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;var c=arguments[1];for(var d=0;d<b;d++)if(d in this&&a.call(c,this[d],d,this))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(this==null)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if({}.toString.call(a)!="[object Function]")throw new TypeError(a+" is not a function");b&&(c=b),d=0;while(d<f){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),function(a){var b="rpm";a[b]=a[b]||{},a[b].component=function(c){return a.extend({},a[b].component.prototype,c)},a[b].component.prototype={debug:typeof RPM=="undefined"||typeof RPM.debug=="undefined"?!1:RPM.debug,_log:function(){if(this.debug){var b=Array.prototype.slice.apply(arguments),c=b.shift();this.component&&b.unshift(this.component+":");if(typeof console!="undefined"&&console[c])if(a.isFunction(console[c]))console[c].apply(console,b);else try{console[c](b.join(", "))}catch(d){}}},log:function(){var a=Array.prototype.slice.apply(arguments);a.unshift("log"),this._log.apply(this,a)},error:function(){var a=Array.prototype.slice.apply(arguments);a.unshift("error"),this._log.apply(this,a)}}}(jQuery),function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1},b.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||d.compatMode=="BackCompat"?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){typeof e=="object"&&(f=e,e=0),typeof f=="function"&&(f={onAfter:f}),d=="max"&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over);return this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)})}var g=this,h=a(g),i=d,j,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}i=a(i,this);case"object":if(i.is||i.style)j=(i=a(i)).offset()}a.each(f.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i[c=="x"?"width":"height"]()*f.over[e]);else{var q=i[e];k[n]=q.slice&&q.slice(-1)=="%"?parseFloat(q)/100*p:q}/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}).end()},b.max=function(b,c){var d=c=="x"?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a,b,c){function j(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var d="hashchange",e=document,f,g=a.event.special,h=e.documentMode,i="on"+d in b&&(h===c||h>7);a.fn[d]=function(a){return a?this.bind(d,a):this.trigger(d)},a.fn[d].delay=50,g[d]=a.extend(g[d],{setup:function(){if(i)return!1;a(f.start)},teardown:function(){if(i)return!1;a(f.stop)}}),f=function(){function n(){var c=j(),e=m(h);c!==h?(l(h=c,e),a(b).trigger(d)):e!==h&&(location.href=location.href.replace(/#.*/,"")+e),g=setTimeout(n,a.fn[d].delay)}var f={},g,h=j(),k=function(a){return a},l=k,m=k;f.start=function(){g||n()},f.stop=function(){g&&clearTimeout(g),g=c},a.browser.msie&&!i&&function(){var b,c;f.start=function(){b||(c=a.fn[d].src,c=c&&c+j(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||l(j()),n()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=function(){try{event.propertyName==="title"&&(b.document.title=e.title)}catch(a){}})},f.stop=k,m=function(){return j(b.location.href)},l=function(c,f){var g=b.document,h=a.fn[d].domain;c!==f&&(g.title=e.title,g.open(),h&&g.write('<script>document.domain="'+h+'"</script>'),g.close(),b.location.hash=c)}}();return f}()}(jQuery,this),function(a){a.ajaxState=a.rpm.component({component:"jQuery.ajaxState",version:"1.6",states:{},lastHash:unescape(window.location.hash),pollingInterval:250,init:function(){a.ajaxState.parseURL(),a(function(){a.ajaxState.updatePermalink(unescape(window.location.hash))}),a.ajaxState.start()},handleChange:function(){a.ajaxState.lastHash=unescape(window.location.hash),a.ajaxState.updatePermalink(unescape(window.location.hash)),a.ajaxState.parseURL()},start:function(){a.fn.delay=a.ajaxState.pollingInterval,a(window).hashchange(a.ajaxState.handleChange)},stop:function(){a(window).unbind("hashchange",a.ajaxState.handleChange)},newState:function(b,c,d,e){typeof a.ajaxState.states[b]=="undefined"?(a.ajaxState.states[b]={},a.ajaxState.states[b].func=c,a.ajaxState.states[b].info=d,a.ajaxState.states[b].default_info=e):a.ajaxState.states[b]&&(a.ajaxState.states[b].func=c,a.ajaxState.states[b].default_info=e)},getState:function(b,c){c=c||"";return a.ajaxState.states[b]?a.ajaxState.states[b].info:c},register:function(b,c,d,e){if(typeof b=="undefined"||typeof c=="undefined"||!b||!c)return!1;var d=typeof d=="undefined"?null:d,f=d===null?null:d,g=!!a.ajaxState.states[b],h=a.ajaxState.states[b]&&!a.ajaxState.states[b].func;a.ajaxState.newState(b,c,f,d);var i=!e&&(h||!g&&d!==null||g&&a.ajaxState.states[b].info!==null);a.ajaxState.log("register:",b,""+a.ajaxState.getState(b,null),". restoring: "+(i?!0:!1)),i&&a(function(){a.ajaxState.restore(b,!1)});return!0},change:function(b,c,d,e){var d=d===undefined?!0:d;if(a.ajaxState.states[b]&&a.ajaxState.states[b].func){if(a.ajaxState.states[b].blockNextChange&&!e){delete a.ajaxState.states[b].blockNextChange;return}if(a.ajaxState.states[b].info==c)return;a.ajaxState.states[b].info=c,a.ajaxState.log("change:",b,c,a.ajaxState.states[b]),d&&a.ajaxState.updateURL()}},perform:function(b,c){a.ajaxState.change(b,c,!0),a.ajaxState.restore(b,!1)},restore:function(b,c){a.ajaxState.states[b]&&a.ajaxState.states[b].func&&(c&&(a.ajaxState.states[b].blockNextChange=!0),a.ajaxState.states[b].func.apply(null,[a.ajaxState.states[b].info]))},updateURL:function(){if(!a.browser.msie){var b=[];a.each(a.ajaxState.states,function(a){this.info!==null&&(this.default_info===null||this.default_info!==null&&this.info!=this.default_info)&&b.push(a+"="+encodeURIComponent(this.info))}),b=b.join("&");if(b!=a.ajaxState.lastHash)if(b.length>0)window.location="#"+b;else{var c=a(window).scrollTop();window.location.hash="",a.scrollTo(c)}a.ajaxState.lastHash=unescape(window.location.hash)}},updatePermalink:function(b){var c=a("#permalink"),d=c.text();c.length>0&&d.indexOf("#")!=-1?RPM.permalink.update(d.replace(/#.+/,b)):RPM.permalink.update(d+b)},parseURL:function(){var b={},c=a.trim(unescape(window.location.hash.substr(1)));if(c!==""){var c=c.split("&");a.each(c,function(c,d){if(d.length&&d.length>0){var e=d.split("=");if(e.length==2){var f=a.trim(e[1]);f!==""&&(b[e[0]]=f)}}})}a.each(a.ajaxState.states,function(c){if(this.func===null){delete a.ajaxState.states[c];return!0}if(typeof b[c]!="undefined"){var d=this.info;this.info=b[c],delete b[c],d!=this.info&&a.ajaxState.restore(c,!0)}else this.info!==null&&this.info!=this.default_info&&(this.info=this.default_info,a.ajaxState.restore(c,!0))}),a.each(b,function(b,c){a.ajaxState.newState(b,null,c,null),a.ajaxState.states[b].info=c})}})}(jQuery),window.RPM=window.RPM||{},function(a){RPM.URL=function(b,c){var c=c||{},d=a.extend({},RPM.context,c);a.each(d,function(a,c){b=b.replace(a.toUpperCase(),c)});return b},RPM.timeWindowParameters=function(){return RPM.time_window!==undefined?jQuery.param({tw:RPM.time_window}):""},RPM.get_complete_url=function(){var a=window.location.pathname;window.location.search.length>0&&(a+=window.location.search);var b=RPM.timeWindowParameters();b.length>0&&(a.indexOf("?")>-1?a+="&"+b:a+="?"+b);var c=encodeURIComponent(decodeURIComponent(window.location.hash.substring(1)));c.length>0&&(a+="#"+c);return a},RPM.javascript_for_page=function(a,b){jQuery(function(){var c=jQuery("body"),d=!0;jQuery.each(a.split(" "),function(a,b){d=d&&c.hasClass(b);return d}),d&&b(jQuery)})},RPM.install_check_all_handler=function(b,c){a(b).click(function(){var b=a(this).is(":checked");a(c).attr("checked",b)})},jQuery.extend({getUrlVars:function(){var a=[],b,c=[];window.location.href.indexOf("?")==-1?c=window.location.href.slice(window.location.href.indexOf("#")+1).split("&"):c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var d=0;d<c.length;d++)b=c[d].split("="),a.push(b[0]),a[b[0]]=b[1];return a},getUrlVar:function(b){var c=a.getUrlVars(),d=null;typeof b!="undefined"&&b!=null&&c.length>=1&&(d=c[b]);return d}}),a(function(a){var b=a("table.agent_display.drilldown").not(".evented");b.addClass("evented").find("tbody > tr > td:has(> a)").each(function(){var c=a(this),d=c.children("a").eq(0);c.parent().addClass("drilldown").end().addClass("drilldown").click(function(a){var c=d.attr("href");b.hasClass("drilldown")&&a.target!=d[0]&&d.triggerHandler("click")!==!1&&c!="#"&&(window.location=d.attr("href"))})})}),RPM.bind_table_row_link_events=function(b,c){var c=c||1,d=a(b).not(".evented");d.addClass("evented drilldown").find("tbody > tr > td:has(a):nth-child("+c+") > a").each(function(){var b=a(this);b.parent().parent().addClass("drilldown").children("td:not(:has(a))").add(b.parent()).addClass("drilldown").click(function(a){var c=b.attr("href");d.hasClass("drilldown")&&a.target!=b[0]&&b.triggerHandler("click")!==!1&&c!="#"&&(window.location=b.attr("href"))}).filter(":last-child").addClass("last")})},a(function(){RPM.bind_table_row_link_events(".transaction_traces_summary table, .errors_summary table")}),RPM.stackTrace=function(){var b=a(this);a(".show_rails_link, .hide_rails_link").not(".evented").addClass("evented").click(function(b){var c=a(this).attr("id"),d=c.match(/_(_?[0-9]+)$/i)[1];a("#full_stack_trace_"+d).toggle(),a("#application_stack_trace_"+d).toggle(),a("#show_rails_link_"+d).toggle(),a("#hide_rails_link_"+d).toggle(),b.preventDefault(),b.stopPropagation()})},a(RPM.stackTrace),RPM.bind_flat_tabs_links=function(){a("h3.section > ul.jump_nav a").live("click",function(b){a.scrollTo(a(b.target).attr("href").replace(/.+(#.+)$/,"$1"),{duration:350}),b.preventDefault()})},a(RPM.bind_flat_tabs_links),a.fn.bind_close_button=function(b){var c=a(this);c.find("a.close.corner_button").not(".evented").click(function(c){a(this).addClass("evented"),c.preventDefault(),b.apply(this,[c])});return c},function(){var b=0;a.fn.cover=function(c){var d=this.filter(":visible");d.each(function(){var d=a(this),e=d.offset(),f="jquery_cover_"+ ++b,g=a('<div id="'+f+'" class="jquery_cover"></div>');g.addClass(c),g.css({top:e.top+"px",left:e.left+"px",width:d.outerWidth(!0)+"px",height:d.outerHeight(!0)+"px"}),d.addClass("jquery_covered").data("cover_key",f),a("body").append(g)});return this},a.fn.uncover=function(){var b=this.filter(".jquery_covered:visible");b.each(function(){var b=a(this),c=b.data("cover_key");if(!c)return!0;var d=a("#"+c);b.removeClass("jquery_covered").data("cover_key",null),d.remove()});return this},a.fn.preventOverflow=function(){var b=this;b.each(function(){a(this).wrap("<table class='prevent_overflow'><tr><td></td></tr></table>")});return this}}(),a.delayedFunction=function(a,b){var c=null,d=b||250;return function(){c==null&&(c=setTimeout(function(){c=null,a()},d))}}}(jQuery),function(a){RPM.add_flash_message=function(b,c,d,e){typeof e=="undefined"&&(e=!1),RPM.remove_flash_message(c,!0);var f="#primary_content";a('<div id="'+c+'_flash_message" class="flash '+b+'"><div class="content"></div></div>').hide().children("div").html(d).end().prependTo(f).slideDown("fast"),e&&(a("#"+c+"_flash_message").prepend('<div class="actions"><a href="#">Hide</a></div>'),a("#"+c+"_flash_message .actions a").click(function(){a("#"+c+"_flash_message").slideUp("fast");return!1}))},RPM.remove_flash_message=function(b,c){c?a("#"+b+"_flash_message").remove():a("#"+b+"_flash_message").slideUp("fast",function(){a(this).remove()})}}(jQuery),function(a){RPM.guarded_refresh=function(a){a=a==undefined?{}:a,a.interval=a.interval!==undefined?a.interval:300,a.appendRefreshLink=a.appendRefreshLink!==undefined?a.appendRefreshLink:!0,a.message==""?a.message=null:a.message=a.message!==undefined?a.message:"<strong>You are currently offline.</strong> Data on this page is no longer current.",RPM.guarded_refresh.options=a,RPM.guarded_refresh.setTimeout()},RPM.guarded_refresh.PING_URL="/ping",RPM.guarded_refresh.enabled=!0,RPM.guarded_refresh.enable=function(){!RPM.guarded_refresh.options||(RPM.guarded_refresh.enabled=!0,RPM.guarded_refresh.setTimeout())},RPM.guarded_refresh.disable=function(){!RPM.guarded_refresh.options||(RPM.guarded_refresh.enabled=!1,RPM.guarded_refresh.clearTimeout())},RPM.guarded_refresh.toggle=function(){!RPM.guarded_refresh.options||(RPM.guarded_refresh.enabled?RPM.guarded_refresh.disable():RPM.guarded_refresh.enable())},RPM.guarded_refresh.changeInterval=function(a){!RPM.guarded_refresh.options||(RPM.guarded_refresh.disable(),RPM.guarded_refresh.options.interval=a,RPM.guarded_refresh.enable())},RPM.guarded_refresh.timeoutId=null,RPM.guarded_refresh.setTimeout=function(a){a=a==undefined?RPM.guarded_refresh.options.interval:a,RPM.guarded_refresh.options&&(RPM.guarded_refresh.clearTimeout(),RPM.guarded_refresh.timeoutId=window.setTimeout(RPM.guarded_refresh.tryRefresh,a*1e3))},RPM.guarded_refresh.clearTimeout=function(){RPM.guarded_refresh.timeoutId&&(window.clearTimeout(RPM.guarded_refresh.timeoutId),RPM.guarded_refresh.timeoutId=null)},RPM.guarded_refresh.tryRefresh=function(){RPM.guarded_refresh.enabled&&RPM.guarded_refresh.checkConnectivity(RPM.guarded_refresh.success,RPM.guarded_refresh.failure)},RPM.guarded_refresh.checkConnectivity=function(b,c){a.ajax({url:RPM.guarded_refresh.PING_URL,cache:!1,dataType:"json",success:b,error:c,timeout:1e4})},RPM.guarded_refresh.success=function(a,b){RPM.guarded_refresh.disable(),window.location.hash==""||window.location.hash=="#"?window.location=window.location.href:window.location.reload()},RPM.guarded_refresh.failure=function(a,b,c){if(RPM.guarded_refresh.options.message!=null){RPM.remove_flash_message("guarded_refresh_failure");var d=RPM.guarded_refresh.options.message;RPM.guarded_refresh.options.appendRefreshLink&&(d+=' <a href="#" onclick="RPM.guarded_refresh.tryRefresh(); return false;">Refresh this page</a> when you\'re reconnected to the Internet.'),RPM.add_flash_message("error","guarded_refresh_failure",d)}RPM.guarded_refresh.setTimeout()}}(jQuery),function(a,b,c){function j(c,d){var e=b.createElement("div");c&&(e.id=m+c),e.style.cssText=d||!1;return a(e)}function i(a,b){b=b==="x"?F.width():F.height();return typeof a=="string"?Math.round(/%/.test(a)?b/100*parseInt(a,10):parseInt(a,10)):a}function h(a){return Q.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(a)}function g(b){for(var c in b)a.isFunction(b[c])&&c.substring(0,2)!=="on"&&(b[c]=b[c].call(V));b.rel=b.rel||V.rel||"nofollow",b.href=a.trim(b.href||a(V).attr("href")),b.title=b.title||V.title}function f(b,c){c&&c.call(V),a.event.trigger(b)}function e(){var a,b=m+"Slideshow_",c="click."+m,d,e,f;Q.slideshow&&E[1]&&(d=function(){L.text(Q.slideshowStop).unbind(c).bind(p,function(){if(W<E.length-1||Q.loop)a=setTimeout(_.next,Q.slideshowSpeed)}).bind(o,function(){clearTimeout(a)}).one(c+" "+q,e),x.removeClass(b+"off").addClass(b+"on"),a=setTimeout(_.next,Q.slideshowSpeed)},e=function(){clearTimeout(a),L.text(Q.slideshowStart).unbind([p,o,q,c].join(" ")).one(c,d),x.removeClass(b+"on").addClass(b+"off")},Q.slideshowAuto?d():e())}function d(b){if(!$){V=b,g(a.extend(Q,a.data(V,l))),E=a(V),W=0,Q.rel!=="nofollow"&&(E=a("."+ba).filter(function(){var b=a.data(this,l).rel||this.rel;return b===Q.rel}),W=E.index(V),W===-1&&(E=E.add(V),W=E.length-1));if(!Y){Y=Z=!0,x.show();if(Q.returnFocus)try{V.blur(),a(V).one(r,function(){try{this.focus()}catch(a){}})}catch(c){}w.css({opacity:+Q.opacity,cursor:Q.overlayClose?"pointer":"auto"}).show(),Q.w=i(Q.initialWidth,"x"),Q.h=i(Q.initialHeight,"y"),_.position(0),u&&F.bind("resize."+v+" scroll."+v,function(){w.css({width:F.width(),height:F.height(),top:F.scrollTop(),left:F.scrollLeft()})}).trigger("resize."+v),f(n,Q.onOpen),P.add(J).hide(),O.html(Q.close).show()}_.load(!0)}}var k={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0},l="colorbox",m="cbox",n=m+"_open",o=m+"_load",p=m+"_complete",q=m+"_cleanup",r=m+"_closed",s=m+"_purge",t=a.browser.msie&&!a.support.opacity,u=t&&a.browser.version<7,v=m+"_IE6",w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q={},R,S,T,U,V,W,X,Y,Z,$=!1,_,ba=m+"Element";_=a.fn[l]=a[l]=function(b,c){var e=this,f;if(!e[0]&&e.selector)return e;b=b||{},c&&(b.onComplete=c);if(!e[0]||e.selector===undefined)e=a("<a/>"),b.open=!0;e.each(function(){a.data(this,l,a.extend({},a.data(this,l)||k,b)),a(this).addClass(ba)}),f=b.open,a.isFunction(f)&&(f=f.call(e)),f&&d(e[0]);return e},_.init=function(){F=a(c),x=j().attr({id:l,"class":t?m+(u?"IE6":"IE"):""}),w=j("Overlay",u?"position:absolute":"").hide(),y=j("Wrapper"),z=j("Content").append(G=j("LoadedContent","width:0; height:0; overflow:hidden"),I=j("LoadingOverlay").add(j("LoadingGraphic")),J=j("Title"),K=j("Current"),M=j("Next"),N=j("Previous"),L=j("Slideshow").bind(n,e),O=j("Close")),y.append(j().append(j("TopLeft"),A=j("TopCenter"),j("TopRight")),j(!1,"clear:left").append(B=j("MiddleLeft"),z,C=j("MiddleRight")),j(!1,"clear:left").append(j("BottomLeft"),D=j("BottomCenter"),j("BottomRight"))).children().children().css({"float":"left"}),H=j(!1,"position:absolute; width:9999px; visibility:hidden; display:none"),a("body").prepend(w,x.append(y,H)),z.children().hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")}).addClass("hover"),R=A.height()+D.height()+z.outerHeight(!0)-z.height(),S=B.width()+C.width()+z.outerWidth(!0)-z.width(),T=G.outerHeight(!0),U=G.outerWidth(!0),x.css({"padding-bottom":R,"padding-right":S}).hide(),M.click(function(){_.next()}),N.click(function(){_.prev()}),O.click(function(){_.close()}),P=M.add(N).add(K).add(L),z.children().removeClass("hover"),a("."+ba).live("click",function(a){a.button!==0&&typeof a.button!="undefined"||a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),d(this))}),w.click(function(){Q.overlayClose&&_.close()}),a(b).bind("keydown."+m,function(a){var b=a.keyCode;Y&&Q.escKey&&b===27&&(a.preventDefault(),_.close()),Y&&Q.arrowKey&&E[1]&&(b===37?(a.preventDefault(),N.click()):b===39&&(a.preventDefault(),M.click()))})},_.remove=function(){x.add(w).remove(),a("."+ba).die("click").removeData(l).removeClass(ba)},_.position=function(a,c){function d(a){A[0].style.width=D[0].style.width=z[0].style.width=a.style.width,I[0].style.height=I[1].style.height=z[0].style.height=B[0].style.height=C[0].style.height=a.style.height}var e,f=Math.max(b.documentElement.clientHeight-Q.h-T-R,0)/2+F.scrollTop(),g=Math.max(F.width()-Q.w-U-S,0)/2+F.scrollLeft();e=x.width()===Q.w+U&&x.height()===Q.h+T?0:a,y[0].style.width=y[0].style.height="9999px",x.dequeue().animate({width:Q.w+U,height:Q.h+T,top:f,left:g},{duration:e,complete:function(){d(this),Z=!1,y[0].style.width=Q.w+U+S+"px",y[0].style.height=Q.h+T+R+"px",c&&c()},step:function(){d(this)}})},_.resize=function(a){if(Y){a=a||{},a.width&&(Q.w=i(a.width,"x")-U-S),a.innerWidth&&(Q.w=i(a.innerWidth,"x")),G.css({width:Q.w}),a.height&&(Q.h=i(a.height,"y")-T-R),a.innerHeight&&(Q.h=i(a.innerHeight,"y"));if(!a.innerHeight&&!a.height){var b=G.wrapInner("<div style='overflow:auto'></div>").children();Q.h=b.height(),b.replaceWith(b.children())}G.css({height:Q.h}),_.position(Q.transition==="none"?0:Q.speed)}},_.prep=function(b){function e(){Q.w=Q.w||G.width(),Q.w=Q.mw&&Q.mw<Q.w?Q.mw:Q.w;return Q.w}function d(){Q.h=Q.h||G.height(),Q.h=Q.mh&&Q.mh<Q.h?Q.mh:Q.h;return Q.h}function c(b){_.position(b,function(){var b,c,d,e,i=E.length,j,k;!Y||(k=function(){I.hide(),f(p,Q.onComplete)},t&&X&&G.fadeIn(100),J.html(Q.title).add(G).show(),i>1?(typeof Q.current=="string"&&K.html(Q.current.replace(/\{current\}/,W+1).replace(/\{total\}/,i)).show(),M[Q.loop||W<i-1?"show":"hide"]().html(Q.next),N[Q.loop||W?"show":"hide"]().html(Q.previous),b=W?E[W-1]:E[i-1],d=W<i-1?E[W+1]:E[0],Q.slideshow&&L.show(),Q.preloading&&(e=a.data(d,l).href||d.href,c=a.data(b,l).href||b.href,e=a.isFunction(e)?e.call(d):e,c=a.isFunction(c)?c.call(b):c,h(e)&&(a("<img/>")[0].src=e),h(c)&&(a("<img/>")[0].src=c))):P.hide(),Q.iframe?(j=a("<iframe/>").addClass(m+"Iframe")[0],Q.fastIframe?k():a(j).load(k),j.name=m+ +(new Date),j.src=Q.href,Q.scrolling||(j.scrolling="no"),t&&(j.frameBorder=0,j.allowTransparency="true"),a(j).appendTo(G).one(s,function(){j.src="//about:blank"})):k(),Q.transition==="fade"?x.fadeTo(g,1,function(){x[0].style.filter=""}):x[0].style.filter="",F.bind("resize."+m,function(){_.position(0)}))})}if(!!Y){var g=Q.transition==="none"?0:Q.speed;F.unbind("resize."+m),G.remove(),G=j("LoadedContent").html(b),G.hide().appendTo(H.show()).css({width:e(),overflow:Q.scrolling?"auto":"hidden"}).css({height:d()}).prependTo(z),H.hide(),a(X).css({"float":"none"}),u&&a("select").not(x.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(q,function(){this.style.visibility="inherit"}),Q.transition==="fade"?x.fadeTo(g,0,function(){c(0)}):c(g)}},_.load=function(b){var c,d,e=_.prep;Z=!0,X=!1,V=E[W],b||g(a.extend(Q,a.data(V,l))),f(s),f(o,Q.onLoad),Q.h=Q.height?i(Q.height,"y")-T-R:Q.innerHeight&&i(Q.innerHeight,"y"),Q.w=Q.width?i(Q.width,"x")-U-S:Q.innerWidth&&i(Q.innerWidth,"x"),Q.mw=Q.w,Q.mh=Q.h,Q.maxWidth&&(Q.mw=i(Q.maxWidth,"x")-U-S,Q.mw=Q.w&&Q.w<Q.mw?Q.w:Q.mw),Q.maxHeight&&(Q.mh=i(Q.maxHeight,"y")-T-R,Q.mh=Q.h&&Q.h<Q.mh?Q.h:Q.mh),c=Q.href,I.show(),Q.inline?(j().hide().insertBefore(a(c)[0]).one(s,function(){a(this).replaceWith(G.children())}),e(a(c))):Q.iframe?e(" "):Q.html?e(Q.html):h(c)?(a(X=new Image).addClass(m+"Photo").error(function(){Q.title=!1,e(j("Error").text("This image could not be loaded"))}).load(function(){var a;X.onload=null,Q.scalePhotos&&(d=function(){X.height-=X.height*a,X.width-=X.width*a},Q.mw&&X.width>Q.mw&&(a=(X.width-Q.mw)/X.width,d()),Q.mh&&X.height>Q.mh&&(a=(X.height-Q.mh)/X.height,d())),Q.h&&(X.style.marginTop=Math.max(Q.h-X.height,0)/2+"px"),E[1]&&(W<E.length-1||Q.loop)&&(X.style.cursor="pointer",X.onclick=function(){_.next()}),t&&(X.style.msInterpolationMode="bicubic"),setTimeout(function(){e(X)},1)}),setTimeout(function(){X.src=c},1)):c&&H.load(c,function(b,c,d){e(c==="error"?j("Error").text("Request unsuccessful: "+d.statusText):a(this).contents())})},_.next=function(){!Z&&E[1]&&(W<E.length-1||Q.loop)&&(W=W<E.length-1?W+1:0,_.load())},_.prev=function(){!Z&&E[1]&&(W||Q.loop)&&(W=W?W-1:E.length-1,_.load())},_.close=function(){Y&&!$&&($=!0,Y=!1,f(q,Q.onCleanup),F.unbind("."+m+" ."+v),w.fadeTo(200,0),x.stop().fadeTo(300,0,function(){x.add(w).css({opacity:1,cursor:"auto"}).hide(),f(s),G.remove(),setTimeout(function(){$=!1,f(r,Q.onClosed)},1)}))},_.element=function(){return a(V)},_.settings=k,a(_.init)}(jQuery,document,this),function(a,b,c){function g(a){var b=[];for(var c in a)b.push(['<param name="',c,'" value="',e(a[c]),'" />'].join(""));return b.join("")}function f(a){var b=[];for(var c in a)a[c]&&b.push([c,'="',a[c],'"'].join(""));return b.join(" ")}function e(a){if(typeof a!=h)return a;var b=[],c="";for(var d in a)c=typeof a[d]==h?e(a[d]):[d,i?encodeURI(a[d]):a[d]].join("="),b.push(c);return b.join("&")}function d(a,b){var c=(a[0]||0)-(b[0]||0);return c>0||!c&&a.length>0&&d(a.slice(1),b.slice(1))}var h="object",i=!0;try{var j=c.description||function(){return(new c("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}()}catch(k){j="Unavailable"}var l=j.match(/\d+/g)||[0];a[b]={available:l[0]>0,activeX:c&&!c.name,version:{original:j,array:l,string:l.join("."),major:parseInt(l[0],10)||0,minor:parseInt(l[1],10)||0,release:parseInt(l[2],10)||0},hasVersion:function(a){a=/string|number/.test(typeof a)?a.toString().split("."):/object/.test(typeof a)?[a.major,a.minor]:a||[0,0];return d(l,a)},encodeParams:!0,expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(a){if(!a.swf||this.expressInstallIsActive||!this.available&&!a.hasVersionFail)return!1;if(!this.hasVersion(a.hasVersion||1)){this.expressInstallIsActive=!0;if(typeof a.hasVersionFail=="function"&&!a.hasVersionFail.apply(a))return!1;a={swf:a.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:a.swf,type:"application/x-shockwave-flash",id:a.id||"flash_"+Math.floor(Math.random()*999999999),width:a.width||320,height:a.height||180,style:a.style||""},i=typeof a.useEncode!="undefined"?a.useEncode:this.encodeParams,a.movie=a.swf,a.wmode=a.wmode||"opaque",delete a.fallback,delete a.hasVersion,delete a.hasVersionFail,delete a.height,delete a.id,delete a.swf,delete a.useEncode,delete a.width;var b=document.createElement("div");b.innerHTML=["<object ",f(attrs),">",g(a),"</object>"].join("");return b.firstChild}},a.fn[b]=function(c){var d=this.find(h).andSelf().filter(h);/string|object/.test(typeof c)&&this.each(function(){var d=a(this),e;c=typeof c==h?c:{swf:c},c.fallback=this;if(e=a[b].create(c))d.children().remove(),d.html(e)}),typeof c=="function"&&d.each(function(){var d=this;d.jsInteractionTimeoutMs=d.jsInteractionTimeoutMs||0,d.jsInteractionTimeoutMs<660&&(d.clientWidth||d.clientHeight?c.call(d):setTimeout(function(){a(d)[b](c)},d.jsInteractionTimeoutMs+66))});return d}}(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject),function(a){a.extend(a.fn,{livequery:function(b,c,d){var e=this,f;a.isFunction(b)&&(d=c,c=b,b=undefined),a.each(a.livequery.queries,function(a,g){if(e.selector==g.selector&&e.context==g.context&&b==g.type&&(!c||c.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid))return(f=g)&&!1}),f=f||new a.livequery(this.selector,this.context,b,c,d),f.stopped=!1,f.run();return this},expire:function(b,c,d){var e=this;a.isFunction(b)&&(d=c,c=b,b=undefined),a.each(a.livequery.queries,function(f,g){e.selector==g.selector&&e.context==g.context&&(!b||b==g.type)&&(!c||c.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid)&&!this.stopped&&a.livequery.stop(g.id)});return this}}),a.livequery=function(b,c,d,e,f){this.selector=b,this.context=c||document,this.type=d,this.fn=e,this.fn2=f,this.elements=[],this.stopped=!1,this.id=a.livequery.queries.push(this)-1,e.$lqguid=e.$lqguid||a.livequery.guid++,f&&(f.$lqguid=f.$lqguid||a.livequery.guid++);return this},a.livequery.prototype={stop:function(){var a=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(b,c){a.fn2.apply(c)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var b=this,c=this.elements,d=a(this.selector,this.context),e=d.not(c);this.elements=d,this.type?(e.bind(this.type,this.fn),c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&a.event.remove(e,b.type,b.fn)})):(e.each(function(){b.fn.apply(this)}),this.fn2&&c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&b.fn2.apply(e)}))}}},a.extend(a.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--)a.livequery.queries[a.livequery.queue.shift()].run()}},pause:function(){a.livequery.running=!1},play:function(){a.livequery.running=!0,a.livequery.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(!!a.fn[c]){var d=a.fn[c];a.fn[c]=function(){var b=d.apply(this,arguments);a.livequery.run();return b}}})},run:function(b){b!=undefined?a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b):a.each(a.livequery.queries,function(b){a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b)}),a.livequery.timeout&&clearTimeout(a.livequery.timeout),a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){b!=undefined?a.livequery.queries[b].stop():a.each(a.livequery.queries,function(b){a.livequery.queries[b].stop()})}}),a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove"),a(function(){a.livequery.play()});var b=a.prototype.init;a.prototype.init=function(a,c){var d=b.apply(this,arguments);a&&a.selector&&(d.context=a.context,d.selector=a.selector),typeof a=="string"&&(d.context=c||document,d.selector=a);return d},a.prototype.init.prototype=a.prototype}(jQuery),function(a){window.RPM=a.extend(window.RPM,{lightbox:function(){var b={defaults:{transition:"elastic",rel:"nofollow",width:"55%",opacity:.85},_options_rewriter:function(a){a.onCloseCallback&&(a.onClosed=a.onCloseCallback,delete a.onCloseCallback);return a},open_for_url:function(b,c){c===undefined&&(c={}),c.params&&(b=b+"?"+a.param(c.params),delete c.params),c=RPM.lightbox._options_rewriter(c),RPM.lightbox.close(),a.colorbox(a.extend({href:b,open:!0},RPM.lightbox.defaults,c));return!1},open:function(b){b===undefined&&(b={}),b=RPM.lightbox._options_rewriter(b),RPM.lightbox.close(),a.colorbox(a.extend({open:!0},RPM.lightbox.defaults,b));return!1},for_selector:function(b,c){c===undefined&&(c={}),a(b).colorbox(a.extend({width:function(){return jQuery(this).attr("data-width")||RPM.lightbox.defaults.width},height:function(){return jQuery(this).attr("data-height")||"auto"},title:function(){return jQuery(this).attr("data-title")||jQuery(this).attr("title")||""},rel:function(){val=jQuery(this).attr("rel");return rel=="lightbox"||rel=="lightbox_video"?"nofollow":val||"nofollow"}},RPM.lightbox.defaults,c))},videos_for_selector:function(b,c){c===undefined&&(c={}),a(b).click(function(){RPM.lightbox.open_video_demo(a(this).attr("href"),a.extend({width:a(this).attr("data-width")||670,height:a(this).attr("data-height")||760},c));return!1})},open_video_demo:function(b,c){var d=c.width;delete c.width;var e=c.height;delete c.height,RPM.lightbox.open(a.extend({href:b,iframe:!0,width:Number(d)+80,height:Number(e)+126},c));return!1},close:function(){a.colorbox.close()},next:function(){a.colorbox.next()},prev:function(){a.colorbox.prev()},resize:function(b){a.colorbox.resize(b)},remove:function(){a.colorbox.remove()},container_div:"cboxLoadedContent"};return b}()})}(jQuery),function(a){window.RPM=a.extend(window.RPM,{email_helper:function(){var a={new_email:function(a){return RPM.lightbox.open_for_url(a)}};return a}()})}(jQuery),function(a){function r(b,f,i){var m=this;m.id=i,m.options=f,m.status={animated:!1,rendered:!1,disabled:!1,focused:!1},m.elements={target:b.addClass(m.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null},m.cache={mouse:{},position:{},toggle:0,overflow:{left:!1,top:!1}},m.timers={},a.extend(m,m.options.api,{show:function(b){function c(){m.elements.tooltip.attr("aria-hidden",!0),m.options.position.type!=="static"&&m.focus(),m.onShow.call(m,b),a.browser.msie&&m.elements.tooltip.get(0).style.removeAttribute("filter"),m.elements.tooltip.css({opacity:""})}var d;if(!m.status.rendered)return!1;if(m.elements.tooltip.css("display")!=="none")return m;m.elements.tooltip.stop(!0,!1);if(m.beforeShow.call(m,b)===!1)return m;m.cache.toggle=1,m.options.position.type!=="static"&&m.updatePosition(b,m.options.show.effect.length>0),typeof m.options.show.solo=="object"?d=a(m.options.show.solo):m.options.show.solo===!0&&(d=a("div.qtip").not(m.elements.tooltip)),d&&d.each(function(){a(this).qtip("api").status.rendered===!0&&a(this).qtip("api").hide()});if(typeof m.options.show.effect.type=="function")m.options.show.effect.type.call(m.elements.tooltip,m.options.show.effect.length),m.elements.tooltip.queue(function(){c(),a(this).dequeue()});else{switch(m.options.show.effect.type.toLowerCase()){case"fade":m.elements.tooltip.fadeIn(m.options.show.effect.length,c);break;case"slide":m.elements.tooltip.slideDown(m.options.show.effect.length,function(){c(),m.options.position.type!=="static"&&m.updatePosition(b,!0)});break;case"grow":m.elements.tooltip.show(m.options.show.effect.length,c);break;default:m.elements.tooltip.show(null,c)}m.elements.tooltip.addClass(m.options.style.classes.active)}return m},hide:function(b){function c(){m.elements.tooltip.attr("aria-hidden",!0),m.elements.tooltip.css({opacity:""}),m.onHide.call(m,b)}if(!m.status.rendered)return!1;if(m.elements.tooltip.css("display")==="none")return m;clearTimeout(m.timers.show),m.elements.tooltip.stop(!0,!1);if(m.beforeHide.call(m,b)===!1)return m;m.cache.toggle=0;if(typeof m.options.hide.effect.type=="function")m.options.hide.effect.type.call(m.elements.tooltip,m.options.hide.effect.length),m.elements.tooltip.queue(function(){c(),a(this).dequeue()});else{switch(m.options.hide.effect.type.toLowerCase()){case"fade":m.elements.tooltip.fadeOut(m.options.hide.effect.length,c);break;case"slide":m.elements.tooltip.slideUp(m.options.hide.effect.length,c);break;case"grow":m.elements.tooltip.hide(m.options.hide.effect.length,c);break;default:m.elements.tooltip.hide(null,c)}m.elements.tooltip.removeClass(m.options.style.classes.active)}return m},toggle:function(a,b){b=/boolean|number/.test(typeof b)?b:!m.elements.tooltip.is(":visible"),m[b?"show":"hide"](a);return m},updatePosition:function(b,c){if(!m.status.rendered)return!1;var d=a(f.position.target),e=f.position,g=m.elements.tooltip.width(),h=m.elements.tooltip.height(),i,j,k,n,o,q,r,s,t={left:function(){var b=k.left+g-a(window).width()-a(window).scrollLeft(),c=n.x==="left"?-g:n.x==="right"?g:0,d=-2*e.adjust.x;k.left+=k.left<0?c+i+d:b>0?c-i+d:0;return Math.round(b)},top:function(){var b=k.top+h-a(window).height()-a(window).scrollTop(),c=n.y==="top"?-h:n.y==="bottom"?h:0,d=o.y==="top"?j:o.y==="bottom"?-j:0,f=-2*e.adjust.y;k.top+=k.top<0?c+j+f:b>0?c+d+f:0;return Math.round(b)}};n=f.position.corner.tooltip,o=f.position.corner.target;if(b&&f.position.target==="mouse")o={x:"left",y:"top"},i=j=0,k={top:b.pageY,left:b.pageX};else{if(d[0]===document)i=d.width(),j=d.height(),k={top:0,left:0};else if(d[0]===window)i=d.width(),j=d.height(),k={top:d.scrollTop(),left:d.scrollLeft()};else if(d.is("area")){q=m.options.position.target.attr("coords").split(",");for(r=0;r<q.length;r++)q[r]=parseInt(q[r],10);r=m.options.position.target.parent("map").attr("name"),s=a('img[usemap="#'+r+'"]:first').offset(),d.position={left:Math.floor(s.left+q[0]),top:Math.floor(s.top+q[1])};switch(m.options.position.target.attr("shape").toLowerCase()){case"rect":i=Math.ceil(Math.abs(q[2]-q[0])),j=Math.ceil(Math.abs(q[3]-q[1]));break;case"circle":i=q[2]+1,j=q[2]+1;break;case"poly":i=q[0],j=q[1];for(r=0;r<q.length;r++)r%2===0?(q[r]>i&&(i=q[r]),q[r]<q[0]&&(k.left=Math.floor(s.left+q[r]))):(q[r]>j&&(j=q[r]),q[r]<q[1]&&(k.top=Math.floor(s.top+q[r])));i-=k.left-s.left,j-=k.top-s.top}i-=2,j-=2}else i=d.outerWidth(),j=d.outerHeight(),k=d.offset();k.left+=o.x==="right"?i:o.x==="center"?i/2:0,k.top+=o.y==="bottom"?j:o.y==="center"?j/2:0}k.left+=e.adjust.x+(n.x==="right"?-g:n.x==="center"?-g/2:0),k.top+=e.adjust.y+(n.y==="bottom"?-h:n.y==="center"?-h/2:0),m.options.style.border.radius>0&&(n.x==="left"?k.left-=m.options.style.border.radius:n.x==="right"&&(k.left+=m.options.style.border.radius),n.y==="top"?k.top-=m.options.style.border.radius:n.y==="bottom"&&(k.top+=m.options.style.border.radius)),e.adjust.screen&&(k.adjust={left:t.left(),top:t.top()},m.options.style.tip.corner&&l.call(m,k)),!m.elements.bgiframe&&a.browser.msie&&parseInt(a.browser.version.charAt(0),10)===6&&p.call(m);if(m.beforePositionUpdate.call(m,b)===!1)return m;m.cache.position=k,c===!0?(m.status.animated=!0,m.elements.tooltip.animate(k,200,"swing",function(){m.status.animated=!1})):m.elements.tooltip.css(k),m.onPositionUpdate.call(m,b);return m},updateWidth:function(b){if(!m.status.rendered||b&&typeof b!="number")return!1;var c=m.elements.contentWrapper.siblings().add(m.elements.tip).add(m.elements.button),d=m.elements.wrapper.add(m.elements.contentWrapper.children()),e=m.elements.tooltip,f=m.options.style.width.max,g=m.options.style.width.min;b||(typeof m.options.style.width.value=="number"?b=m.options.style.width.value:(m.elements.tooltip.css({width:"auto"}),c.hide(),e.width(b),a.browser.msie&&d.css({zoom:""}),b=m.getDimensions().width,m.options.style.width.value||(b=Math.min(Math.max(b,g),f)))),b%2&&(b-=1),m.elements.tooltip.width(b),c.show(),m.options.style.border.radius&&m.elements.tooltip.find(".qtip-betweenCorners").each(function(){a(this).width(b-m.options.style.border.radius*2)}),a.browser.msie&&(d.css({zoom:1}),m.elements.wrapper.width(b),m.elements.bgiframe&&m.elements.bgiframe.width(b).height(m.getDimensions.height));return m},updateStyle:function(b){var f,i,k,l;if(!m.status.rendered||typeof b!="string"||!a.fn.qtip.styles[b])return!1;m.options.style=g.call(m,a.fn.qtip.styles[b],m.options.user.style),m.elements.content.css(e(m.options.style)),m.options.content.title.text!==!1&&m.elements.title.css(e(m.options.style.title,!0)),m.elements.contentWrapper.css({borderColor:m.options.style.border.color}),m.options.style.tip.corner!==!1&&(a("<canvas />").get(0).getContext?(b=m.elements.tooltip.find(".qtip-tip canvas:first"),i=b.get(0).getContext("2d"),i.clearRect(0,0,300,300),k=b.parent("div[rel]:first").attr("rel"),l=c(k,m.options.style.tip.size.width,m.options.style.tip.size.height),j.call(m,b,l,m.options.style.tip.color||m.options.style.border.color)):a.browser.msie&&(b=m.elements.tooltip.find('.qtip-tip [nodeName="shape"]'),b.attr("fillcolor",m.options.style.tip.color||m.options.style.border.color))),m.options.style.border.radius>0&&(m.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:m.options.style.border.color}),a("<canvas />").get(0).getContext?(f=d(m.options.style.border.radius),m.elements.tooltip.find(".qtip-wrapper canvas").each(function(){i=a(this).get(0).getContext("2d"),i.clearRect(0,0,300,300),k=a(this).parent("div[rel]:first").attr("rel"),h.call(m,a(this),f[k],m.options.style.border.radius,m.options.style.border.color)})):a.browser.msie&&m.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){a(this).attr("fillcolor",m.options.style.border.color)}));return m},updateContent:function(b,c){function d(){m.updateWidth(),c!==!1&&(m.options.position.type!=="static"&&m.updatePosition(m.elements.tooltip.is(":visible"),!0),m.options.style.tip.corner!==!1&&k.call(m))}var e,f,g;if(!m.status.rendered||!b)return!1;e=m.beforeContentUpdate.call(m,b);if(typeof e=="string")b=e;else if(e===!1)return;a.browser.msie&&m.elements.contentWrapper.children().css({zoom:"normal"}),b.jquery&&b.length>0?b.clone(!0).appendTo(m.elements.content).show():m.elements.content.html(b),f=m.elements.content.find("img[complete=false]"),f.length>0?(g=0,f.each(function(){a('<img src="'+a(this).attr("src")+'" />').load(function(){++g===f.length&&d()})})):d(),m.onContentUpdate.call(m);return m},loadContent:function(b,c,d){function e(a){m.onContentLoad.call(m),m.updateContent(a)}if(!m.status.rendered)return!1;if(m.beforeContentLoad.call(m)===!1)return m;d==="post"?a.post(b,c,e):a.get(b,c,e);return m},updateTitle:function(a){if(!m.status.rendered||!a)return!1;if(m.beforeTitleUpdate.call(m)===!1)return m;m.elements.button&&(m.elements.button=m.elements.button.clone(!0)),m.elements.title.html(a),m.elements.button&&m.elements.title.prepend(m.elements.button),m.onTitleUpdate.call(m);return m},focus:function(b){var c,d,e;if(!m.status.rendered||m.options.position.type==="static")return!1;c=parseInt(m.elements.tooltip.css("z-index"),10),d=15e3+a('div.qtip[id^="qtip"]').length-1;if(!m.status.focused&&c!==d){c=m.beforeFocus.call(m,b);if(c===!1)return m;a('div.qtip[id^="qtip"]').not(m.elements.tooltip).each(function(){a(this).qtip("api").status.rendered===!0&&(e=parseInt(a(this).css("z-index"),10),typeof e=="number"&&e>-1&&a(this).css({zIndex:parseInt(a(this).css("z-index"),10)-1}),a(this).qtip("api").status.focused=!1)}),m.elements.tooltip.css({zIndex:d}),m.status.focused=!0,m.onFocus.call(m,b)}return m},disable:function(a){if(!m.status.rendered)return!1;m.status.disabled=a?!0:!1;return m},destroy:function(){var b,c;if(m.beforeDestroy.call(m)===!1)return m;m.status.rendered?(m.options.show.when.target.unbind("mousemove.qtip",m.updatePosition),m.options.show.when.target.unbind("mouseout.qtip",m.hide),m.options.show.when.target.unbind(m.options.show.when.event+".qtip"),m.options.hide.when.target.unbind(m.options.hide.when.event+".qtip"),m.elements.tooltip.unbind(m.options.hide.when.event+".qtip"),m.elements.tooltip.unbind("mouseover.qtip",m.focus),m.elements.tooltip.remove()):m.options.show.when.target.unbind(m.options.show.when.event+".qtip-create");if(typeof m.elements.target.data("qtip")=="object"&&a(this).data("qtip")){c=m.elements.target.data("qtip").interfaces;if(typeof c=="object"&&c.length>0)for(b=0;b<c.length-1;b++)c[b].id===m.id&&c.splice(b,1)}a.fn.qtip.interfaces.splice(m.id,1),typeof c=="object"&&c.length>0?m.elements.target.data("qtip").current=c.length-1:m.elements.target.removeData("qtip"),m.onDestroy.call(m);return m.elements.target},getPosition:function(){var a,b;if(!m.status.rendered)return!1;(a=m.elements.tooltip.css("display")!=="none"?!1:!0)&&m.elements.tooltip.css({visiblity:"hidden"}).show(),b=m.elements.tooltip.offset(),a&&m.elements.tooltip.css({visiblity:"visible"}).hide();return b},getDimensions:function(){var a,b;if(!m.status.rendered)return!1;(a=m.elements.tooltip.is(":visible")?!1:!0)&&m.elements.tooltip.css({visiblity:"hidden"}).show(),b={height:m.elements.tooltip.outerHeight(),width:m.elements.tooltip.outerWidth()},a&&m.elements.tooltip.css({visiblity:"visible"}).hide();return b}})}function q(){var b,c,d,f;b=this,b.beforeRender.call(b),b.status.rendered=!0,b.elements.tooltip='<div qtip="'+b.id+'" id="qtip-'+b.id+'" role="tooltip" aria-describedby="qtip-'+b.id+'-content" class="qtip '+(b.options.style.classes.tooltip||b.options.style)+'" style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0; position:'+b.options.position.type+';">   <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">     <div class="qtip-contentWrapper" style="overflow:hidden;">        <div id="qtip-'+b.id+'-content" class="qtip-content '+b.options.style.classes.content+'"></div> </div></div></div>',b.elements.tooltip=a(b.elements.tooltip),b.elements.tooltip.appendTo(b.options.position.container),b.elements.tooltip.data("qtip",{current:0,interfaces:[b]}),b.elements.wrapper=b.elements.tooltip.children("div:first"),b.elements.contentWrapper=b.elements.wrapper.children("div:first").css({background:b.options.style.background}),b.elements.content=b.elements.contentWrapper.children("div:first").css(e(b.options.style)),a.browser.msie&&b.elements.wrapper.add(b.elements.content).css({zoom:1}),b.options.hide.when.event==="unfocus"&&b.elements.tooltip.attr("unfocus",!0),typeof b.options.style.width.value=="number"&&b.updateWidth(),a("<canvas />").get(0).getContext||a.browser.msie?(b.options.style.border.radius>0?i.call(b):b.elements.contentWrapper.css({border:b.options.style.border.width+"px solid "+b.options.style.border.color}),b.options.style.tip.corner!==!1&&m.call(b)):(b.elements.contentWrapper.css({border:b.options.style.border.width+"px solid "+b.options.style.border.color}),b.options.style.border.radius=0,b.options.style.tip.corner=!1),typeof b.options.content.text=="string"&&b.options.content.text.length>0||b.options.content.text.jquery&&b.options.content.text.length>0?c=b.options.content.text:typeof b.elements.target.attr("title")=="string"&&b.elements.target.attr("title").length>0?(c=b.elements.target.attr("title").replace(/\n/gi,"<br />"),b.elements.target.attr("title","")):typeof b.elements.target.attr("alt")=="string"&&b.elements.target.attr("alt").length>0?(c=b.elements.target.attr("alt").replace(/\n/gi,"<br />"),b.elements.target.attr("alt","")):c=" ",b.options.content.title.text!==!1&&n.call(b),b.updateContent(c),o.call(b),b.options.show.ready===!0&&b.show(),b.options.content.url!==!1&&(c=b.options.content.url,d=b.options.content.data,f=b.options.content.method||"get",b.loadContent(c,d,f)),b.onRender.call(b)}function p(){var a,b;a=this,b=a.getDimensions(),a.elements.bgiframe=a.elements.wrapper.prepend('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+b.height+"px; width:"+b.width+'px" />').children(".qtip-bgiframe:first")}function o(){function d(b){if(e.status.disabled!==!0){if(e.options.hide.fixed===!0&&/mouse(out|leave)/i.test(e.options.hide.when.event)&&a(b.relatedTarget).parents('div.qtip[id^="qtip"]').length>0){b.stopPropagation(),b.preventDefault(),clearTimeout(e.timers.hide);return!1}clearTimeout(e.timers.show),clearTimeout(e.timers.hide),e.elements.tooltip.stop(!0,!0),e.timers.hide=setTimeout(function(){e.hide(b)},e.options.hide.delay)}}function c(c){e.status.disabled!==!0&&(e.options.hide.when.event==="inactive"&&(a(h).each(function(){g.bind(this+".qtip-inactive",b),e.elements.content.bind(this+".qtip-inactive",b)}),b()),clearTimeout(e.timers.show),clearTimeout(e.timers.hide),e.options.show.delay>0?e.timers.show=setTimeout(function(){e.show(c)},e.options.show.delay):e.show(c))}function b(b){e.status.disabled!==!0&&(clearTimeout(e.timers.inactive),e.timers.inactive=setTimeout(function(){a(h).each(function(){g.unbind(this+".qtip-inactive"),e.elements.content.unbind(this+".qtip-inactive")}),e.hide(b)},e.options.hide.delay))}var e,f,g,h;e=this,f=e.options.show.when.target,g=e.options.hide.when.target,e.options.hide.fixed&&(g=g.add(e.elements.tooltip)),h=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"],e.options.hide.fixed===!0&&e.elements.tooltip.bind("mouseover.qtip",function(){e.status.disabled!==!0&&clearTimeout(e.timers.hide)}),e.options.show.when.target.add(e.options.hide.when.target).length===1&&e.options.show.when.event===e.options.hide.when.event&&e.options.hide.when.event!=="inactive"||e.options.hide.when.event==="unfocus"?(e.cache.toggle=0,f.bind(e.options.show.when.event+".qtip",function(a){e.cache.toggle===0?c(a):d(a)})):(f.bind(e.options.show.when.event+".qtip",c),e.options.hide.when.event!=="inactive"&&g.bind(e.options.hide.when.event+".qtip",d)),/(fixed|absolute)/.test(e.options.position.type)&&e.elements.tooltip.bind("mouseover.qtip",e.focus),e.options.position.target==="mouse"&&e.options.position.type!=="static"&&f.bind("mousemove.qtip",function(a){e.cache.mouse={x:a.pageX,y:a.pageY},e.status.disabled===!1&&e.options.position.adjust.mouse===!0&&e.options.position.type!=="static"&&e.elements.tooltip.css("display")!=="none"&&e.updatePosition(a)})}function n(){var b=this;b.elements.title!==null&&b.elements.title.remove(),b.elements.tooltip.attr("aria-labelledby","qtip-"+b.id+"-title"),b.elements.title=a('<div id="qtip-'+b.id+'-title" class="'+b.options.style.classes.title+'"></div>').css(e(b.options.style.title,!0)).css({zoom:a.browser.msie?1:0}).prependTo(b.elements.contentWrapper),b.options.content.title.text&&b.updateTitle.call(b,b.options.content.title.text),b.options.content.title.button!==!1&&typeof b.options.content.title.button=="string"&&(b.elements.button=a('<a class="'+b.options.style.classes.button+'" role="button" style="float:right; position: relative"></a>').css(e(b.options.style.button,!0)).html(b.options.content.title.button).prependTo(b.elements.title).click(function(a){b.status.disabled||b.hide(a)}))}function m(d){var e,f,g,h,i;e=this,e.elements.tip!==null&&e.elements.tip.remove(),f=e.options.style.tip.color||e.options.style.border.color,e.options.style.tip.corner!==!1&&(d||(d=new b(e.options.style.tip.corner)),g=c(d.string(),e.options.style.tip.size.width,e.options.style.tip.size.height),e.elements.tip='<div class="'+e.options.style.classes.tip+'" dir="ltr" rel="'+d.string()+'" style="position:absolute; height:'+e.options.style.tip.size.height+"px; width:"+e.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;"></div>',e.elements.tooltip.prepend(e.elements.tip),a("<canvas />").get(0).getContext?h='<canvas height="'+e.options.style.tip.size.height+'" width="'+e.options.style.tip.size.width+'"></canvas>':a.browser.msie&&(h=e.options.style.tip.size.width+","+e.options.style.tip.size.height,i="m"+g[0][0]+","+g[0][1],i+=" l"+g[1][0]+","+g[1][1],i+=" "+g[2][0]+","+g[2][1],i+=" xe",h='<v:shape fillcolor="'+f+'" stroked="false" filled="true" path="'+i+'" coordsize="'+h+'" style="width:'+e.options.style.tip.size.width+"px; height:"+e.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+(d.y==="top"?"bottom":"top")+'"></v:shape>',h+='<v:image style="behavior:url(#default#VML);"></v:image>',e.elements.contentWrapper.css("position","relative")),e.elements.tip=e.elements.tooltip.find("."+e.options.style.classes.tip).eq(0),e.elements.tip.html(h),a("<canvas  />").get(0).getContext&&j.call(e,e.elements.tip.find("canvas:first"),g,f),d.y==="top"&&a.browser.msie&&parseInt(a.browser.version.charAt(0),10)===6&&e.elements.tip.css({marginTop:-4}),k.call(e,d))}function l(c){var d=this,e=new b(d.options.style.tip.corner),f=new b(d.options.style.tip.corner),g=a.extend(!0,{},c).adjust;if(function(){var a=d.cache.overflow.left,b=d.cache.overflow.top,c=g.left>0,e=g.top>0;return!(!a&&c||a&&!c||b&&!e||!b&&e)}()!==!0)f.x!=="center"&&g.left>-1&&(f.x=f.x==="left"?"right":"left"),f.y!=="center"&&g.top>-1&&(f.y=f.y==="top"?"bottom":"top"),d.cache.overflow={left:e.x!==f.x,top:e.y!==f.y},d.elements.tip.attr("rel")!==f.string()&&m.call(d,f)}function k(c){var d,e,f;d=this,d.options.style.tip.corner!==!1&&!!d.elements.tip&&(c||(c=new b(d.elements.tip.attr("rel"))),e=f=a.browser.msie?1:0,d.elements.tip.css(c[c.precedance],0),c.precedance==="y"?(a.browser.msie&&(f=parseInt(a.browser.version.charAt(0),10)===6?c.y==="top"?-3:1:c.y==="top"?1:2),c.x==="center"?d.elements.tip.css({left:"50%",marginLeft:-(d.options.style.tip.size.width/2)}):c.x==="left"?d.elements.tip.css({left:d.options.style.border.radius-e}):d.elements.tip.css({right:d.options.style.border.radius+e}),c.y==="top"?d.elements.tip.css({top:-f}):d.elements.tip.css({bottom:f})):(a.browser.msie&&(f=parseInt(a.browser.version.charAt(0),10)===6?1:c.x==="left"?1:2),c.y==="center"?d.elements.tip.css({top:"50%",marginTop:-(d.options.style.tip.size.height/2)}):c.y==="top"?d.elements.tip.css({top:d.options.style.border.radius-e}):d.elements.tip.css({bottom:d.options.style.border.radius+e}),c.x==="left"?d.elements.tip.css({left:-f}):d.elements.tip.css({right:f})),e="padding-"+c[c.precedance],c=d.options.style.tip.size[c.precedance==="x"?"width":"height"],d.elements.tooltip.css("padding",0).css(e,c),a.browser.msie&&parseInt(a.browser.version.charAt(0),6)===6&&(c=parseInt(d.elements.tip.css("margin-top"),10)||0,c+=parseInt(d.elements.content.css("margin-top"),10)||0,d.elements.tip.css({marginTop:c})))}function j(a,b,c){a=a.get(0).getContext("2d"),a.fillStyle=c,a.beginPath(),a.moveTo(b[0][0],b[0][1]),a.lineTo(b[1][0],b[1][1]),a.lineTo(b[2][0],b[2][1]),a.fill()}function i(){var b,c,e,f,g,i,j,k,l;b=this,b.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove(),e=b.options.style.border.width,f=b.options.style.border.radius,g=b.options.style.border.color||b.options.style.tip.color,i=d(f),j={};for(c in i)j[c]='<div rel="'+c+'" style="'+(/Left/.test(c)?"left":"right")+":0; position:absolute; height:"+f+"px; width:"+f+'px; overflow:hidden; line-height:0.1px; font-size:1px">',a("<canvas />").get(0).getContext?j[c]+='<canvas height="'+f+'" width="'+f+'" style="vertical-align: top"></canvas>':a.browser.msie&&(k=f*2+3,j[c]+='<v:arc stroked="false" fillcolor="'+g+'" startangle="'+i[c][0]+'" endangle="'+i[c][1]+'" style="width:'+k+"px; height:"+k+"px; margin-top:"+(/bottom/.test(c)?-2:-1)+"px; margin-left:"+(/Right/.test(c)?i[c][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'),j[c]+="</div>";c=b.getDimensions().width-Math.max(e,f)*2,c='<div class="qtip-betweenCorners" style="height:'+f+"px; width:"+c+"px; overflow:hidden; background-color:"+g+'; line-height:0.1px; font-size:1px;">',b.elements.wrapper.prepend('<div class="qtip-borderTop" dir="ltr" style="height:'+f+"px; margin-left:"+f+'px; line-height:0.1px; font-size:1px; padding:0;">'+j.topLeft+j.topRight+c),b.elements.wrapper.append('<div class="qtip-borderBottom" dir="ltr" style="height:'+f+"px; margin-left:"+f+'px; line-height:0.1px; font-size:1px; padding:0;">'+j.bottomLeft+j.bottomRight+c),a("<canvas />").get(0).getContext?b.elements.wrapper.find("canvas").each(function(){l=i[a(this).parent("[rel]:first").attr("rel")],h.call(b,a(this),l,f,g)}):a.browser.msie&&b.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>'),j=Math.max(f,f+(e-f)),e=Math.max(e-f,0),b.elements.contentWrapper.css({border:"0px solid "+g,borderWidth:e+"px "+j+"px"})}function h(a,b,c,d){a=a.get(0).getContext("2d"),a.fillStyle=d,a.beginPath(),a.arc(b[0],b[1],c,0,Math.PI*2,!1),a.fill()}function g(){var b,c,d;b=this,d=[!0,{}];for(c=0;c<arguments.length;c++)d.push(arguments[c]);for(c=[a.extend.apply(a,d)];typeof c[0].name=="string";)c.unshift(f(a.fn.qtip.styles[c[0].name]));c.unshift(!0,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},a.fn.qtip.styles.defaults),c=a.extend.apply(a,c),d=a.browser.msie?1:0,c.tip.size.width+=d,c.tip.size.height+=d,c.tip.size.width%2>0&&(c.tip.size.width+=1),c.tip.size.height%2>0&&(c.tip.size.height+=1),c.tip.corner===!0&&(c.tip.corner=b.options.position.corner.tooltip==="center"&&b.options.position.corner.target==="center"?!1:b.options.position.corner.tooltip);return c}function f(a){typeof a.tip!="object"&&(a.tip={corner:a.tip}),typeof a.tip.size!="object"&&(a.tip.size={width:a.tip.size,height:a.tip.size}),typeof a.border!="object"&&(a.border={width:a.border}),typeof a.width!="object"&&(a.width={value:a.width}),typeof a.width.max=="string"&&(a.width.max=parseInt(a.width.max.replace(/([0-9]+)/i,"$1"),10)),typeof a.width.min=="string"&&(a.width.min=parseInt(a.width.min.replace(/([0-9]+)/i,"$1"),10)),typeof a.tip.size.x=="number"&&(a.tip.size.width=a.tip.size.x,delete a.tip.size.x),typeof a.tip.size.y=="number"&&(a.tip.size.height=a.tip.size.y,delete a.tip.size.y);return a}function e(b,c){var d;b=a.extend(!0,{},b);for(d in b)c===!0&&/(tip|classes)/i.test(d)?delete b[d]:!c&&/(width|border|tip|title|classes|user)/i.test(d)&&delete b[d];return b}function d(b){var c;a("<canvas />").get(0).getContext?c={topLeft:[b,b],topRight:[0,b],bottomLeft:[b,0],bottomRight:[0,0]}:a.browser.msie&&(c={topLeft:[-90,90,0],topRight:[-90,90,-b],bottomLeft:[90,270,0],bottomRight:[90,270,-b]});return c}function c(a,b,c){b={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[b/2,0],[b,c]],bottomcenter:[[0,0],[b,0],[b/2,c]],rightcenter:[[0,0],[b,c/2],[0,c]],leftcenter:[[b,0],[b,c],[0,c/2]]},b.lefttop=b.bottomright,b.righttop=b.bottomleft,b.leftbottom=b.topright,b.rightbottom=b.topleft;return b[a]}function b(a){this.x=String(a).replace(/middle/i,"center").match(/left|right|center/i)[0].toLowerCase(),this.y=String(a).replace(/middle/i,"center").match(/top|bottom|center/i)[0].toLowerCase(),this.offset={left:0,top:0},this.precedance=a.charAt(0).search(/^(t|b)/)>-1?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y}}a(document).ready(function(){a.fn.qtip.cache={screen:{scroll:{left:a(window).scrollLeft(),top:a(window).scrollTop()},width:a(window).width(),height:a(window).height()}};var b,c;a(window).bind("resize scroll",function(d){clearTimeout(b),b=setTimeout(function(){d.type==="scroll"?a.fn.qtip.cache.screen.scroll={left:a(window).scrollLeft(),top:a(window).scrollTop()}:(a.fn.qtip.cache.screen.width=a(window).width(),a.fn.qtip.cache.screen.height=a(window).height());for(c=0;c<a.fn.qtip.interfaces.length;c++){var b=a.fn.qtip.interfaces[c];b&&b.status&&b.status.rendered===!0&&b.options.position.type!=="static"&&(b.options.position.adjust.scroll&&d.type==="scroll"||b.options.position.adjust.resize&&d.type==="resize")&&b.updatePosition(d,!0)}},100)}),a(document).bind("mousedown.qtip",function(b){a(b.target).parents("div.qtip").length===0&&a(".qtip[unfocus]").each(function(){var c=a(this).qtip("api");a(this).is(":visible")&&c&&c.status&&!c.status.disabled&&a(b.target).add(c.elements.target).length>1&&c.hide(b)})})}),a.fn.qtip=function(c,d){var e,h,i,j,k,l,m,n;if(typeof c=="string"){if(c==="api")return a(this).data("qtip").interfaces[a(this).data("qtip").current];if(c==="interfaces")return a(this).data("qtip").interfaces}else{c||(c={});if(typeof c.content!="object"||c.content.jquery&&c.content.length>0)c.content={text:c.content};typeof c.content.title!="object"&&(c.content.title={text:c.content.title}),typeof c.position!="object"&&(c.position={corner:c.position}),typeof c.position.corner!="object"&&(c.position.corner={target:c.position.corner,tooltip:c.position.corner}),typeof c.show!="object"&&(c.show={when:c.show}),typeof c.show.when!="object"&&(c.show.when={event:c.show.when}),typeof c.show.effect!="object"&&(c.show.effect={type:c.show.effect}),typeof c.hide!="object"&&(c.hide={when:c.hide}),typeof c.hide.when!="object"&&(c.hide.when={event:c.hide.when}),typeof c.hide.effect!="object"&&(c.hide.effect={type:c.hide.effect}),typeof c.style!="object"&&(c.style={name:c.style}),c.style=f(c.style),j=a.extend(!0,{},a.fn.qtip.defaults,c),j.style=g.call({options:j},j.style),j.user=a.extend(!0,{},c)}return a(this).each(function(){if(typeof c=="string"){l=c.toLowerCase(),i=a(this).qtip("interfaces");if(typeof i=="object")if(d===!0&&l==="destroy")for(;i.length>0;)i[i.length-1].destroy();else{d!==!0&&(i=[a(this).qtip("api")]);for(e=0;e<i.length;e++)l==="destroy"?i[e].destroy():i[e].status.rendered===!0&&(l==="show"?i[e].show():l==="hide"?i[e].hide():l==="focus"?i[e].focus():l==="disable"?i[e].disable(!0):l==="enable"?i[e].disable(!1):l==="update"&&i[e].updatePosition())}}else{m=a.extend(!0,{},j),m.hide.effect.length=j.hide.effect.length,m.show.effect.length=j.show.effect.length,m.position.container===!1&&(m.position.container=a(document.body)),m.position.target===!1&&(m.position.target=a(this)),m.show.when.target===!1&&(m.show.when.target=a(this)),m.hide.when.target===!1&&(m.hide.when.target=a(this)),m.position.corner.tooltip=new b(m.position.corner.tooltip),m.position.corner.target=new b(m.position.corner.target),h=a.fn.qtip.interfaces.length;for(e=0;e<h;e++)if(typeof a.fn.qtip.interfaces[e]=="undefined"){h=e;break}k=new r(a(this),m,h),a.fn.qtip.interfaces[h]=k,typeof a(this).data("qtip")=="object"&&a(this).data("qtip")?(typeof a(this).attr("qtip")=="undefined"&&(a(this).data("qtip").current=a(this).data("qtip").interfaces.length),a(this).data("qtip").interfaces.push(k)):a(this).data("qtip",{current:0,interfaces:[k]}),m.content.prerender===!1&&m.show.when.event!==!1&&m.show.ready!==!0?m.show.when.target.bind(m.show.when.event+".qtip-"+h+"-create",{qtip:h},function(b){n=a.fn.qtip.interfaces[b.data.qtip],n.options.show.when.target.unbind(n.options.show.when.event+".qtip-"+b.data.qtip+"-create"),n.cache.mouse={x:b.pageX,y:b.pageY},q.call(n),n.options.show.when.target.trigger(n.options.show.when.event)}):(k.cache.mouse={x:m.show.when.target.offset().left,y:m.show.when.target.offset().top},q.call(k))}})},a.fn.qtip.interfaces=[],a.fn.qtip.log={error:function(){return this}},a.fn.qtip.constants={},a.fn.qtip.defaults={content:{prerender:!1,text:!1,url:!1,data:null,title:{text:!1,button:!1}},position:{target:!1,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:!0,screen:!1,scroll:!0,resize:!0},type:"absolute",container:!1},show:{when:{target:!1,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:!1,ready:!1},hide:{when:{target:!1,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:!1},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}},a.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:!1,color:!1,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}}(jQuery),function(a){a.fn.dropdown=function(c,d){var e=this;return e.each(function(){var f=a(this);f.selector=e.selector,f.data("dropdown",new b(f,c,d))})};var b=function(b,c,d){var e=this;this.trigger=b,this.content=a(c),this.options=a.extend({},this.options,d||{}),this.options.arrowDropdown=this.trigger.hasClass("jquery-dropdown-arrow-only"),this.actualTrigger=this.options.arrowDropdown?this.trigger.find("span.jquery-dropdown-arrow"):this.trigger;if(this.content.size()===0)e.debug&&console.error('No dropdown content was found, selector provided was "'+this.content.selector+'".');else{this.trigger.addClass("jquery-dropdown-trigger"),this.content.addClass("jquery-dropdown-content").hide(),this.options.closeButton&&this.options.closeButton!==""&&this.content.prepend('<a href="#" class="close-button"><img src="'+this.options.closeButton+'" alt="Close"></a>').children("a.close-button").click(function(a){a.preventDefault(),e.trigger.trigger("dropup")}),a.each(["droptoggle","dropdown","dropup","dropalign"],function(a,b){e.trigger.bind(b,function(a){e.events[b](a,e)})}),e.actualTrigger.bind("click",function(a){e.events.click(a,e)}),this.options.closeOnOutsideClick&&(a("body").click(function(a){e.trigger.hasClass("jquery-dropdown-active")&&(a.preventDefault(),e.trigger.trigger("dropup"))}),this.content.click(function(a){a.stopPropagation()})),this.options.closeOnLinkClick&&a("a",this.content).live("click",function(a){e.trigger.trigger("dropup")}),this.options.setMaxHeight&&(this.setMaxHeight(),a(window).resize(a.delayedFunction(function(){e.setMaxHeight()})));return this}};b.prototype={version:"1.3.1",trigger:null,content:function(){return this.content},options:{closeOnOutsideClick:!0,closeOnLinkClick:!0,setMinWidth:!1,setMaxHeight:!1,maxHeightPadding:10,align:"left",closeButton:"/images/dropdown/close.png"},setMaxHeight:function(){var b=this,c=b.trigger.offset(),d=b.trigger.outerHeight(),e=a(window).height(),f=Math.floor(e-d-c.top-b.options.maxHeightPadding);f<20&&(f=20),b.content.css({overflow:"auto","max-height":f+"px"})},events:{click:function(a,b){a.preventDefault(),a.stopPropagation(),b.trigger.trigger("droptoggle")},droptoggle:function(a,b){b.content.is(":hidden")?b.trigger.trigger("dropdown"):b.trigger.trigger("dropup")},dropalign:function(b,c){var d=a(window).width(),e=c.content.parents().eq(0).offsetParent().width(),f=c.options.closeButton&&c.options.closeButton!==""?20:0,g=c.trigger.position(),h=c.trigger.outerHeight(),i=g.top+h-1;f+=7,c.options.setMinWidth&&c.content.css({"min-width":c.trigger.outerWidth()-12+"px"}),c.content.css("visibility","hidden"),c.content.show();var j=c.content.outerWidth(!0),k=c.content.width();c.content.hide(),c.content.css("visibility","visible");if(c.options.align=="left"){var l;g.left+j>d?l=g.left+(d-(g.left+j)-30):l=g.left,c.content.css({top:i.round(),left:l.round()})}else if(c.options.align=="right"){var m=c.trigger.outerWidth(),n=e-(g.left+m)-1;c.content.css({top:i.floor(),right:n.floor()})}},dropdown:function(b,c){RPM.guarded_refresh.toggle(),c.trigger.trigger("dropalign"),a(".jquery-dropdown-active").trigger("dropup");if(a.support.windows||a.support.linux)c.previouslyHidden=a("object, embed, select"),c.previouslyHidden.css("visibility","hidden");c.trigger.addClass("jquery-dropdown-active"),c.content.show(),!c.debug},dropup:function(a,b){b.trigger.hasClass("jquery-dropdown-active")&&(RPM.guarded_refresh.toggle(),b.content.hide(),b.trigger.removeClass("jquery-dropdown-active"),b.previouslyHidden&&(b.previouslyHidden.css("visibility","visible"),b.previouslyHidden=null))}}},a.extend(a.support,{windows:navigator.platform.search(/Win/)>-1,linux:navigator.platform.search(/Linux/)>-1})}(jQuery),function(a){var b="buttons";a.widget("ui."+b,{_create:function(){var b=this;this.options.textViews=a(this.options.textViews),this.options.click=this.options.click||function(){},this.options.deselectable=this.options.deselectable||!1,this._prepare(),this._selectCurrentSelection()},_prepare:function(){var a=this;this.element.find("li").click(function(b){a._doClick(b,a)})},_button:function(a){var a=a||this.options.currentSelection,b="";a&&(a=a.replace(/ /g,"."),b=this.element.find("li."+a)),b.length==0&&a!=null&&console.error("jQuery.buttons:","Couldn't find button with name '"+a+"'");return b},_selectCurrentSelection:function(){var a=this.options.currentSelection;a&&(this.element.find("li.selected").removeClass("selected"),this._button(a).addClass("selected"),this._updateViews())},_doClick:function(b,c){b.preventDefault(),b.stopPropagation(),c._selectButton(a(b.currentTarget))},_selectButton:function(b,c){this.options.deselectable&&b.hasClass("selected")?(b.parent().find(".selected").removeClass("selected"),this.options.currentSelection=null):(b.parent().find(".selected").removeClass("selected"),b.addClass("selected"),this.options.currentSelection=a.trim(b.attr("class").replace("selected",""))),this.options.click.call(b[0],[c||null]),this._selectCurrentSelection()},_updateViews:function(){this.options.textViews.text(this.stringValue())},stringValue:function(){var a=this.options.currentSelection;return this._button(a).text()},value:function(a){if(a===undefined)return this.options.currentSelection;this.options.currentSelection=a,this._selectButton(this._button(a));return this}}),a.ui[b].getter=" value",a.extend(a.ui[b],{defaults:{currentSelection:null,textViews:[]}})}(jQuery),function(a){var b="week_selector";a.widget("ui."+b,{options:{currentDate:new Date,numWeeksEachNav:1,weeksToShow:2,textViews:[],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_create:function(){var b=this;typeof this.options.currentDate!="object"&&(this.options.currentDate=new Date(parseInt(this.options.currentDate,10)*1e3)),this.options.currentDate=this._setToMidnight(this.options.currentDate),this.options.textViews=a(this.options.textViews),this._prepare(),this._goToDate(this.options.currentDate)},_prepare:function(){var b=this;this.element.empty(),this.previous=a('<a href="#" class="previous">Previous</a>'),this.today=a('<a href="#" class="today">Today</a>'),this.next=a('<a href="#" class="next">Next</a>');var c=a("<ul>").addClass("actions").append(a("<li>").append(this.previous)).append(a("<li>").append(this.today)).append(a("<li>").append(this.next));this.container=a('<div class="container">'),this.scroller=a('<div class="scroller">'),this.element.append(this.container),this.container.append(this.scroller),this.container.before(c),this.previous.click(function(a){b._goPrevious(),a.stopPropagation(),a.preventDefault()}),this.today.click(function(a){b._goToday(),a.stopPropagation(),a.preventDefault()}),this.next.click(function(a){b._goNext(),a.stopPropagation(),a.preventDefault()})},_getCurrentlyVisibleWeek:function(){return this.scroller.children(":last-child").data("date")},_goNext:function(){this._goToDate(this._addDays(this._getCurrentlyVisibleWeek(),+(this.options.numWeeksEachNav*7)))},_goToday:function(){this._goToDate(this._today())},_goPrevious:function(){this._goToDate(this._addDays(this._getCurrentlyVisibleWeek(),-(this.options.numWeeksEachNav*7)))},_goToDate:function(a){var b=this.options.weeksToShow;this.scroller.empty();for(var c=1;c<=b;c++)this._appendWeek(this._addDays(a,7*(c-b)));this._updateViews()},_prependWeek:function(a){this.scroller.prepend(this._weekHtml(a))},_appendWeek:function(a){this.scroller.append(this._weekHtml(a))},_weekHtml:function(b){var c=this;if(b.getDay()!==0)var b=this._addDays(b,-b.getDay());var d=[],e=this._today(),f=this.options.currentDate;d.push('<ul class="week">');for(var g=0;g<7;g++){var h=this._addDays(b,g),i=h.getDay(),j=h.getDate(),k='<li class="'+this.options.dayNames[i].toLowerCase();h>e&&(k+=" future"),h.toDateString()==e.toDateString()&&(k+=" today"),h.toDateString()==f.toDateString()&&(k+=" selected"),k+='">'+j;if(j==1){var l=this.options.monthNames[h.getMonth()].substr(0,3)+".";k+=' <span class="month_name">'+l+"</span>"}k+="</li>",d.push(k)}d.push("</ul>"),d=a(d.join("\n")),d.data("date",b),d.find("li:not(.future)").click(function(a){c._doClick(a,c)});return d},_doClick:function(b,c){b.preventDefault(),b.stopPropagation();var d=a(b.currentTarget);c.element.find(".selected").removeClass("selected"),d.addClass("selected");var e=d.parent(),f=e.data("date");c.options.currentDate=c._addDays(f,e.children().index(d)),this._updateViews()},_updateViews:function(){this.options.textViews.text(this.stringValue())},_addDays:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+b)},_setToMidnight:function(a){return this._addDays(a,0)},_today:function(){return this._setToMidnight(new Date)},stringValue:function(){var a=this.options.currentDate;return this.options.dayNames[a.getDay()]+", "+this.options.monthNames[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()},value:function(){return this.options.currentDate}})}(jQuery),function(a){var b="time_selector";a.widget("ui."+b,{options:{currentTime:new Date,textViews:[],ordinalNames:["am","pm"]},_create:function(){var b=this;typeof this.options.currentTime!="object"&&(this.options.currentTime=new Date(parseInt(this.options.currentTime,10)*1e3)),this.options.currentTime.setMinutes((this.options.currentTime.getMinutes()/15).floor()*15),this.options.textViews=a(this.options.textViews),this._prepare(),this._selectCurrentTime()},_prepare:function(){var a=this;this.element.empty(),this.element.append(this._html())},_html:function(){var b=this,c=[];c.push('<ul class="hours">'),c.push("<li>12</li>");for(var d=1;d<12;d++)c.push("<li>"+d+"</li>");c.push("</ul>"),c.push('<ul class="minutes">'),a.each(["00","15","30","45"],function(a,b){c.push("<li>"+b+"</li>")}),c.push("</ul>"),c.push('<ul class="ordinal">'),a.each(this.options.ordinalNames,function(a,b){c.push('<li class="'+b+'">'+b+"</li>")}),c.push("</ul>"),c=a(c.join("\n")),c.find("li").click(function(a){b._doClick(a,b)});return c},_selectCurrentTime:function(){var a=this.options.currentTime;this.element.find("li.selected").removeClass("selected");var b=a.getHours()%12;this.element.find("ul.hours li:eq("+b+")").addClass("selected");var c=(a.getMinutes()/15).floor();this.element.find("ul.minutes li:eq("+c+")").addClass("selected");var d=this.options.ordinalNames[a.getHours()<12?0:1];this.element.find("ul.ordinal li."+d).addClass("selected"),this._updateViews()},_getCurrentOrdinal:function(){return this.element.find("ul.ordinal").children().index(this.element.find("ul.ordinal li.selected"))},_doClick:function(b,c){b.preventDefault(),b.stopPropagation();var d=a(b.currentTarget),e=c.options.currentTime;d.parent().find(".selected").removeClass("selected"),d.addClass("selected");var f=d.parent(),g=f.attr("class");if(g.search("hours")!==-1||g.search("ordinal")!==-1){var h=this._getCurrentOrdinal()==0?0:12,i=parseInt(this.element.find("ul.hours li.selected").text(),10);i==12&&(h==0?i=0:h==12&&(h=0)),c.options.currentTime.setHours(h+i)}else g.search("minutes")!==-1&&c.options.currentTime.setMinutes(parseInt(d.text(),10));this._updateViews()},_updateViews:function(){this.options.textViews.text(this.stringValue())},_padNum:function(a,b){var b=b||2,c=a.toString();if(c.length>=b)return c;for(var d=0;d<b-c.length;d++)c="0"+c;return c},stringValue:function(){var a=this.options.currentTime,b=a.getHours()%12==0?"12:":a.getHours()%12+":",c=this._padNum(a.getMinutes())+" ",d=this.options.ordinalNames[this._getCurrentOrdinal()];return b+c+d},value:function(){var a=this.options.currentTime;return a.getHours()*60*60+a.getMinutes()*60}})}(jQuery),function(a){var b=function(a,b){return function(){return a[b].apply(a,arguments)}},c=function(a,b){if(!b)return a;var c={};jQuery.each(a,function(a,d){c[b+"["+a+"]"]=d});return c};a.widget("rpm.time_window",{options:{twParam:"tw",durParam:"dur",endParam:"end",posParam:"pos",durationKeys:{last_30_minutes:1800,last_60_minutes:3600,last_3_hours:10800,last_6_hours:21600,last_12_hours:43200,last_24_hours:86400,last_3_days:259200,last_7_days:604800,last_30_days:2592e3,last_90_days:7776e3},setTimeWindowPath:"/set_time_window",timeWindow:window.RPM.time_window,skipDropdown:!1},_create:function(){var c=this;this.display=this.element,this.dropdown=a(this.options.dropdown),this.loadingIndicator=this.display.prev("span").eq(0),this.display.bind("dropdown",function(){a.isReady&&c.stopLoading()}),this.options.timeWindow[this.options.durParam]&&this.options.timeWindow[this.options.durParam].indexOf(".")!=-1&&(this.options.timeWindow[this.options.durParam]="last_30_minutes");if(this.options.skipDropdown===!1){var d=this.display.dropdown(this.options.dropdown,{align:jQuery("body").hasClass("v31")?"right":"left",closeOnLinkClick:!1,closeButton:!1});RPM&&RPM.guarded_refresh&&(d.bind("dropdown",function(){RPM.guarded_refresh.disable()}),d.bind("dropup",function(){RPM.guarded_refresh.enable()}))}this.presentTimeWindowDOM=this.dropdown.find(".present_time_window"),this.presentTimeWindow=b(this.presentTimeWindowDOM,"present_time_window"),this.presentTimeWindow(this.options),this.historicalTimeWindowDOM=this.dropdown.find(".historical_time_window"),this.historicalAvailable=this.historicalTimeWindowDOM.find("p.feature_unavailable").length==0,this.historicalLite=!this.historicalAvailable&&this.dropdown.find(".switch_mode_links .historical.current").length>0,this.historicalAvailable&&(this.historicalTimeWindow=b(this.historicalTimeWindowDOM,"historical_time_window"),this.historicalTimeWindow(this.options)),this.switchModeLinks=this.dropdown.find(".switch_mode_links"),this.originalTimeWindowMode=a.trim(this.switchModeLinks.find(".current").attr("class").replace("current","")),this.switchModeLinks.find(".present a").click(function(b){c.switchModeLinks.find("li").removeClass("current"),a(this).parent().addClass("current"),c.presentTimeWindowDOM.show(),c.historicalTimeWindowDOM.hide(),c.activeTimeWindow=c.presentTimeWindow,c.display.trigger("dropdown"),b.preventDefault()}),this.switchModeLinks.find(".historical a").click(function(b){c.switchModeLinks.find("li").removeClass("current"),a(this).parent().addClass("current"),c.presentTimeWindowDOM.hide(),c.historicalTimeWindowDOM.show(),c.display.trigger("dropdown"),c.historicalAvailable&&(c.activeTimeWindow=c.historicalTimeWindow),b.preventDefault()}),this.historicalAvailable&&this.options.timeWindow[this.options.endParam]?this.activeTimeWindow=this.historicalTimeWindow:this.activeTimeWindow=this.presentTimeWindow,RPM.changed_time_window&&window.setTimeout(function(){c.display.effect("highlight",{times:1,color:"#FC7"},1500)},500)},startLoading:function(){this.display.trigger("dropup"),this.loadingIndicator.addClass("loading")},stopLoading:function(){window.stop&&window.stop(),this.loadingIndicator.removeClass("loading")}}),a.rpm.time_window.getter="value valueWithEndTime",a.each(a.rpm.time_window.getter.split(" "),function(b,c){a.rpm.time_window.prototype[c]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(c);return this.activeTimeWindow.apply(this,a)}}),a.widget("rpm.present_time_window",a.rpm.time_window,{_create:function(){var a=this;this.dropdown=this.element,this.dropdown.find("ul.list li a").click(function(){})},value:function(a){var b={};b[this.options.durParam]=this.duration();return c(b,a||this.options.twParam)},valueWithEndTime:function(a){var b={};b[this.options.durParam]=this.duration(),b[this.options.endParam]=((new Date).getTime()/1e3).floor();return c(b,a||this.options.twParam)},duration:function(){return a.trim(this.dropdown.find("li.selected").attr("class").match(/present_([^ ]+)/)[1]).replace("-",".")}}),a.widget("rpm.historical_time_window",a.rpm.time_window,{_create:function(){this.dropdown=this.element;var c=this,d=this.options.timeWindow,e=d[this.options.durParam],f=this._durationToSeconds(e),g=d[this.options.endParam],h=d[this.options.posParam];h=="starting"?g-=f:h=="around"&&(g-=f/2,g=g.round()),this.durationSelector=b(this.dropdown.find(".tw-ui-duration ul.buttons"),"buttons"),this.durationSelector({currentSelection:e,textViews:this.dropdown.find(".tw-ui-duration .value")}),this.positionSelector=b(this.dropdown.find(".tw-ui-position ul.buttons"),"buttons"),this.positionSelector({currentSelection:h||"ending",textViews:this.dropdown.find(".tw-ui-position .value")}),this.weekSelector=b(this.dropdown.find(".jquery-week-selector"),"week_selector"),this.weekSelector({currentDate:g,weeksToShow:6,textViews:this.dropdown.find(".tw-ui-date .value")}),this.timeSelector=b(this.dropdown.find(".jquery-time-selector"),"time_selector"),this.timeSelector({currentTime:g,textViews:this.dropdown.find(".tw-ui-time .value")}),this.element.find("span.value a.submit").click(function(b){b.preventDefault(),b.stopPropagation();var d=c.value();d.back=window.location.href,window.location.href=c.options.setTimeWindowPath+"?"+a.param(d)})},value:function(a){var b={};b[this.options.durParam]=this.duration(),b[this.options.endParam]=this.endTime(),b[this.options.posParam]=this.position();return c(b,a||this.options.twParam)},valueWithEndTime:function(a){return this.value(a)},duration:function(){return this.durationSelector("value").replace("-",".")},_durationToSeconds:function(a){return isNaN(parseFloat(a))?this.options.durationKeys[a]:a*60*60},position:function(){return this.positionSelector("value")},date:function(){var a=(this.weekSelector("value").getTime()/1e3).round();a+=this.timeSelector("value");return a},endTime:function(){var a=this.date(),b=this._durationToSeconds(this.duration()),c=this.position();return c=="starting"?(a+b).round():c=="around"?(a+b/2).round():a}})}(jQuery),function(a){window.RPM=a.extend(window.RPM,{permalink:{init:function(){a("#wrapper").append(a("#permalink_tooltip")),a("body").bind("enterKioskMode",function(){RPM.permalink.hide()}),a("#permalink-link").click(function(b){a("#permalink_tooltip").is(":visible")?RPM.permalink.hide():RPM.permalink.show(),b.preventDefault()}),RPM.permalink.attach_focus_event()},show:function(){var b=a("#permalink_tooltip");b.length>0&&(b.fadeIn("fast"),a("input",b).select())},hide:function(){var b=a("#permalink_tooltip");b.length>0&&b.fadeOut("fast")},update:function(b){a("#permalink").text(b),a("#permalink-link").attr("href",b),a("#permalink_faux_input input").attr("value",b)},attach_focus_event:function(){var b=a("#permalink_faux_input input");b.click(function(){b.select()})}}})}(jQuery);if(typeof infosoftglobal=="undefined")var infosoftglobal=new Object;typeof infosoftglobal.FusionChartsUtil=="undefined"&&(infosoftglobal.FusionChartsUtil=new Object),infosoftglobal.FusionCharts=function(a,b,c,d,e,f,g,h,i,j,k){!document.getElementById||(this.initialDataSet=!1,this.params=new Object,this.variables=new Object,this.attributes=[],a&&this.setAttribute("swf",a),b&&this.setAttribute("id",b),c&&this.setAttribute("width",c),d&&this.setAttribute("height",d),g&&this.addParam("bgcolor",g),this.addParam("quality","high"),this.addParam("allowScriptAccess","always"),this.addVariable("chartWidth",c),this.addVariable("chartHeight",d),e=e?e:0,this.addVariable("debugMode",e),this.addVariable("DOMId",b),f=f?f:0,this.addVariable("registerWithJS",f),h=h?h:"noScale",this.addVariable("scaleMode",h),i=i?i:"EN",this.addVariable("lang",i),this.detectFlashVersion=j?j:1,this.autoInstallRedirect=k?k:1,this.installedVer=infosoftglobal.FusionChartsUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(infosoftglobal.FusionCharts.doPrepUnload=!0))},infosoftglobal.FusionCharts.prototype={setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var a=[],b,c=this.getVariables();for(b in c)a.push(b+"="+c[b]);return a},getSWFHTML:function(){var a="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){a='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ',a+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var b=this.getParams();for(var c in b)a+=[c]+'="'+b[c]+'" ';var d=this.getVariablePairs().join("&");d.length>0&&(a+='flashvars="'+d+'"'),a+="/>"}else{a='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',a+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var b=this.getParams();for(var c in b)a+='<param name="'+c+'" value="'+b[c]+'" />';var d=this.getVariablePairs().join("&");d.length>0&&(a+='<param name="flashvars" value="'+d+'" />'),a+="</object>"}return a},redrawChart:function(){var a=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));a&&typeof a.redrawChart=="function"&&a.redrawChart()},setDataURL:function(a){if(this.initialDataSet==!1)this.addVariable("dataURL",a),this.initialDataSet=!0;else{var b=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));b.setDataURL(a)}},setDataXML:function(a){if(this.initialDataSet==!1)this.addVariable("dataXML",a),this.initialDataSet=!0;else{var b=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));b.setDataXML(a)}},getDataXML:function(){var a=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));return typeof a.getDataXML=="function"?a.getDataXML():"getDataXML not defined on this chart object."},setTransparent:function(a){typeof a=="undefined"&&(a=!0),a?this.addParam("WMode","transparent"):this.addParam("WMode","window")},render:function(a){if(!(this.detectFlashVersion==1&&this.installedVer.major<8)){var c=typeof a=="string"?document.getElementById(a):a;c.innerHTML=this.getSWFHTML(),!document.embeds[this.getAttribute("id")]&&!window[this.getAttribute("id")]&&(window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id")));return!0}if(this.autoInstallRedirect!=1)return!1;var b=window.confirm("You need Adobe Flash Player 8 (or above) to view the charts. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.");if(b)window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash";else return!1}},infosoftglobal.FusionChartsUtil.getPlayerVersion=function(){var a=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];b&&b.description&&(a=new infosoftglobal.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var c=1,d=3;while(c)try{d++,c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d),a=new infosoftglobal.PlayerVersion([d,0,0])}catch(e){c=null}}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new infosoftglobal.PlayerVersion([6,0,21]),c.AllowScriptAccess="always"}catch(e){if(a.major==6)return a}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}c!=null&&(a=new infosoftglobal.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(",")))}return a},infosoftglobal.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0,this.minor=a[1]!=null?parseInt(a[1]):0,this.rev=a[2]!=null?parseInt(a[2]):0},infosoftglobal.FusionChartsUtil.cleanupSWFs=function(){var a=document.getElementsByTagName("OBJECT");for(var b=a.length-1;b>=0;b--){a[b].style.display="none";for(var c in a[b])typeof a[b][c]=="function"&&(a[b][c]=function(){})}},infosoftglobal.FusionCharts.doPrepUnload&&(infosoftglobal.unloadSet||(infosoftglobal.FusionChartsUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",infosoftglobal.FusionChartsUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",infosoftglobal.FusionChartsUtil.prepUnload),infosoftglobal.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(a){return document.all[a]}),Array.prototype.push==null&&(Array.prototype.push=function(a){this[this.length]=a;return this.length}),infosoftglobal.FusionChartsUtil.getChartObject=function(a){var b=null;navigator.appName.indexOf("Microsoft Internet")==-1?document.embeds&&document.embeds[a]?b=document.embeds[a]:b=window.document[a]:b=window[a],b||(b=document.getElementById(a));return b};var getChartFromId=infosoftglobal.FusionChartsUtil.getChartObject,FusionCharts=infosoftglobal.FusionCharts;(function(a){RPM.show_new_note=function(b,c,d){RPM.guarded_refresh.disable();var e=RPM.page_tw("valueWithEndTime");jQuery.extend(b,e),jQuery.extend(b,{data_url:c}),typeof d!="undefined"&&jQuery.extend(b,d),RPM.lightbox.open_for_url(RPM.URL("/accounts/ACCOUNT_ID/notes/new"),{params:b,innerWidth:545,innerHeight:600,onLoad:function(){window.snapping_chart_url=c},onComplete:function(){a("#note_item_note_text").focus()},onCleanup:function(){a.rpm.chart.unregisterAll("#notes_snap_form"),a.rpm.highcharts.unregisterAll("#notes_snap_form"),window.snapping_chart_url=null,RPM.guarded_refresh.enable()}});return!1},RPM.create_note=function(b,c){RPM.guarded_refresh.disable();var d=RPM.page_tw("valueWithEndTime");jQuery.extend(b,d),typeof c!="undefined"&&jQuery.extend(b,c),RPM.lightbox.open({html:RPM.SPINNER}),a.post(RPM.URL("/accounts/ACCOUNT_ID/notes"),b,function(a){window.location.href=a.redirect},"json");return!1},RPM.new_js_note=function(a,b){var c={context_url:window.RPM.get_complete_url(),app_name:window.RPM.application_name,app_id:window.RPM.application_id};RPM.show_new_note(c,a,b)},RPM.new_note=function(a,b,c){var d={swf:a,context_url:window.RPM.get_complete_url(),app_name:window.RPM.application_name,app_id:window.RPM.application_id};RPM.show_new_note(d,b,c)},RPM.set_note_action_after=function(b){a("#action_after").attr("value",b)},RPM.submit_note_form=function(){jQuery.ajax({url:jQuery("#notes_snap_form form").attr("action"),type:"POST",data:jQuery("#notes_snap_form form").serialize(),dataType:"script"});return},RPM.make_note_public=function(a){RPM.lightbox.open_for_url(a);return!1}})(jQuery),function(a){var b="chart";a.widget("rpm."+b,a.rpm.component({component:"rpm."+b,options:{chartDebug:!1,dataUrl:null,width:"100%",title:null,snappable:!0,transparent:!1,loadingOverlay:!0,fluid:!0,render:!1,callback:{}},_create:function(){var c=this,d=!1;a.each(["swf","height"],function(a,b){typeof c.options[b]=="undefined"&&(d=!0,c.error("Missing required option '"+b+"'."))});if(!d){this.chartDiv=this.element,this.chartDiv.addClass("chart"),this.id=this.chartDiv.attr("id").replace("div_","");if(typeof a.rpm[b].instances[this.id]!="undefined"){c.error("Chart id '"+this.id+"' already registered.");return}this._bindCallbacks(),this.options.fluid&&a.rpm[b].bindFluidResizeHandler(),this.options.swf.search(/fusion_charts_v2\//i)==-1&&(this.options.loadingOverlay=!1);var e=this.options.render?"rendering immediately":"delayed rendering";this.log(this.id+":","registering instance",e),a.rpm[b].instances[this.id]=this,this.rendered=!1,this.options.render&&a(function(){c._flashInstalled()===!0?c.render():c._addRequiresFlashMessage()})}},_bindCallbacks:function(){var b=this;this.callbacks={},this.lastCallback="",this.bindCallback("FC_Loaded",function(){this.options.loadingOverlay&&(this._addOverlay(),this._addLoadingToOverlay())}),this.bindCallback("FC_DataLoaded",function(){this.log(this.id+":","FC_DataLoaded"),this._removeLoadingFromOverlay(),this._removeOverlay(),this.dataLoaded=!0}),this.bindCallback("FC_DataLoadError",function(){this.log(this.id+":","errored out with","FC_DataLoadError"),this._addErrorToOverlay()}),this.bindCallback("FC_NoDataToDisplay",function(){this.log(this.id+":","errored out with","FC_NoDataToDisplay"),this._addErrorToOverlay()}),this.bindCallback("FC_DataXMLInvalid",function(){this.log(this.id+":","errored out with","FC_DataXMLInvalid"),this._addErrorToOverlay()}),a.each(this.options.callback,function(a,c){b.bindCallback(a,c)})},_dataUrlWithTimeWindow:function(){var a=RPM.timeWindowParameters(),b=unescape(this.options.dataUrl);return b.indexOf("tw[dur]=")==-1&&b.indexOf("tw[start]=")==-1?this.options.dataUrl.indexOf("?")==-1?this.options.dataUrl+"?"+a:this.options.dataUrl+"&"+a:this.options.dataUrl},_createFCObject:function(){var b=this.fcObject=new FusionCharts(this.options.swf,this.id,this.options.width,this.options.height,this.options.chartDebug?1:0,1,"#ffffff");this.chartDiv[0].FusionChartObj=b;var c=this.options.width,d=this.options.height;b.addVariable("chartWidth",c.toString().search("%")>-1?this.chartDiv.width()-8:c),b.addVariable("chartHeight",d.toString().search("%")>-1?this.chartDiv.height():d);var e="width: "+c+" height: "+d;if(this.options.dataUrl==null){b.setDataXML("<chart/>");var f="with empty data"}else{data_url=this._dataUrlWithTimeWindow(),b.setDataURL(escape(escape(data_url)));var f="with dataUrl"+data_url}var g=a.support.windows||a.support.linux||this.options.transparent;b.setTransparent(g);var h=(g?"":"not ")+"transparent";this.log(this.id+":","render options:",e,h,f);return b},_addNRLogo:function(){this.options.height>160&&this.chartDiv.append(a('<div style="float:right;" class=""><img src="/images/new_relic_rpm_transparent.png" /></div>'))},_addRequiresFlashMessage:function(){this.chartDiv.addClass("error").after('<div class="overlay"><div class="error_container disrespect_visited"><h3>This chart\'s data failed to load</h3><p class="single">Please download and install <a href="http://get.adobe.com/flashplayer/">Adobe Flash Player</a> to view this chart.</p></div></div>')},_flashInstalled:function(){var a=swfobject.getFlashPlayerVersion();if(a.major>=8)return!0},_addActionPanel:function(){var b=this;embedded_charts_url=RPM.URL("/accounts/ACCOUNT_ID/embedded_charts");if(this.options.snappable){var c=a('<ul class="action_bar disrespect_visited clearfix"></ul>');this.chartDiv.append(c),RPM.can_create_notes===!0&&c.append(a("<li></li>").append(a('<a href="#" class="add_to_note icon">Add to note</a>').click(function(){var a={};b.options.title&&(a={chart_title:b.options.title}),window.RPM.new_note(b.options.swf,b._dataUrlWithTimeWindow(),a);return!1}))),RPM.can_embed_charts===!0?c.append(a("<li></li>").append(a('<a href="#" class="bargraph icon">Embed</a>').click(function(){var c={url:b._dataUrlWithTimeWindow()};RPM.application_name!==undefined&&b.options.chart_title!==undefined?c.chart_title=RPM.application_name+": "+b.options.chart_title:b.options.chart_title!==undefined&&(c.chart_title=b.options.chart_title),RPM.guarded_refresh.disable(),a.post(embedded_charts_url+".json",c,function(a){RPM.lightbox.open_for_url(a.redirect,{params:{in_table:!1},onCleanup:function(){RPM.guarded_refresh.enable();var a='Now that you have created an embedded chart, you can <a href="'+RPM.URL("/accounts/ACCOUNT_ID/embedded_charts")+'">get its code or revoke access to it</a> at any time.';RPM.add_flash_message("notice","embed-info",a)}})},"json");return!1}))):RPM.public_user||c.append(a("<li></li>").append(a('<a href="'+embedded_charts_url+'" class="bargraph icon feature unavailable">Embed</a>')))}},render:function(){if(!this.rendered){this.chartDiv.empty(),this.log(this.id+":","rendering");var a=this._createFCObject();a.setTransparent(!0),a.render(this.chartDiv.attr("id")),this.rendered=!0,this._addNRLogo(),this._addActionPanel()}},isReady:function(){return!this.options.render||!this.options.loadingOverlay&&this.lastCallback=="FC_Loaded"||this.lastCallback!=""&&this.lastCallback!="FC_Loaded"},_addOverlay:function(){this.overlayAdded||(this.overlay=a('<div class="overlay">&nbsp;</div>'),this.chartDiv.after(this.overlay),this.overlayAdded=!0)},_removeOverlay:function(){this.overlayAdded&&this.chartDiv.parent().hasClass("chart_container")&&this.chartDiv.next().remove()},_resetOverlay:function(){!this.overlayAdded||(this.overlay.html("&nbsp;"),this.chartDiv.removeClass("loading error"))},_addLoadingToOverlay:function(){this.options.loadingOverlay&&(this._resetOverlay(),this.chartDiv.addClass("loading"))},_removeLoadingFromOverlay:function(){this.chartDiv.removeClass("loading")},_addErrorToOverlay:function(){var a=this;this._resetOverlay(),this.chartDiv.addClass("error"),this.overlay.html('<div class="error_container disrespect_visited"><h3>This chart\'s data failed to load</h3><p class="single">This may be a temporary failure.  Please contact us at <a href="mailto:support@newrelic.com">support@newrelic.com</a> if the failure persists.</p></div>'),this.overlay.find("a.reload_link").click(function(b){a._resetOverlay(),a.rendered=!1,a.render(),b.preventDefault(),b.stopPropagation()})},_removeErrorFromOverlay:function(){this.chartDiv.removeClass("error"),this._resetOverlay()},bindCallback:function(c,d){a.inArray(c,a.rpm[b].fcCallbacks)!=-1&&(this.callbacks[c]||(this.callbacks[c]=[]),this.callbacks[c].push(d))},runCallback:function(c){if(a.inArray(c,a.rpm[b].fcCallbacks)!=-1&&!!this.callbacks[c]){var d=this;this.lastCallback=c,a.each(this.callbacks[c],function(){a.isFunction(this)&&this.apply(d)})}},unregister:function(){this.log(this.id+":","unregistering instance"),delete a.rpm[b].instances[this.id]},resize:function(){this.rendered&&this.fcObject&&typeof this.fcObject.redrawChart=="function"&&(this.dataLoaded?(this.log(this.id+":","resizing"),this.fcObject.redrawChart()):this.log(this.id+":","chart not yet drawn, cancelling resize"))}})),a.rpm[b].fcCallbacks=["FC_Loaded","FC_Rendered","FC_DataLoaded","FC_DataLoadError","FC_NoDataToDisplay","FC_DataXMLInvalid"],a.each(a.rpm[b].fcCallbacks,function(b,c){window[c]=function(b){var d=a.rpm.chart.getInstance(b);d.runCallback(c)}}),a.rpm[b].instances={},a.rpm[b].getInstance=function(c){if(typeof c=="string")return a.rpm[b].instances[c];var c=a(c);if(c.is("embed")||c.is("object"))return a.rpm[b].instances[c.attr("id")];if(c.is("div.chart"))return a.rpm[b].instances[c.attr("id").replace("div_","")]},a.rpm[b].renderAll=function(c){var c=typeof c!="undefined"?a(c):a(document);c.find("div.chart").each(function(){var c=a.rpm[b].getInstance(this);c&&c.render()})},a.rpm[b].unregisterAll=function(c){var c=typeof c!="undefined"?a(c):a(document);c.find("div.chart").each(function(){var c=a.rpm[b].getInstance(this);c&&c.unregister()})},a.rpm[b].resizeAll=function(){a.each(a.rpm[b].instances,function(){this.options.fluid&&this.resize()})},a.rpm[b].bindFluidResizeHandler=function(){a(window).resize(a.delayedFunction(function(){a.rpm.chart.resizeAll()})),a.rpm[b].bindFluidResizeHandler=function(){}},a.rpm[b].isAllReady=function(){var c=!0;a.each(a.rpm[b].instances,function(a,b){c=c&&b.isReady()});return c},a.extend(a.support,{windows:navigator.platform.search(/Win/)>-1,linux:navigator.platform.search(/Linux/)>-1})}(jQuery),function(){function cf(j,k){function dl(){var c="onreadystatechange",d="complete";!s&&b==b.top&&a.readyState!==d?a.attachEvent(c,function(){a.detachEvent(c,dl),a.readyState===d&&dl()}):(w=0,x=0,dh(),cN(),cO(),bh(j.series||[],function(a){cX(a)}),ci.inverted=cG=bE(cG,j.chart.inverted),dc(),ci.render=dj,ci.tracker=cu=new cV(ci,j.tooltip),dj(),bo(ci,"load"),k&&k.apply(ci,[ci]),bh(ci.callbacks,function(a){a.apply(ci,[ci])}))}function dk(){var a=cF.length,c=bQ&&bQ.parentNode;bo(ci,"destroy"),bn(b,"unload",dk),bn(ci),bh(cD,function(a){bn(a)});while(a--)cF[a].destroy();bQ&&(bQ.innerHTML="",bn(bQ),c&&c.removeChild(bQ),bQ=null),cH&&(cH.alignedObjects=null),clearInterval(cJ);for(a in ci)delete ci[a]}function dj(){var a=j.labels,b=j.credits,c;df(),cx=ci.legend=new cW(ci),cM(),bh(cD,function(a){a.setTickPositions(!0)}),cZ(),cM(),cL(),cB&&bh(cD,function(a){a.render()}),ci.seriesGroup||(ci.seriesGroup=cH.g("series-group").attr({zIndex:3}).add()),bh(cF,function(a){a.translate(),a.setTooltipPoints(),a.render()}),a.items&&bh(a.items,function(){var b=bt(a.style,this.style),c=bu(b.left)+bM,d=bu(b.top)+bx+12;delete b.left,delete b.top,cH.text(this.html,c,d).attr({zIndex:2}).css(b).add()}),ci.toolbar||(ci.toolbar=cT(ci)),b.enabled&&!ci.credits&&(c=b.href,cH.text(b.text,0,0).on("click",function(){c&&(location.href=c)}).attr({align:b.position.align,zIndex:8}).css(b.style).add().align(b.position)),cw(),ci.hasRendered=!0,bP&&(bO.appendChild(bQ),bS(bP))}function di(){function c(){var b=l.width||bO.offsetWidth,c=l.height||bO.offsetHeight;if(b&&c){if(b!==bT||c!==b$)clearTimeout(a),a=setTimeout(function(){cP(b,c,!1)},100);bT=b,b$=c}}var a;bm(b,"resize",c),bm(ci,"destroy",function(){bn(b,"resize",c)})}function dh(){var c;c=bO=l.renderTo,bR=L+z++,bv(bO)&&(c=bO=a.getElementById(bO)),bO.innerHTML="";if(!bO.offsetWidth){bP=bO.cloneNode(0),bG(bP,{position:I,top:"-9999px",display:""});while(!c.offsetWidth&&c.parentNode)c=c.parentNode;c.appendChild(bP)}dg(),bP&&(bS(bP),bP=bO.cloneNode(0),bG(bP,{position:I,top:"-9999px",display:""}),a.body.appendChild(bP)),ci.container=bQ=bH(H,{className:"highcharts-container"+(l.className?" "+l.className:""),id:bR},bt({position:J,overflow:K,width:b_+N,height:ca+N,textAlign:"left"},l.style),bP||bO),ci.renderer=cH=l.forExport?new cc(bQ,b_,ca,!0):new u(bQ,b_,ca);var d,e;r&&bQ.getBoundingClientRect&&(d=function(){bG(bQ,{left:0,top:0}),e=bQ.getBoundingClientRect(),bG(bQ,{left:-(e.left-bu(e.left))+N,top:-(e.top-bu(e.top))+N})},d(),bm(b,"resize",d),bm(ci,"destroy",function(){bn(b,"resize",d)}))}function dg(){bT=(bP||bO).offsetWidth,b$=(bP||bO).offsetHeight,ci.chartWidth=b_=l.width||bT||600,ci.chartHeight=ca=l.height||(b$>19?b$:400)}function df(a,b){bl=bk(j.title,a),bs=bk(j.subtitle,b),bh([["title",a,bl],["subtitle",b,bs]],function(a){var b=a[0],c=ci[b],d=a[1],e=a[2];c&&d&&(c.destroy(),c=null),e&&e.text&&!c&&(ci[b]=cH.text(e.text,0,0).attr({align:e.align,"class":"highcharts-"+b,zIndex:1}).css(e.style).add().align(e,!1,bg))})}function de(){return bi(cF,function(a){return a.selected})}function dd(){var a=[];bh(cF,function(b){a=a.concat(bi(b.data,function(a){return a.selected}))});return a}function dc(){var a=j.xAxis||{},b=j.yAxis||{},c;a=bD(a),bh(a,function(a,b){a.index=b,a.isX=!0}),b=bD(b),bh(b,function(a,b){a.index=b}),cD=a.concat(b),ci.xAxis=[],ci.yAxis=[],cD=bj(cD,function(a){c=new cS(ci,a),ci[c.isXAxis?"xAxis":"yAxis"].push(c);return c}),cZ()}function db(a){var b,c,d;for(b=0;b<cD.length;b++)if(cD[b].options.id===a)return cD[b];for(b=0;b<cF.length;b++)if(cF[b].options.id===a)return cF[b];for(b=0;b<cF.length;b++){d=cF[b].data;for(c=0;c<d.length;c++)if(d[c].id===a)return d[c]}return null}function da(){bp(cp,{opacity:0},{duration:j.loading.hideDuration,complete:function(){bG(cp,{display:O})}}),cr=!1}function c_(a){var b=j.loading;cp||(cp=bH(H,{className:"highcharts-loading"},bt(b.style,{left:bM+N,top:bx+N,width:ct+N,height:cs+N,zIndex:10,display:O}),bQ),cq=bH("span",null,b.labelStyle,cp)),cq.innerHTML=a||j.lang.loading,cr||(bG(cp,{opacity:0,display:""}),bp(cp,{opacity:b.style.opacity},{duration:b.showDuration}),cr=!0)}function c$(a){var b=ci.isDirtyLegend,c,d=ci.isDirtyBox,e=cF.length,f=e,g=ci.clipRect,h;bL(a,ci);while(f--){h=cF[f];if(h.isDirty&&h.options.stacking){c=!0;break}}if(c){f=e;while(f--)h=cF[f],h.options.stacking&&(h.isDirty=!0)}bh(cF,function(a){a.isDirty&&(a.cleanData(),a.getSegments(),a.options.legendType==="point"&&(b=!0))}),b&&cx.renderLegend&&(cx.renderLegend(),ci.isDirtyLegend=!1),cB&&(cC||(cE=null,bh(cD,function(a){a.setScale()})),cZ(),cM(),bh(cD,function(a){if(a.isDirty||d)a.redraw(),d=!0})),d&&(cL(),cw(),g&&(bq(g),g.animate({width:ci.plotSizeX,height:ci.plotSizeY}))),bh(cF,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),cu&&cu.resetTracker&&cu.resetTracker(),bo(ci,"redraw")}function cZ(){l.alignTicks!==!1&&bh(cD,function(a){a.adjustTickAmount()}),cE=null}function cY(a,b,c){var d;a&&(bL(c,ci),b=bE(b,!0),bo(ci,"addSeries",{options:a},function(){d=cX(a),d.isDirty=!0,ci.isDirtyLegend=!0,b&&ci.redraw()}));return d}function cX(a){var b=a.type||l.type||l.defaultSeriesType,c=br[b],d,e=ci.hasRendered;e&&(cG&&b==="column"?c=br.bar:!cG&&b==="bar"&&(c=br.column)),d=new c,d.init(ci,a),!e&&d.inverted&&(cG=!0),d.isCartesian&&(cB=d.isCartesian),cF.push(d);return d}function cV(c,e){function A(){var b=!0;bQ.onmousedown=function(b){b=u(b),c.mouseIsDown=co=!0,f=b.chartX,j=b.chartY,bm(a,v?"touchend":"mouseup",z)};var d=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=u(a),v||(a.returnValue=!1);var d=a.chartX,e=a.chartY,g=!cm(d-bM,e-bx);v&&a.type==="touchstart"&&(bC(a.target,"isTracker")?c.runTrackerClick||a.preventDefault():!ck&&!g&&a.preventDefault()),g&&(b||y(),d<bM?d=bM:d>bM+ct&&(d=bM+ct),e<bx?e=bx:e>bx+cs&&(e=bx+cs));if(co&&a.type!=="touchstart"){k=Math.sqrt(Math.pow(f-d,2)+Math.pow(j-e,2));if(k>10){cB&&(p||r)&&cm(f-bM,j-bx)&&(m||(m=cH.rect(bM,bx,s?1:ct,t?1:cs,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add()));if(m&&s){var h=d-f;m.attr({width:i(h),x:(h>0?0:h)+f})}if(m&&t){var l=e-j;m.attr({height:i(l),y:(l>0?0:l)+j})}}}else g||x(a);b=g;return g||!cB}};bQ.onmousemove=d,bm(bQ,"mouseleave",y),bQ.ontouchstart=function(a){(p||r)&&bQ.onmousedown(a),d(a)},bQ.ontouchmove=d,bQ.ontouchend=function(){k&&y()},bQ.onclick=function(a){var b=c.hoverPoint;a=u(a),a.cancelBubble=!0;if(!k)if(b&&bC(a.target,"isTracker")){var d=b.plotX,e=b.plotY;bt(b,{pageX:cA.left+bM+(cG?ct-e:d),pageY:cA.top+bx+(cG?cs-d:e)}),bo(b.series,"click",bt(a,{point:b})),b.firePointEvent("click",a)}else bt(a,w(a)),cm(a.chartX-bM,a.chartY-bx)&&bo(c,"click",a);k=!1}}function z(){if(m){var b={xAxis:[],yAxis:[]},d=m.getBBox(),e=d.x-bM,f=d.y-bx;k&&(bh(cD,function(a,c){var i=a.translate,j=a.isXAxis,k=cG?!j:j,l=i(k?e:cs-f-d.height,!0,0,0,1),m=i(k?e+d.width:cs-f,!0,0,0,1);b[j?"xAxis":"yAxis"].push({axis:a,min:h(l,m),max:g(l,m)})}),bo(c,"selection",b,cQ)),m=m.destroy()}c.mouseIsDown=co=k=!1,bn(a,v?"touchend":"mouseup",z)}function y(){var a=c.hoverSeries,b=c.hoverPoint;b&&b.onMouseOut(),a&&a.onMouseOut(),cn&&cn.hide(),cK=null}function x(a){var b,d,f=c.hoverPoint,g=c.hoverSeries,j,k,l=b_,m=cG?a.chartY:a.chartX-bM;if(cn&&e.shared){d=[],j=cF.length;for(k=0;k<j;k++)cF[k].visible&&cF[k].tooltipPoints.length&&(b=cF[k].tooltipPoints[m],b._dist=i(m-b.plotX),l=h(l,b._dist),d.push(b));j=d.length;while(j--)d[j]._dist>l&&d.splice(j,1);d.length&&d[0].plotX!==cK&&(cn.refresh(d),cK=d[0].plotX)}g&&g.tracker&&(b=g.tooltipPoints[m],b&&b!==f&&b.onMouseOver())}function w(a){var b={xAxis:[],yAxis:[]};bh(cD,function(c,d){var e=c.translate,f=c.isXAxis,g=cG?!f:f;b[f?"xAxis":"yAxis"].push({axis:c,value:e(g?a.chartX-bM:cs-a.chartY+bx,!0)})});return b}function u(c){var e,f=q&&a.width/a.documentElement.clientWidth-1,g,h,i,j;c=c||b.event,c.target||(c.target=c.srcElement),e=c.touches?c.touches.item(0):c;if(c.type!=="mousemove"||b.opera||f)cA=bK(bQ),g=cA.left,h=cA.top;o?(i=c.x,j=c.y):e.layerX===G?(i=e.pageX-g,j=e.pageY-h):(i=c.layerX,j=c.layerY),f&&(i+=d((f+1)*g-g),j+=d((f+1)*h-h));return bt(c,{chartX:i,chartY:j})}var f,j,k,m,n=l.zoomType,p=/x/.test(n),r=/y/.test(n),s=p&&!cG||r&&cG,t=r&&!cG||p&&cG;cw=function(){cv?(cv.translate(bM,bx),cG&&cv.attr({width:c.plotWidth,height:c.plotHeight}).invert()):c.trackerGroup=cv=cH.g("tracker").attr({zIndex:9}).add()},cw(),e.enabled&&(c.tooltip=cn=cU(e)),A(),cJ=setInterval(function(){cI&&cI()},32),bt(this,{zoomX:p,zoomY:r,resetTracker:y})}function cU(a){function w(c){var g,i,o,p,w,x,y,z=0,A={},B,C=[],D=c.tooltipPos,E=a.formatter||t,F=ci.hoverPoints;h?(F&&bh(F,function(a){a.setState()}),ci.hoverPoints=c,bh(c,function(a,b){a.setState(T),z+=a.plotY,C.push(a.getLabelConfig())}),y=c[0].plotX,z=d(z)/c.length,A={x:c[0].category},A.points=C,c=c[0]):A=c.getLabelConfig(),B=E.call(A),b=c.series,y=h?y:c.plotX,z=h?z:c.plotY,g=d(D?D[0]:cG?ct-z:y),i=d(D?D[1]:cG?cs-y:z),w=h||!c.series.isCartesian||cm(g,i),B===!1||!w?v():(l&&(q.show(),l=!1),s.attr({text:B}),x=s.getBBox(),m=x.width+2*j,n=x.height+2*j,r.attr({width:m,height:n,stroke:a.borderColor||c.color||b.color||"#606060"}),o=g-m+bM-25,p=i-n+bx+10,o<7&&(o=7,p-=30),p<5?p=5:p+n>ca&&(p=ca-n-5),u(d(o-k),d(p-k)));if(e){e=bD(e);var G,H=e.length,I,J;while(H--)J=c.series[H?"yAxis":"xAxis"],e[H]&&J&&(G=J.getPlotLinePath(c[H?"y":"x"],1),f[H]?f[H].attr({d:G,visibility:M}):(I={"stroke-width":e[H].width||1,stroke:e[H].color||"#C0C0C0",zIndex:2},e[H].dashStyle&&(I.dashstyle=e[H].dashStyle),f[H]=cH.path(G).attr(I).add()))}}function v(){if(!l){var a=ci.hoverPoints;q.hide(),bh(f,function(a){a&&a.hide()}),a&&bh(a,function(a){a.setState()}),ci.hoverPoints=null,l=!0}}function u(a,b){o=l?a:(2*o+a)/3,p=l?b:(p+b)/2,q.translate(o,p),i(a-o)>1||i(b-p)>1?cI=function(){u(a,b)}:cI=null}function t(){var a=this,b=a.points||bD(a),c=b[0].series.xAxis,d=a.x,e=c&&c.options.type==="datetime",f=bv(d)||e,g,h;h=f?['<span style="font-size: 10px">'+(e?D("%A, %b %e, %Y",d):d)+"</span>"]:[],bh(b,function(a){h.push(a.point.tooltipFormatter(f))});return h.join("<br/>")}var b,c=a.borderWidth,e=a.crosshairs,f=[],g=a.style,h=a.shared,j=bu(g.padding),k=c+j,l=!0,m,n,o=0,p=0;g.padding=0;var q=cH.g("tooltip").attr({zIndex:8}).add(),r=cH.rect(k,k,0,0,a.borderRadius,c).attr({fill:a.backgroundColor,"stroke-width":c}).add(q).shadow(a.shadow),s=cH.text("",j+k,bu(g.fontSize)+j+k).attr({zIndex:1}).css(g).add(q);q.hide();return{shared:h,refresh:w,hide:v}}function cT(a){function d(a){bS(b[a].element),b[a]=null}function c(a,c,d,e){if(!b[a]){var f=cH.text(c,0,0).css(j.toolbar.itemStyle).align({align:"right",x:-bF-20,y:bx+30}).on("click",e).attr({align:"right",zIndex:20}).add();b[a]=f}}var b={};return{add:c,remove:d}}function cS(a,b){function cA(b,c){p.categories=bR=b,bh(L,function(a){a.translate(),a.setTooltipPoints(!0)}),p.isDirty=!0,bE(c,!0)&&a.redraw()}function cz(){cu.resetTracker&&cu.resetTracker(),cx(),bh(bs,function(a){a.render()}),bh(L,function(a){a.isDirty=!0})}function cy(a){var b=bs.length;while(b--)bs[b].id===a&&bs[b].destroy()}function cx(){var c=b.title,d=b.stackLabels,e=b.alternateGridColor,f=b.lineWidth,g,h,i,j=a.hasRendered,l=j&&bB(U)&&!isNaN(U),q=L.length&&bB(T)&&bB(S);v=m?ct:cs,w=v/(S-T||1),y=m?bM:bI;if(q||bj){if(bw&&!bR){var r=T+(bD[0]-T)%bw;for(r;r<=S;r+=bw)bH[r]||(bH[r]=new ce(r,!0)),l&&bH[r].isNew&&bH[r].render(null,!0),bH[r].isActive=!0,bH[r].render()}bh(bD,function(a,b){if(!bj||a>=T&&a<=S)l&&bG[a].isNew&&bG[a].render(b,!0),bG[a].isActive=!0,bG[a].render(b)}),e&&bh(bD,function(a,b){b%2===0&&a<S&&(bK[a]||(bK[a]=new cf),bK[a].options={from:a,to:bD[b+1]!==G?bD[b+1]:S,color:e},bK[a].render(),bK[a].isActive=!0)}),j||bh((b.plotLines||[]).concat(b.plotBands||[]),function(a){bs.push((new cf(a)).render())})}bh([bG,bH,bK],function(a){var b;for(b in a)a[b].isActive?a[b].isActive=!1:(a[b].destroy(),delete a[b])}),f&&(g=bM+(k?ct:0)+t,h=ca-bI-(k?cs:0)+t,i=cH.crispLine([P,m?bM:g,m?h:bx,Q,m?b_-bF:g,m?h:ca-bI],f),H?H.animate({d:i}):H=cH.path(i).attr({stroke:b.lineColor,"stroke-width":f,zIndex:7}).add());if(p.axisTitle){var s=m?bM:bx,u=bu(c.style.fontSize||12),x={low:s+(m?0:v),middle:s+v/2,high:s+(m?v:0)}[c.align],z=(m?bx+cs:bM)+(m?1:-1)*(k?-1:1)*bP+(n===2?u:0);p.axisTitle[j?"animate":"attr"]({x:m?x:z+(k?ct:0)+t+(c.x||0),y:m?z-(k?cs:0)+t:x+(c.y||0)})}if(d&&d.enabled){var A,B,C,D=p.stackTotalGroup;D||(p.stackTotalGroup=D=cH.g("stack-labels").attr({visibility:M,zIndex:6}).translate(bM,bx).add());for(A in o){B=o[A];for(C in B)B[C].render(D)}}p.isDirty=!1}function cw(){var a=L.length&&bB(T)&&bB(S),c=0,d=0,e=b.title,f=b.labels,h=[-1,1,1,-1][n],i;E||(E=cH.g("axis").attr({zIndex:7}).add(),F=cH.g("grid").attr({zIndex:1}).add()),bO=0;if(a||bj)bh(bD,function(a){bG[a]?bG[a].addLabel():bG[a]=new ce(a);if(n===0||n===2||{1:"left",3:"right"}[n]===f.align)bO=g(bG[a].getLabelSize(),bO)}),bT&&(bO+=(bT-1)*16);else for(i in bG)bG[i].destroy(),delete bG[i];e&&e.text&&(p.axisTitle||(p.axisTitle=cH.text(e.text,0,0).attr({zIndex:7,rotation:e.rotation||0,align:e.textAlign||{low:"left",middle:"center",high:"right"}[e.align]}).css(e.style).add()),c=p.axisTitle.getBBox()[m?"height":"width"],d=bE(e.margin,m?5:10)),t=h*(b.offset||bN[n]),bP=bO+(n!==2&&bO&&h*b.labels[m?"y":"x"])+d,bN[n]=g(bN[n],bP+c+h*t)}function cv(a){var b=(new cf(a)).render();bs.push(b);return b}function cr(a){T>a?a=T:S<a&&(a=S);return z(a,0,1)}function cq(){return{min:T,max:S,dataMin:I,dataMax:J,userMin:O,userMax:R}}function cp(b,c,d,e){d=bE(d,!0),bo(p,"setExtremes",{min:b,max:c},function(){O=b,R=c,d&&a.redraw(e)})}function co(){var a,b;U=T,bf=S,ch(),cm(),x=w,w=v/(S-T||1);if(!j)for(a in o)for(b in o[a])o[a][b].cum=o[a][b].total;p.isDirty||(p.isDirty=T!==U||S!==bf)}function cn(){if(cE&&!r&&!bR&&!bj){var a=bL,b=bD.length;bL=cE[u];if(b<bL){while(bD.length<bL)bD.push(ck(bD[bD.length-1]+bv));w*=(b-1)/(bL-1),S=bD[bD.length-1]}bB(a)&&bL!==a&&(p.isDirty=!0)}}function cm(c){var d,e,f,i,k=b.tickInterval,l=b.tickPixelInterval,n=b.maxZoom||(j&&!bB(b.min)&&!bB(b.max)?h(a.smallestInterval*5,J-I):null),o;v=m?ct:cs,bj?(f=a[j?"xAxis":"yAxis"][b.linkedTo],i=f.getExtremes(),T=bE(i.min,i.dataMin),S=bE(i.max,i.dataMax)):(T=bE(O,b.min,I),S=bE(R,b.max,J)),s&&(T=by(T),S=by(S)),S-T<n&&(o=(n-S+T)/2,T=g(T-o,bE(b.min,T-o),I),S=h(T+n,bE(b.max,T+n),J)),!bR&&!bp&&!bj&&bB(T)&&bB(S)&&(d=S-T||1,!bB(b.min)&&!bB(O)&&bg&&(I<0||!bl)&&(T-=d*bg),!bB(b.max)&&!bB(R)&&bi&&(J>0||!bn)&&(S+=d*bi)),T===S?bv=1:bj&&!k&&l===f.options.tickPixelInterval?bv=f.tickInterval:bv=bE(k,bR?1:(S-T)*l/v),!r&&!bB(b.tickInterval)&&(bv=ci(bv)),p.tickInterval=bv,bw=b.minorTickInterval==="auto"&&bv?bv/5:b.minorTickInterval,r?cj():cl();if(!bj){if(bR||j&&a.hasColumn){e=(bR?1:bv)*.5;if(bR||!bB(bE(b.min,O,b.minPadding)))T-=e;if(bR||!bB(bE(b.max,R,b.maxPadding)))S+=e}var q=bD[0],t=bD[bD.length-1];b.startOnTick?T=q:T>q&&bD.shift(),b.endOnTick?S=t:S<t&&bD.pop(),cE||(cE={x:0,y:0}),!r&&bD.length>cE[u]&&(cE[u]=bD.length)}}function cl(){var a,b=ck(e(T/bv)*bv),c=ck(f(S/bv)*bv);bD=[],a=ck(b);while(a<=c)bD.push(a),a=ck(a+bv)}function ck(a){var b,f=a;bC=bE(bC,c.pow(10,e(c.log(bv)/c.LN10))),bC<1&&(b=d(1/bC)*10,f=d(a*b)/b);return f}function cj(){bD=[];var a,c=C.global.useUTC,d=1e3/A,f=6e4/A,g=36e5/A,h=864e5/A,i=6048e5/A,j=2592e6/A,k=31556952e3/A,l=[["second",d,[1,2,5,10,15,30]],["minute",f,[1,2,5,10,15,30]],["hour",g,[1,2,3,4,6,8,12]],["day",h,[1,2]],["week",i,[1,2]],["month",j,[1,2,3,4,6]],["year",k,null]],m=l[6],n=m[1],o=m[2];for(a=0;a<l.length;a++){m=l[a],n=m[1],o=m[2];if(l[a+1]){var p=(n*o[o.length-1]+l[a+1][1])/2;if(bv<=p)break}}n===k&&bv<5*n&&(o=[1,2,5]);var q=ci(bv/n,o),r,s=new Date(T*A);s.setMilliseconds(0),n>=d&&s.setSeconds(n>=f?0:q*e(s.getSeconds()/q)),n>=f&&s[ba](n>=g?0:q*e(s[W]()/q)),n>=g&&s[bb](n>=h?0:q*e(s[X]()/q)),n>=h&&s[bc](n>=j?1:q*e(s[Z]()/q)),n>=j&&(s[bd](n>=k?0:q*e(s[$]()/q)),r=s[_]()),n>=k&&(r-=r%q,s[be](r)),n===i&&s[bc](s[Z]()-s[Y]()+b.startOfWeek),a=1,r=s[_]();var t=s.getTime()/A,u=s[$](),v=s[Z]();while(t<S&&a<ct)bD.push(t),n===k?t=V(r+a*q,0)/A:n===j?t=V(r,u+a*q)/A:!!c||n!==h&&n!==i?t+=n*q:t=V(r,u,v+a*q*(n===h?1:7)),a++;bD.push(t),bQ=b.dateTimeLabelFormats[m[0]]}function ci(a,d){var f,g;bC=d?1:c.pow(10,e(c.log(a)/c.LN10)),f=a/bC;if(!d){d=[1,2,2.5,5,10];if(b.allowDecimals===!1||s)bC===1?d=[1,2,5,10]:bC<=.1&&(d=[1/bC])}for(g=0;g<d.length;g++){a=d[g];if(f<=(d[g]+(d[g+1]||d[g]))/2)break}a*=bC;return a}function ch(){var a=[],c=[],d;I=J=null,L=[],bh(cF,function(e){d=!1,bh(["xAxis","yAxis"],function(a){e.isCartesian&&(a==="xAxis"&&j||a==="yAxis"&&!j)&&(e.options[a]===b.index||e.options[a]===G&&b.index===0)&&(e[a]=p,L.push(e),d=!0)}),!e.visible&&l.ignoreHiddenSeries&&(d=!1);if(d){var f,g,h,i,k;j||(f=e.options.stacking,bp=f==="percent",f&&(i=e.type+bE(e.options.stack,""),k="-"+i,e.stackKey=i,g=a[i]||[],a[i]=g,h=c[k]||[],c[k]=h),bp&&(I=0,J=99));if(e.isCartesian){bh(e.data,function(a,c){var d=a.x,e=a.y,l=e<0,m=l?h:g,n=l?k:i,p,q;I===null&&(I=J=a[u]),j?d>J?J=d:d<I&&(I=d):bB(e)&&(f&&(m[d]=bB(m[d])?m[d]+e:e),p=m?m[d]:e,q=bE(a.low,p),bp||(p>J?J=p:q<I&&(I=q)),f&&(o[n]||(o[n]={}),o[n][d]||(o[n][d]=new cg(b.stackLabels,l,d)),o[n][d].setTotal(p)))});if(/(area|column|bar)/.test(e.type)&&!j){var m=0;I>=m?(I=m,bl=!0):J<m&&(J=m,bn=!0)}}}})}function cg(a,b,c){var d=this;d.isNegative=b,d.options=a,d.x=c,d.alignOptions={align:a.align||(cG?b?"left":"right":"center"),verticalAlign:a.verticalAlign||(cG?"middle":b?"bottom":"top"),y:bE(a.y,cG?4:b?14:-6),x:bE(a.x,cG?b?-6:6:0)},d.textAlign=a.textAlign||(cG?b?"right":"left":"center")}function cf(a){var b=this;a&&(b.options=a,b.id=a.id);return b}function ce(a,b){var c=this;c.pos=a,c.minor=b,c.isNew=!0,b||c.addLabel()}var j=b.isX,k=b.opposite,m=cG?!j:j,n=m?k?0:2:k?1:3,o={};b=bk(j?bU:bV,[bZ,bX,bY,bW][n],b);var p=this,q=b.type,r=q==="datetime",s=q==="logarithmic",t=b.offset||0,u=j?"x":"y",v,w,x,y=m?bM:bI,z,B,E,F,H,I,J,L,O,R,S=null,T=null,U,bf,bg=b.minPadding,bi=b.maxPadding,bj=bB(b.linkedTo),bl,bn,bp,bq=b.events,br,bs=[],bv,bw,bC,bD,bG={},bH={},bK={},bL,bO,bP,bQ,bR=b.categories,bS=b.labels.formatter||function(){var a=this.value,b;bQ?b=D(bQ,a):bv%1e6===0?b=a/1e6+"M":bv%1e3===0?b=a/1e3+"k":!bR&&a>=1e3?b=bJ(a,0):b=a;return b},bT=m&&b.labels.staggerLines,b$=b.reversed,cc=bR&&b.tickmarkPlacement==="between"?.5:0;ce.prototype={addLabel:function(){var a=this.pos,c=b.labels,e,f=!(a===T&&!bE(b.showFirstLabel,1)||a===S&&!bE(b.showLastLabel,0)),h=bR&&m&&bR.length&&!c.step&&!c.staggerLines&&!c.rotation&&ct/bR.length||!m&&ct/2,i,j=this.label;e=bS.call({isFirst:a===bD[0],isLast:a===bD[bD.length-1],dateTimeLabelFormat:bQ,value:bR&&bR[a]?bR[a]:a}),i=h&&{width:g(1,d(h-2*(c.padding||10)))+N},i=bt(i,c.style),j===G?this.label=bB(e)&&f&&c.enabled?cH.text(e,0,0).attr({align:c.align,rotation:c.rotation}).css(i).add(E):null:j&&j.attr({text:e}).css(i)},getLabelSize:function(){var a=this.label;return a?(this.labelBBox=a.getBBox())[m?"height":"width"]:0},render:function(a,c){var d=this,e=!d.minor,f=d.label,g=d.pos,h=b.labels,i=d.gridLine,j=e?b.gridLineWidth:b.minorGridLineWidth,l=e?b.gridLineColor:b.minorGridLineColor,n=e?b.gridLineDashStyle:b.minorGridLineDashStyle,o,p=d.mark,q,r=e?b.tickLength:b.minorTickLength,s=e?b.tickWidth:b.minorTickWidth||0,u=e?b.tickColor:b.minorTickColor,v=e?b.tickPosition:b.minorTickPosition,x=h.step,A=c&&cd||ca,C,D,H;D=m?z(g+cc,null,null,c)+y:bM+t+(k?(c&&cb||b_)-bF-bM:0),H=m?A-bI+t-(k?cs:0):A-z(g+cc,null,null,c)-y,j&&(o=B(g+cc,j,c),i===G&&(C={stroke:l,"stroke-width":j},n&&(C.dashstyle=n),d.gridLine=i=j?cH.path(o).attr(C).add(F):null),i&&o&&i.animate({d:o})),s&&(v==="inside"&&(r=-r),k&&(r=-r),q=cH.crispLine([P,D,H,Q,D+(m?0:-r),H+(m?r:0)],s),p?p.animate({d:q}):d.mark=cH.path(q).attr({stroke:u,"stroke-width":s}).add(E)),f&&!isNaN(D)&&(D=D+h.x-(cc&&m?cc*w*(b$?-1:1):0),H=H+h.y-(cc&&!m?cc*w*(b$?1:-1):0),bB(h.y)||(H+=bu(f.styles.lineHeight)*.9-f.getBBox().height/2),bT&&(H+=a/(x||1)%bT*16),x&&f[a%x?"hide":"show"](),f[d.isNew?"attr":"animate"]({x:D,y:H})),d.isNew=!1},destroy:function(){var a=this,b;for(b in a)a[b]&&a[b].destroy&&a[b].destroy()}},cf.prototype={render:function(){var a=this,b=a.options,d=b.label,e=a.label,f=b.width,i=b.to,j,k=b.from,l=b.dashStyle,n=a.svgElem,o=[],p,q,r,s,t,u,v=b.color,w=b.zIndex,x=b.events,y;if(f)o=B(b.value,f),y={stroke:v,"stroke-width":f},l&&(y.dashstyle=l);else if(bB(k)&&bB(i))k=g(k,T),i=h(i,S),j=B(i),o=B(k),o&&j?o.push(j[4],j[5],j[1],j[2]):o=null,y={fill:v};else return;bB(w)&&(y.zIndex=w);if(n)o?n.animate({d:o},null,n.onGetPath):(n.hide(),n.onGetPath=function(){n.show()});else if(o&&o.length){a.svgElem=n=cH.path(o).attr(y).add();if(x){p=function(b){n.on(b,function(c){x[b].apply(a,[c])})};for(q in x)p(q)}}d&&bB(d.text)&&o&&o.length&&ct>0&&cs>0?(d=bk({align:m&&j&&"center",x:m?!j&&4:10,verticalAlign:!m&&j&&"middle",y:m?j?16:10:j?6:-4,rotation:m&&!j&&90},d),e||(a.label=e=cH.text(d.text,0,0).attr({align:d.textAlign||d.align,rotation:d.rotation,zIndex:w}).css(d.style).add()),r=[o[1],o[4],bE(o[6],o[1])],s=[o[2],o[5],bE(o[7],o[2])],t=h.apply(c,r),u=h.apply(c,s),e.align(d,!1,{x:t,y:u,width:g.apply(c,r)-t,height:g.apply(c,s)-u}),e.show()):e&&e.hide();return a},destroy:function(){var a=this,b;for(b in a)a[b]&&a[b].destroy&&a[b].destroy(),delete a[b];bA(bs,a)}},cg.prototype={setTotal:function(a){this.total=a,this.cum=a},render:function(b){var c=this,d=c.options.formatter.call(c);c.label?c.label.attr({text:d,visibility:K}):c.label=a.renderer.text(d,0,0).css(c.options.style).attr({align:c.textAlign,rotation:c.options.rotation,visibility:K}).add(b)},setOffset:function(b,c){var d=this,e=d.isNegative,f=p.translate(d.total),g=p.translate(0),h=i(f-g),j=a.xAxis[0].translate(d.x)+b,k=a.plotHeight,l={x:cG?e?f:f-h:j,y:cG?k-j-c:e?k-f-h:k-f,width:cG?h:c,height:cG?c:h};d.label&&d.label.align(d.alignOptions,null,l).attr({visibility:M})}},z=function(a,b,c,d,e){var f=1,g=0,h=d?x:w,i=d?U:T,j;h||(h=w),c&&(f*=-1,g=v),b$&&(f*=-1,g-=f*v),b?(b$&&(a=v-a),j=a/h+i,s&&e&&(j=bz(j))):(s&&e&&(a=by(a)),j=f*(a-i)*h+g);return j},B=function(a,b,c){var e,f,g,h,i=z(a,null,null,c),j=c&&cd||ca,k=c&&cb||b_,l;e=g=d(i+y),f=h=d(j-i-y);if(isNaN(i))l=!0;else if(m){f=bx,h=j-bI;if(e<bM||e>bM+ct)l=!0}else{e=bM,g=k-bF;if(f<bx||f>bx+cs)l=!0}return l?null:cH.crispLine([P,e,f,Q,g,h],b||0)},cG&&j&&b$===G&&(b$=!0),bt(p,{addPlotBand:cv,addPlotLine:cv,adjustTickAmount:cn,categories:bR,getExtremes:cq,getPlotLinePath:B,getThreshold:cr,isXAxis:j,options:b,plotLinesAndBands:bs,getOffset:cw,render:cx,setCategories:cA,setExtremes:cp,setScale:co,setTickPositions:cm,translate:z,redraw:cz,removePlotBand:cy,removePlotLine:cy,reversed:b$,stacks:o});for(br in bq)bm(p,br,bq[br]);co()}bU=bk(bU,C.xAxis),bV=bk(bV,C.yAxis),C.xAxis=C.yAxis=null,j=bk(C,j);var l=j.chart,m=l.margin,n=bw(m)?m:[m,m,m,m],p=bE(l.marginTop,n[0]),t=bE(l.marginRight,n[1]),y=bE(l.marginBottom,n[2]),B=bE(l.marginLeft,n[3]),F=l.spacingTop,R=l.spacingRight,U=l.spacingBottom,bf=l.spacingLeft,bg,bl,bs,bx,bF,bI,bM,bN,bO,bP,bQ,bR,bT,b$,b_,ca,cb,cd,ce,cf,cg,ch,ci=this,cj=l.events,ck=cj&&!!cj.click,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB=l.showAxes,cC=0,cD=[],cE,cF=[],cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cW=function(a){function G(){p=o,q=n,x=0,r=0,w||(w=cH.g("legend").attr({zIndex:7}).add()),f=[],bh(z,function(a){var b=a.options;!b.showInLegend||(f=f.concat(b.legendType==="point"?a.data:a))}),f.sort(function(a,b){return(a.options.legendIndex||0)-(b.options.legendIndex||0)}),A&&f.reverse(),bh(f,F),cy=y||x,cz=r-n+s;if(u||v)cy+=2*l,cz+=2*l,t?cy>0&&cz>0&&t.animate(t.crisp(null,null,null,cy,cz)):t=cH.rect(0,0,cy,cz,b.borderRadius,u||0).attr({stroke:b.borderColor,"stroke-width":u||0,fill:v||O}).add(w).shadow(b.shadow),t[f.length?"show":"hide"]();var a=["left","right","top","bottom"],c,d=4;while(d--)c=a[d],h[c]&&h[c]!=="auto"&&(b[d<2?"align":"verticalAlign"]=c,b[d<2?"x":"y"]=bu(h[c])*(d%2?-1:1));w.align(bt(b,{width:cy,height:cz}),!0,bg),cC||E()}function F(a){var h,n,t,u,v,z,A,D=a.legendItem,E=a.series||a,F=f.length,G=E.options,H=G&&G.borderWidth||0;if(!D){A=/^(bar|pie|area|column)$/.test(E.type),a.legendItem=D=cH.text(b.labelFormatter.call(a),0,0).css(a.visible?i:k).on("mouseover",function(){a.setState(T),D.css(j)}).on("mouseout",function(){D.css(a.visible?i:k),a.setState()}).on("click",function(b){var c="legendItemClick",d=function(){a.setVisible()};a.firePointEvent?a.firePointEvent(c,null,d):bo(a,c,null,d)}).attr({zIndex:2}).add(w);if(!A&&G&&G.lineWidth){var I={"stroke-width":G.lineWidth,zIndex:2};G.dashStyle&&(I.dashstyle=G.dashStyle),a.legendLine=cH.path([P,-d-e,0,Q,-e,0]).attr(I).add(w)}A?t=cH.rect(u=-d-e,v=-11,d,12,2).attr({zIndex:3}).add(w):G&&G.marker&&G.marker.enabled&&(t=cH.symbol(a.symbol,u=-d/2-e,v=-4,G.marker.radius).attr({zIndex:3}).add(w)),t&&(t.xOff=u+H%2/2,t.yOff=v+H%2/2),a.legendSymbol=t,B(a,a.visible),G&&G.showCheckbox&&(a.checkbox=bH("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},b.itemCheckboxStyle,bQ),bm(a.checkbox,"click",function(b){var c=b.target;bo(a,"checkboxClick",{checked:c.checked},function(){a.select()})}))}h=D.getBBox(),n=a.legendItemWidth=b.itemWidth||d+e+h.width+m,s=b.lineHeight||h.height,c&&p-o+n>(y||b_-2*l-o)&&(p=o,q+=s),r=q,C(a,p,q),c?p+=n:q+=s,x=y||g(c?p-o:n,x)}function E(){bh(f,function(a){var b=a.checkbox,c=w.alignAttr;b&&bG(b,{left:c.translateX+a.legendItemWidth+b.x-40+N,top:c.translateY+b.y-11+N})})}function D(a){var b=a.checkbox;bh(["legendItem","legendLine","legendSymbol"],function(b){a[b]&&a[b].destroy()}),b&&bS(a.checkbox)}function C(a,b,c){var d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=a.checkbox;d&&d.attr({x:b,y:c}),e&&e.translate(b,c-4),f&&f.attr({x:b+f.xOff,y:c+f.yOff}),g&&(g.x=b,g.y=c)}function B(a,c){var d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=k.color,h=c?b.itemStyle.color:g,i=c?a.color:g,j=c?a.pointAttr[S]:{stroke:g,fill:g};d&&d.css({fill:h}),e&&e.attr({stroke:i}),f&&f.attr(j)}var b=a.options.legend;if(!!b.enabled){var c=b.layout==="horizontal",d=b.symbolWidth,e=b.symbolPadding,f,h=b.style,i=b.itemStyle,j=b.itemHoverStyle,k=b.itemHiddenStyle,l=bu(h.padding),m=20,n=18,o=4+l+d+e,p,q,r,s=0,t,u=b.borderWidth,v=b.backgroundColor,w,x,y=b.width,z=a.series,A=b.reversed;G(),bm(a,"endResize",E);return{colorizeItem:B,destroyItem:D,renderLegend:G}}};cm=function(a,b){return a>=0&&a<=ct&&b>=0&&b<=cs},cR=function(){bo(ci,"selection",{resetSelection:!0},cQ),ci.toolbar.remove("zoom")},cQ=function(a){var b=C.lang,c=ci.pointCount<100;ci.toolbar.add("zoom",b.resetZoom,b.resetZoomTitle,cR),!a||a.resetSelection?bh(cD,function(a){a.setExtremes(null,null,!1,c)}):bh(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;ci.tracker[b.isXAxis?"zoomX":"zoomY"]&&b.setExtremes(a.min,a.max,!1,c)}),c$()},cM=function(){var a=j.legend,b=bE(a.margin,10),c=a.x,d=a.y,e=a.align,f=a.verticalAlign,h;cN(),(ci.title||ci.subtitle)&&!bB(p)&&(h=g(ci.title&&!bl.floating&&!bl.verticalAlign&&bl.y||0,ci.subtitle&&!bs.floating&&!bs.verticalAlign&&bs.y||0),h&&(bx=g(bx,h+bE(bl.margin,15)+F))),a.enabled&&!a.floating&&(e==="right"?bB(t)||(bF=g(bF,cy-c+b+R)):e==="left"?bB(B)||(bM=g(bM,cy+c+b+bf)):f==="top"?bB(p)||(bx=g(bx,cz+d+b+F)):f==="bottom"&&(bB(y)||(bI=g(bI,cz-d+b+U)))),cB&&bh(cD,function(a){a.getOffset()}),bB(B)||(bM+=bN[3]),bB(p)||(bx+=bN[0]),bB(y)||(bI+=bN[2]),bB(t)||(bF+=bN[1]),cO()},cP=function(a,b,c){var e=ci.title,f=ci.subtitle;cC+=1,bL(c,ci),cd=ca,cb=b_,ci.chartWidth=b_=d(a),ci.chartHeight=ca=d(b),bG(bQ,{width:b_+N,height:ca+N}),cH.setSize(b_,ca,c),ct=b_-bM-bF,cs=ca-bx-bI,cE=null,bh(cD,function(a){a.isDirty=!0,a.setScale()}),bh(cF,function(a){a.isDirty=!0}),ci.isDirtyLegend=!0,ci.isDirtyBox=!0,cM(),e&&e.align(null,null,bg),f&&f.align(null,null,bg),c$(c),cd=null,bo(ci,"resize"),setTimeout(function(){bo(ci,"endResize",null,function(){cC-=1})},E&&E.duration||500)},cO=function(){ci.plotLeft=bM=d(bM),ci.plotTop=bx=d(bx),ci.plotWidth=ct=d(b_-bM-bF),ci.plotHeight=cs=d(ca-bx-bI),ci.plotSizeX=cG?cs:ct,ci.plotSizeY=cG?ct:cs,bg={x:bf,y:F,width:b_-bf-R,height:ca-F-U}},cN=function(){bx=bE(p,F),bF=bE(t,R),bI=bE(y,U),bM=bE(B,bf),bN=[0,0,0,0]},cL=function(){var a=l.borderWidth||0,b=l.backgroundColor,c=l.plotBackgroundColor,d=l.plotBackgroundImage,e,f={x:bM,y:bx,width:ct,height:cs};e=a+(l.shadow?8:0);if(a||b)ce?ce.animate(ce.crisp(null,null,null,b_-e,ca-e)):ce=cH.rect(e/2,e/2,b_-e,ca-e,l.borderRadius,a).attr({stroke:l.borderColor,"stroke-width":a,fill:b||O}).add().shadow(l.shadow);c&&(cf?cf.animate(f):cf=cH.rect(bM,bx,ct,cs,0).attr({fill:c}).add().shadow(l.plotShadow)),d&&(cg?cg.animate(f):cg=cH.image(d,bM,bx,ct,cs).add()),l.plotBorderWidth&&(ch?ch.animate(ch.crisp(null,bM,bx,ct,cs)):ch=cH.rect(bM,bx,ct,cs,0,l.plotBorderWidth).attr({stroke:l.plotBorderColor,"stroke-width":l.plotBorderWidth,zIndex:l.plotBorderZIndex||4}).add()),ci.isDirtyBox=!1},bm(b,"unload",dk),l.reflow!==!1&&bm(ci,"load",di);if(cj)for(cl in cj)bm(ci,cl,cj[cl]);ci.options=j,ci.series=cF,ci.addSeries=cY,ci.animation=bE(l.animation,!0),ci.destroy=dk,ci.get=db,ci.getSelectedPoints=dd,ci.getSelectedSeries=de,ci.hideLoading=da,ci.isInsidePlot=cm,ci.redraw=c$,ci.setSize=cP,ci.setTitle=df,ci.showLoading=c_,ci.pointCount=0,dl()}function cb(){}function bS(a){B||(B=bH(H)),a&&B.appendChild(a),B.innerHTML=""}function bR(){return C}function bQ(a){C=bk(C,a),bP();return C}function bP(){var a=C.global.useUTC;V=a?Date.UTC:function(a,b,c,d,e,f){return(new Date(a,b,bE(c,1),bE(d,0),bE(e,0),bE(f,0))).getTime()},W=a?"getUTCMinutes":"getMinutes",X=a?"getUTCHours":"getHours",Y=a?"getUTCDay":"getDay",Z=a?"getUTCDate":"getDate",$=a?"getUTCMonth":"getMonth",_=a?"getUTCFullYear":"getFullYear",ba=a?"setUTCMinutes":"setMinutes",bb=a?"setUTCHours":"setHours",bc=a?"setUTCDate":"setDate",bd=a?"setUTCMonth":"setMonth",be=a?"setUTCFullYear":"setFullYear"}function bL(a,b){E=bE(a,b.animation)}function bK(b){var c={left:b.offsetLeft,top:b.offsetTop};b=b.offsetParent;while(b)c.left+=b.offsetLeft,c.top+=b.offsetTop,b!==a.body&&b!==a.documentElement&&(c.left-=b.scrollLeft,c.top-=b.scrollTop),b=b.offsetParent;return c}function bJ(a,b,c,d){var e=C.lang,f=a,g=isNaN(b=i(b))?2:b,h=c===undefined?e.decimalPoint:c,j=d===undefined?e.thousandsSep:d,k=f<0?"-":"",l=String(bu(f=i(+f||0).toFixed(g))),m=l.length>3?l.length%3:0;return k+(m?l.substr(0,m)+j:"")+l.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+j)+(g?h+i(f-l).toFixed(g).slice(2):"")}function bI(a,b){var c=function(){};c.prototype=new a,bt(c.prototype,b);return c}function bH(b,c,d,e,f){var g=a.createElement(b);c&&bt(g,c),f&&bG(g,{padding:0,border:O,margin:0}),d&&bG(g,d),e&&e.appendChild(g);return g}function bG(a,b){o&&b&&b.opacity!==G&&(b.filter="alpha(opacity="+b.opacity*100+")"),bt(a.style,b)}function bF(a){var b="",c;for(c in a)b+=c+":"+a[c]+";";return b}function bE(){var a=arguments,b,c,d=a.length;for(b=0;b<d;b++){c=a[b];if(typeof c!="undefined"&&c!==null)return c}}function bD(a){if(!a||a.constructor!==Array)a=[a];return a}function bC(a,b,c){var d,e="setAttribute",f;if(bv(b))bB(c)?a[e](b,c):a&&a.getAttribute&&(f=a.getAttribute(b));else if(bB(b)&&bw(b))for(d in b)a[e](d,b[d]);return f}function bB(a){return a!==G&&a!==null}function bA(a,b){var c=a.length;while(c--)if(a[c]===b){a.splice(c,1);break}}function bz(a){return c.pow(10,a)}function by(a){return c.log(a)/c.LN10}function bx(a){return typeof a=="number"}function bw(a){return typeof a=="object"}function bv(a){return typeof a=="string"}function bu(a,b){return parseInt(a,b||10)}function bt(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}var a=document,b=window,c=Math,d=c.round,e=c.floor,f=c.ceil,g=c.max,h=c.min,i=c.abs,j=c.cos,k=c.sin,l=c.PI,m=l*2/360,n=navigator.userAgent,o=/msie/i.test(n)&&!b.opera,p=a.documentMode===8,q=/AppleWebKit/.test(n),r=/Firefox/.test(n),s=!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t="http://www.w3.org/2000/svg",u,v=a.documentElement.ontouchstart!==undefined,w,x,y={},z=0,A=1,B,C,D,E,F,G,H="div",I="absolute",J="relative",K="hidden",L="highcharts-",M="visible",N="px",O="none",P="M",Q="L",R="rgba(192,192,192,"+(s?1e-6:.002)+")",S="",T="hover",U="select",V,W,X,Y,Z,$,_,ba,bb,bc,bd,be,bf=b.HighchartsAdapter,bg=bf||{},bh=bg.each,bi=bg.grep,bj=bg.map,bk=bg.merge,bl=bg.hyphenate,bm=bg.addEvent,bn=bg.removeEvent,bo=bg.fireEvent,bp=bg.animate,bq=bg.stop,br={},bs;D=function(a,b,c){function d(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!bB(b)||isNaN(b))return"Invalid date";a=bE(a,"%Y-%m-%d %H:%M:%S");var e=new Date(b*A),f,g=e[X](),h=e[Y](),i=e[Z](),j=e[$](),k=e[_](),l=C.lang,m=l.weekdays,n=l.months,o={a:m[h].substr(0,3),A:m[h],d:d(i),e:i,b:n[j].substr(0,3),B:n[j],m:d(j+1),y:k.toString().substr(2,2),Y:k,H:d(g),I:d(g%12||12),l:g%12||12,M:d(e[W]()),p:g<12?"AM":"PM",P:g<12?"am":"pm",S:d(e.getSeconds())};for(f in o)a=a.replace("%"+f,o[f]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a},bf&&bf.init&&bf.init();if(!bf&&b.jQuery){var bM=jQuery;bh=function(a,b){var c=0,d=a.length;for(;c<d;c++)if(b.call(a[c],a[c],c,a)===!1)return c},bi=bM.grep,bj=function(a,b){var c=[],d=0,e=a.length;for(;d<e;d++)c[d]=b.call(a[d],a[d],d,a);return c},bk=function(){var a=arguments;return bM.extend(!0,null,a[0],a[1],a[2],a[3])},bl=function(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})},bm=function(a,b,c){bM(a).bind(b,c)},bn=function(b,c,d){var e=a.removeEventListener?"removeEventListener":"detachEvent";a[e]&&!b[e]&&(b[e]=function(){}),bM(b).unbind(c,d)},bo=function(a,b,c,d){var e=bM.Event(b),f="detached"+b;bt(e,c),a[b]&&(a[f]=a[b],a[b]=null),bM(a).trigger(e),a[f]&&(a[b]=a[f],a[f]=null),d&&!e.isDefaultPrevented()&&d(e)},bp=function(a,b,c){var d=bM(a);b.d&&(a.toD=b.d,b.d=1),d.stop(),d.animate(b,c)},bq=function(a){bM(a).stop()},bM.extend(bM.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}});var bN=jQuery.fx.step._default,bO=jQuery.fx.prototype.cur;bM.fx.step._default=function(a){var b=a.elem;b.attr?b.attr(a.prop,a.now):bN.apply(this,arguments)},bM.fx.step.d=function(a){var b=a.elem;if(!a.started){var c=F.init(b,b.d,b.toD);a.start=c[0],a.end=c[1],a.started=!0}b.attr("d",F.step(a.start,a.end,a.pos,b.toD))},bM.fx.prototype.cur=function(){var a=this.elem,b;a.attr?b=a.attr(this.prop):b=bO.apply(this,arguments);return b}}F={init:function(a,b,c){b=b||"";var d=a.shift,e=b.indexOf("C")>-1,f=e?7:3,g,h,i,j=b.split(" "),k=[].concat(c),l,m,n=function(a){i=a.length;while(i--)a[i]===P&&a.splice(i+1,0,a[i+1],a[i+2],a[i+1],a[i+2])};e&&(n(j),n(k)),a.isArea&&(l=j.splice(j.length-6,6),m=k.splice(k.length-6,6)),d&&(k=[].concat(k).splice(0,f).concat(k),a.shift=!1);if(j.length){g=k.length;while(j.length<g)h=[].concat(j).splice(j.length-f,f),e&&(h[f-6]=h[f-2],h[f-5]=h[f-1]),j=j.concat(h)}l&&(j=j.concat(l),k=k.concat(m));return[j,k]},step:function(a,b,c,d){var e=[],f=a.length,g;if(c===1)e=d;else if(f===b.length&&c<1)while(f--)g=parseFloat(a[f]),e[f]=isNaN(g)?a[f]:c*parseFloat(b[f]-g)+g;else e=b;return e}};var bT={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};C={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:bk(bT,{enabled:!1,y:-6,formatter:function(){return this.y}}),showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:I,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:I,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:J,top:"1em"},showDuration:100,style:{position:I,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:!0,snap:v?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var bU={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:bT,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},bV=bk(bU,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:bT.style}}),bW={labels:{align:"right",x:-8,y:null},title:{rotation:270}},bX={labels:{align:"left",x:8,y:null},title:{rotation:90}},bY={labels:{align:"center",x:0,y:14},title:{rotation:0}},bZ=bk(bY,{labels:{y:-5}}),b$=C.plotOptions,b_=b$.line;b$.spline=bk(b_),b$.scatter=bk(b_,{lineWidth:0,states:{hover:{lineWidth:0}}}),b$.area=bk(b_,{}),b$.areaspline=bk(b$.area),b$.column=bk(b_,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null}}),b$.bar=bk(b$.column,{dataLabels:{align:"left",x:5,y:0}}),b$.pie=bk(b_,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),bP();var ca=function(a){function g(a){b[3]=a;return this}function f(a){if(bx(a)&&a!==0){var c;for(c=0;c<3;c++)b[c]+=bu(a*255),b[c]<0&&(b[c]=0),b[c]>255&&(b[c]=255)}return this}function e(c){var d;b&&!isNaN(b[0])?c==="rgb"?d="rgb("+b[0]+","+b[1]+","+b[2]+")":c==="a"?d=b[3]:d="rgba("+b.join(",")+")":d=a;return d}function d(a){c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(a),c?b=[bu(c[1]),bu(c[2]),bu(c[3]),parseFloat(c[4],10)]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a),c&&(b=[bu(c[1],16),bu(c[2],16),bu(c[3],16),1]))}var b=[],c;d(a);return{get:e,brighten:f,setOpacity:g}};cb.prototype={init:function(b,c){this.element=a.createElementNS(t,c),this.renderer=b},animate:function(a,b,c){var d=bE(b,E,!0);d?(d=bk(d),c&&(d.complete=c),bp(this,a,d)):(this.attr(a),c&&c())},attr:function(a,b){var c,d,e,f,g=this.element,h=g.nodeName,i=this.renderer,j,k=this.shadows,l,m=this;bv(a)&&bB(b)&&(c=a,a={},a[c]=b);if(bv(a))c=a,h==="circle"?c={x:"cx",y:"cy"}[c]||c:c==="strokeWidth"&&(c="stroke-width"),m=bC(g,c)||this[c]||0,c!=="d"&&c!=="visibility"&&(m=parseFloat(m));else for(c in a){j=!1,d=a[c];if(c==="d")d&&d.join&&(d=d.join(" ")),/(NaN| {2}|^$)/.test(d)&&(d="M 0 0"),this.d=d;else if(c==="x"&&h==="text"){for(e=0;e<g.childNodes.length;e++)f=g.childNodes[e],bC(f,"x")===bC(g,"x")&&bC(f,"x",d);this.rotation&&bC(g,"transform","rotate("+this.rotation+" "+d+" "+bu(a.y||bC(g,"y"))+")")}else if(c==="fill")d=i.color(d,g,c);else if(h!=="circle"||c!=="x"&&c!=="y")if(c==="translateX"||c==="translateY"||c==="rotation"||c==="verticalAlign")this[c]=d,this.updateTransform(),j=!0;else if(c==="stroke")d=i.color(d,g,c);else if(c==="dashstyle"){c="stroke-dasharray",d=d&&d.toLowerCase();if(d==="solid")d=O;else if(d){d=d.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=d.length;while(e--)d[e]=bu(d[e])*a["stroke-width"];d=d.join(",")}}else c==="isTracker"?this[c]=d:c==="width"?d=bu(d):c==="align"&&(c="text-anchor",d={left:"start",center:"middle",right:"end"}[d]);else c={x:"cx",y:"cy"}[c]||c;c==="strokeWidth"&&(c="stroke-width"),q&&c==="stroke-width"&&d===0&&(d=1e-6),this.symbolName&&/^(x|y|r|start|end|innerR)/.test(c)&&(l||(this.symbolAttr(a),l=!0),j=!0);if(k&&/^(width|height|visibility|x|y|d)$/.test(c)){e=k.length;while(e--)bC(k[e],c,d)}(c==="width"||c==="height")&&h==="rect"&&d<0&&(d=0),c==="text"?(this.textStr=d,this.added&&i.buildText(this)):j||bC(g,c,d)}return m},symbolAttr:function(a){var b=this;bh(["x","y","r","start","end","width","height","innerR"],function(c){b[c]=bE(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](d(b.x*2)/2,d(b.y*2)/2,b.r,{start:b.start,end:b.end,width:b.width,height:b.height,innerR:b.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+")")},crisp:function(a,b,c,d,f){var g=this,h,i={},j={},k;a=a||g.strokeWidth||0,k=a%2/2,j.x=e(b||g.x||0)+k,j.y=e(c||g.y||0)+k,j.width=e((d||g.width||0)-2*k),j.height=e((f||g.height||0)-2*k),j.strokeWidth=a;for(h in j)g[h]!==j[h]&&(g[h]=i[h]=j[h]);return i},css:function(a){var b=this,c=b.element,d=a&&a.width&&c.nodeName==="text",e=a,f;a&&a.color&&(a.fill=a.color),a=bt(b.styles,a),b.styles=a;if(bB(a)){a={};for(f in e)a[bl(f)]=e[f]}o&&!s?(d&&delete a.width,bG(b.element,a)):b.attr({style:bF(a)}),d&&b.added&&b.renderer.buildText(b);return b},on:function(a,b){var c=b;v&&a==="click"&&(a="touchstart",c=function(a){a.preventDefault(),b()}),this.element["on"+a]=c;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;a.inverted=!0,a.updateTransform();return a},updateTransform:function(){var a=this,b=a.translateX||0,c=a.translateY||0,d=a.inverted,e=a.rotation,f=[];d&&(b+=a.attr("width"),c+=a.attr("height")),(b||c)&&f.push("translate("+b+","+c+")"),d?f.push("rotate(90) scale(-1,1)"):e&&f.push("rotate("+e+" "+a.x+" "+a.y+")"),f.length&&bC(a.element,"transform",f.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,b,c){var e=this;a?(e.alignOptions=a,e.alignByTranslate=b,c||e.renderer.alignedObjects.push(e)):(a=e.alignOptions,b=e.alignByTranslate),c=bE(c,e.renderer);var f=a.align,g=a.verticalAlign,h=(c.x||0)+(a.x||0),i=(c.y||0)+(a.y||0),j={};/^(right|center)$/.test(f)&&(h+=(c.width-(a.width||0))/{right:1,center:2}[f]),j[b?"translateX":"x"]=d(h),/^(bottom|middle)$/.test(g)&&(i+=(c.height-(a.height||0))/({bottom:1,middle:2}[g]||1)),j[b?"translateY":"y"]=d(i),e[e.placed?"animate":"attr"](j),e.placed=!0,e.alignAttr=j;return e},getBBox:function(){var a,b,c,d=this.rotation,e=d*m;try{a=bt({},this.element.getBBox())}catch(f){a={width:0,height:0}}b=a.width,c=a.height,d&&(a.width=i(c*k(e))+i(b*j(e)),a.height=i(c*j(e))+i(b*k(e)));return a},show:function(){return this.attr({visibility:M})},hide:function(){return this.attr({visibility:K})},add:function(a){var b=this.renderer,c=a||b,d=c.element||b.box,e=d.childNodes,f=this.element,g=bC(f,"zIndex"),h,i,j;this.parentInverted=a&&a.inverted,this.textStr!==undefined&&b.buildText(this),g&&(c.handleZ=!0,g=bu(g));if(c.handleZ)for(j=0;j<e.length;j++){h=e[j],i=bC(h,"zIndex");if(h!==f&&(bu(i)>g||!bB(g)&&bB(i))){d.insertBefore(f,h);return this}}d.appendChild(f),this.added=!0;return this},destroy:function(){var a=this,b=a.element||{},c=a.shadows,d=b.parentNode,e;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=null,bq(a),d&&d.removeChild(b),c&&bh(c,function(a){d=a.parentNode,d&&d.removeChild(a)}),bA(a.renderer.alignedObjects,a);for(e in a)delete a[e];return null},empty:function(){var a=this.element,b=a.childNodes,c=b.length;while(c--)a.removeChild(b[c])},shadow:function(a,b){var c=[],d,e,f=this.element,g=this.parentInverted?"(-1,-1)":"(1,1)";if(a){for(d=1;d<=3;d++)e=f.cloneNode(0),bC(e,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*d,"stroke-width":7-2*d,transform:"translate"+g,fill:O}),b?b.element.appendChild(e):f.parentNode.insertBefore(e,f),c.push(e);this.shadows=c}return this}};var cc=function(){this.init.apply(this,arguments)};cc.prototype={Element:cb,init:function(a,b,c,d){var e=this,f=location,g;g=e.createElement("svg").attr({xmlns:t,version:"1.1"}),a.appendChild(g.element),e.box=g.element,e.boxWrapper=g,e.alignedObjects=[],e.url=o?"":f.href.replace(/#.*?$/,""),e.defs=this.createElement("defs").add(),e.forExport=d,e.setSize(b,c,!1)},createElement:function(a){var b=new this.Element;b.init(this,a);return b},buildText:function(c){var d=c.element,e=bE(c.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),f=d.childNodes,g=/style="([^"]+)"/,h=/href="([^"]+)"/,i=bC(d,"x"),j=c.styles,k=r&&j&&j["-hc-direction"]==="rtl"&&!this.forExport&&bu(n.split("Firefox/")[1])<4,l,m=j&&bu(j.width),o=j&&j["line-height"],p,q="getComputedStyle",u=f.length;while(u--)d.removeChild(f[u]);m&&!c.added&&this.box.appendChild(d),bh(e,function(e,f){var j,n=0,r;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),j=e.split("|||"),bh(j,function(e){if(e!==""||j.length===1){var v={},w=a.createElementNS(t,"tspan");g.test(e)&&bC(w,"style",e.match(g)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),h.test(e)&&(bC(w,"onclick",'location.href="'+e.match(h)[1]+'"'),bG(w,{cursor:"pointer"})),e=(e.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(k){l=[],u=e.length;while(u--)l.push(e.charAt(u));e=l.join("")}w.appendChild(a.createTextNode(e)),n?v.dx=3:v.x=i;if(!n){if(f){!s&&c.renderer.forExport&&bG(w,{display:"block"}),r=b[q]&&b[q](p,null).getPropertyValue("line-height");if(!r||isNaN(r))r=o||p.offsetHeight||18;bC(w,"dy",r)}p=w}bC(w,v),d.appendChild(w),n++;if(m){var x=e.replace(/-/g,"- ").split(" "),y,z,A=[];while(x.length||A.length)z=d.getBBox().width,y=z>m,!y||x.length===1?(x=A,A=[],x.length&&(w=a.createElementNS(t,"tspan"),bC(w,{dy:o||16,x:i}),d.appendChild(w),z>m&&(m=z))):(w.removeChild(w.firstChild),A.unshift(x.pop())),x.length&&w.appendChild(a.createTextNode(x.join(" ").replace(/- /g,"-")))}}})})},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=d(a[1])+b%2/2),a[2]===a[5]&&(a[2]=a[5]=d(a[2])+b%2/2);return a},path:function(a){return this.createElement("path").attr({d:a,fill:O})},circle:function(a,b,c){var d=bw(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,b,c,d,e,f){bw(a)&&(b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x);return this.symbol("arc",a||0,b||0,c||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,b,c,d,e,f){bw(a)&&(b=a.y,c=a.width,d=a.height,e=a.r,f=a.strokeWidth,a=a.x);var h=this.createElement("rect").attr({rx:e,ry:e,fill:O});return h.attr(h.crisp(f,a,b,g(c,0),g(d,0)))},setSize:function(a,b,c){var d=this,e=d.alignedObjects,f=e.length;d.width=a,d.height=b,d.boxWrapper[bE(c,!0)?"animate":"attr"]({width:a,height:b});while(f--)e[f].align()},g:function(a){return this.createElement("g").attr(bB(a)&&{"class":L+a})},image:function(a,b,c,d,e){var f={preserveAspectRatio:O},g;arguments.length>1&&bt(f,{x:b,y:c,width:d,height:e}),g=this.createElement("image").attr(f),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):g.element.setAttribute("hc-svg-href",a);return g},symbol:function(a,b,c,e,f){var g,h=this.symbols[a],i=h&&h(d(b),d(c),e,f),j=/^url\((.*?)\)$/,k,l;if(i)g=this.path(i),bt(g,{symbolName:a,x:b,y:c,r:e}),f&&bt(g,f);else if(j.test(a)){var m=function(a,b){a.attr({width:b[0],height:b[1]}).translate(-d(b[0]/2),-d(b[1]/2))};k=a.match(j)[1],l=y[k],g=this.image(k).attr({x:b,y:c}),l?m(g,l):(g.attr({width:0,height:0}),bH("img",{onload:function(){var a=this;m(g,y[k]=[a.width,a.height])},src:k}))}else g=this.circle(b,c,e);return g},symbols:{square:function(a,b,c){var d=.707*c;return[P,a-d,b-d,Q,a+d,b-d,a+d,b+d,a-d,b+d,"Z"]},triangle:function(a,b,c){return[P,a,b-1.33*c,Q,a+c,b+.67*c,a-c,b+.67*c,"Z"]},"triangle-down":function(a,b,c){return[P,a,b+1.33*c,Q,a-c,b-.67*c,a+c,b-.67*c,"Z"]},diamond:function(a,b,c){return[P,a,b-c,Q,a+c,b,a,b+c,a-c,b,"Z"]},arc:function(a,b,c,d){var e=d.start,f=d.end-1e-6,g=d.innerR,h=j(e),i=k(e),m=j(f),n=k(f),o=d.end-e<l?0:1;return[P,a+c*h,b+c*i,"A",c,c,0,o,1,a+c*m,b+c*n,Q,a+g*m,b+g*n,"A",g,g,0,o,0,a+g*h,b+g*i,"Z"]}},clipRect:function(a,b,c,d){var e,f=L+z++,g=this.createElement("clipPath").attr({id:f}).add(this.defs);e=this.rect(a,b,c,d,0).add(g),e.id=f;return e},color:function(a,b,c){var d,e=/^rgba/;if(a&&a.linearGradient){var f=this,g="linearGradient",h=a[g],i=L+z++,j,k,l;j=f.createElement(g).attr({id:i,gradientUnits:"userSpaceOnUse",x1:h[0],y1:h[1],x2:h[2],y2:h[3]}).add(f.defs),bh(a.stops,function(a){e.test(a[1])?(d=ca(a[1]),k=d.get("rgb"),l=d.get("a")):(k=a[1],l=1),f.createElement("stop").attr({offset:a[0],"stop-color":k,"stop-opacity":l}).add(j)});return"url("+this.url+"#"+i+")"}if(e.test(a)){d=ca(a),bC(b,c+"-opacity",d.get("a"));return d.get("rgb")}return a},text:function(a,b,c){var e=C.chart.style,f;b=d(bE(b,0)),c=d(bE(c,0)),f=this.createElement("text").attr({x:b,y:c,text:a}).css({"font-family":e.fontFamily,"font-size":e.fontSize}),f.x=b,f.y=c;return f}},u=cc;var cd;if(!s){var ce=bI(cb,{init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ",I,";"];(b==="shape"||b===H)&&d.push("left:0;top:0;width:10px;height:10px;"),p&&d.push("visibility: ",b===H?K:M),c.push(' style="',d.join(""),'"/>'),b&&(c=b===H||b==="span"||b==="img"?c.join(""):a.prepVML(c),this.element=bH(c)),this.renderer=a},add:function(a){var b=this,c=b.renderer,d=b.element,e=c.box,f=a&&a.inverted,g=a?a.element||a:e;f&&c.invertChild(d,g),p&&g.gVis===K&&bG(d,{visibility:K}),g.appendChild(d),b.added=!0,b.alignOnAdd&&b.updateTransform();return b},attr:function(a,b){var c,e,f,g=this.element||{},h=g.style,i=g.nodeName,j=this.renderer,k=this.symbolName,l,m,n=this.shadows,o,q=this;bv(a)&&bB(b)&&(c=a,a={},a[c]=b);if(bv(a))c=a,c==="strokeWidth"||c==="stroke-width"?q=this.strokeweight:q=this[c];else for(c in a){e=a[c],o=!1;if(k&&/^(x|y|r|start|end|width|height|innerR)/.test(c))m||(this.symbolAttr(a),m=!0),o=!0;else if(c==="d"){e=e||[],this.d=e.join(" "),f=e.length;var r=[];while(f--)bx(e[f])?r[f]=d(e[f]*10)-5:e[f]==="Z"?r[f]="x":r[f]=e[f];e=r.join(" ")||"x",g.path=e;if(n){f=n.length;while(f--)n[f].path=e}o=!0}else if(c==="zIndex"||c==="visibility"){if(p&&c==="visibility"&&i==="DIV"){g.gVis=e,l=g.childNodes,f=l.length;while(f--)bG(l[f],{visibility:e});e===M&&(e=null)}e&&(h[c]=e),o=!0}else if(/^(width|height)$/.test(c))this.updateClipping?(this[c]=e,this.updateClipping()):h[c]=e,o=!0;else if(/^(x|y)$/.test(c))this[c]=e,g.tagName==="SPAN"?this.updateTransform():h[{x:"left",y:"top"}[c]]=e;else if(c==="class")g.className=e;else if(c==="stroke")e=j.color(e,g,c),c="strokecolor";else if(c==="stroke-width"||c==="strokeWidth")g.stroked=e?!0:!1,c="strokeweight",this[c]=e,bx(e)&&(e+=N);else if(c==="dashstyle"){var s=g.getElementsByTagName("stroke")[0]||bH(j.prepVML(["<stroke/>"]),null,null,g);s[c]=e||"solid",this.dashstyle=e,o=!0}else c==="fill"?i==="SPAN"?h.color=e:(g.filled=e!==O?!0:!1,e=j.color(e,g,c),c="fillcolor"):c==="translateX"||c==="translateY"||c==="rotation"||c==="align"?(c==="align"&&(c="textAlign"),this[c]=e,this.updateTransform(),o=!0):c==="text"&&(this.bBox=null,g.innerHTML=e,o=!0);if(n&&c==="visibility"){f=n.length;while(f--)n[f].style[c]=e}o||(p?g[c]=e:bC(g,c,e))}return q},clip:function(a){var b=this,c=a.members;c.push(b),b.destroyClip=function(){bA(c,b)};return b.css(a.getCSS(b.inverted))},css:function(a){var b=this,c=b.element,d=a&&c.tagName==="SPAN"&&a.width;d&&(delete a.width,b.textWidth=d,b.updateTransform()),b.styles=bt(b.styles,a),bG(b.element,a);return b},destroy:function(){var a=this;a.destroyClip&&a.destroyClip(),cb.prototype.destroy.apply(a)},empty:function(){var a=this.element,b=a.childNodes,c=b.length,d;while(c--)d=b[c],d.parentNode.removeChild(d)},getBBox:function(){var a=this,b=a.element,c=a.bBox;c||(b.nodeName==="text"&&(b.style.position=I),c=a.bBox={x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight});return c},on:function(a,c){this.element["on"+a]=function(){var a=b.event;a.target=a.srcElement,c(a)};return this},updateTransform:function(a){if(!this.added)this.alignOnAdd=!0;else{var b=this,c=b.element,e=b.translateX||0,f=b.translateY||0,g=b.x||0,h=b.y||0,i=b.textAlign||"left",l={left:0,center:.5,right:1}[i],n=i&&i!=="left";(e||f)&&b.css({marginLeft:e,marginTop:f}),b.inverted&&bh(c.childNodes,function(a){b.renderer.invertChild(a,c)});if(c.tagName==="SPAN"){var o,p,q=b.rotation,r,s=0,t=1,u=0,v,w=bu(b.textWidth),x=b.xCorr||0,y=b.yCorr||0,z=[q,i,c.innerHTML,b.textWidth].join(",");z!==b.cTT&&(bB(q)&&(s=q*m,t=j(s),u=k(s),bG(c,{filter:q?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-u,", M21=",u,", M22=",t,", sizingMethod='auto expand')"].join(""):O})),o=c.offsetWidth,p=c.offsetHeight,o>w&&(bG(c,{width:w+N,display:"block",whiteSpace:"normal"}),o=w),r=d((bu(c.style.fontSize)||12)*1.2),x=t<0&&-o,y=u<0&&-p,v=t*u<0,x+=u*r*(v?1-l:l),y-=t*r*(q?v?l:1-l:1),n&&(x-=o*l*(t<0?-1:1),q&&(y-=p*l*(u<0?-1:1)),bG(c,{textAlign:i})),b.xCorr=x,b.yCorr=y),bG(c,{left:g+x,top:h+y}),b.cTT=z}}},shadow:function(a,b){var c=[],d,e=this.element,f=this.renderer,g,h=e.style,i,j=e.path;j&&typeof j.value!="string"&&(j="x");if(a){for(d=1;d<=3;d++)i=['<shape isShadow="true" strokeweight="',7-2*d,'" filled="false" path="',j,'" coordsize="100,100" style="',e.style.cssText,'" />'],g=bH(f.prepVML(i),null,{left:bu(h.left)+1,top:bu(h.top)+1}),i=['<stroke color="black" opacity="',.05*d,'"/>'],bH(f.prepVML(i),null,null,g),b?b.element.appendChild(g):e.parentNode.insertBefore(g,e),c.push(g);this.shadows=c}return this}});cd=function(){this.init.apply(this,arguments)},cd.prototype=bk(cc.prototype,{Element:ce,isIE8:n.indexOf("MSIE 8.0")>-1,init:function(b,c,d){var e=this,f;e.alignedObjects=[],f=e.createElement(H),b.appendChild(f.element),e.box=f.element,e.boxWrapper=f,e.setSize(c,d,!1),a.namespaces.hcv||(a.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(a,b,c,e){var f=this.createElement();return bt(f,{members:[],left:a,top:b,width:c,height:e,getCSS:function(a){var b=this,c=b.top,e=b.left,f=e+b.width,g=c+b.height,h={clip:"rect("+d(a?e:c)+"px,"+d(a?g:f)+"px,"+d(a?f:g)+"px,"+d(a?c:e)+"px)"};!a&&p&&bt(h,{width:f+N,height:g+N});return h},updateClipping:function(){bh(f.members,function(a){a.css(f.getCSS(a.inverted))})}})},color:function(a,b,d){var e,f=/^rgba/,g;if(!a||!a.linearGradient){if(f.test(a)&&b.tagName!=="IMG"){e=ca(a),g=["<",d,' opacity="',e.get("a"),'"/>'],bH(this.prepVML(g),null,null,b);return e.get("rgb")}return a}var h,i,j=a.linearGradient,k,m,n,o,p;bh(a.stops,function(a,b){f.test(a[1])?(e=ca(a[1]),h=e.get("rgb"),i=e.get("a")):(h=a[1],i=1),b?(o=h,p=i):(m=h,n=i)}),k=90-c.atan((j[3]-j[1])/(j[2]-j[0]))*180/l,g=["<",d,' colors="0% ',m,",100% ",o,'" angle="',k,'" opacity="',p,'" o:opacity2="',n,'" type="gradient" focus="100%" />'],bH(this.prepVML(g),null,null,b)},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a.indexOf('style="')===-1?a=a.replace("/>",' style="'+b+'" />'):a=a.replace('style="','style="'+b)):a=a.replace("<","<hcv:");return a},text:function(a,b,c){var e=C.chart.style;return this.createElement("span").attr({text:a,x:d(b),y:d(c)}).css({whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,c){return this.symbol("circle").attr({x:a,y:b,r:c})},g:function(a){var b,c;a&&(c={className:L+a,"class":L+a}),b=this.createElement(H).attr(c);return b},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});arguments.length>1&&f.css({left:b,top:c,width:d,height:e});return f},rect:function(a,b,c,d,e,f){bw(a)&&(b=a.y,c=a.width,d=a.height,e=a.r,f=a.strokeWidth,a=a.x);var h=this.symbol("rect");h.r=e;return h.attr(h.crisp(f,a,b,g(c,0),g(d,0)))},invertChild:function(a,b){var c=b.style;bG(a,{flip:"x",left:bu(c.width)-10,top:bu(c.height)-10,rotation:-90})},symbols:{arc:function(a,b,c,d){var e=d.start,f=d.end,g=j(e),h=k(e),i=j(f),m=k(f),n=d.innerR,o=.07/c,p=n&&.1/n||0;if(f-e===0)return["x"];2*l-f+e<o?i=-o:f-e<p&&(i=j(e+p));return["wa",a-c,b-c,a+c,b+c,a+c*g,b+c*h,a+c*i,b+c*m,"at",a-n,b-n,a+n,b+n,a+n*i,b+n*m,a+n*g,b+n*h,"x","e"]},circle:function(a,b,c){return["wa",a-c,b-c,a+c,b+c,a+c,b,a+c,b,"e"]},rect:function(a,b,c,d){if(!bB(d))return[];var e=d.width,f=d.height,g=a+e,i=b+f;c=h(c,e,f);return[P,a+c,b,Q,g-c,b,"wa",g-2*c,b,g,b+2*c,g-c,b,g,b+c,Q,g,i-c,"wa",g-2*c,i-2*c,g,i,g,i-c,g-c,i,Q,a+c,i,"wa",a,i-2*c,a+2*c,i,a+c,i,a,i-c,Q,a,b+c,"wa",a,b,a+2*c,b+2*c,a,b+c,a+c,b,"x","e"]}}}),u=cd}cf.prototype.callbacks=[];var cg=function(){};cg.prototype={init:function(a,b){var c=this,d;c.series=a,c.applyOptions(b),c.pointAttr={},a.options.colorByPoint&&(d=a.chart.options.colors,c.options||(c.options={}),c.color=c.options.color=c.color||d[w++],w>=d.length&&(w=0)),a.chart.pointCount++;return c},applyOptions:function(a){var b=this,c=b.series;b.config=a,bx(a)||a===null?b.y=a:bw(a)&&!bx(a.length)?(bt(b,a),b.options=a):bv(a[0])?(b.name=a[0],b.y=a[1]):bx(a[0])&&(b.x=a[0],b.y=a[1]),b.x===G&&(b.x=c.autoIncrement())},destroy:function(){var a=this,b=a.series,c;b.chart.pointCount--,a===b.chart.hoverPoint&&a.onMouseOut(),b.chart.hoverPoints=null,bn(a),bh(["graphic","tracker","group","dataLabel","connector"],function(b){a[b]&&a[b].destroy()}),a.legendItem&&a.series.chart.legend.destroyItem(a);for(c in a)a[c]=null},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(a,b){var c=this,d=c.series,e=d.chart;c.selected=a=bE(a,!c.selected),c.firePointEvent(a?"select":"unselect"),c.setState(a&&U),b||bh(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=!1,a.setState(S),a.firePointEvent("unselect"))})},onMouseOver:function(){var a=this,b=a.series.chart,c=b.tooltip,d=b.hoverPoint;b.hoverPoint=a,d&&d!==a&&d.onMouseOut(),a.firePointEvent("mouseOver"),c&&!c.shared&&c.refresh(a),a.setState(T)},onMouseOut:function(){var a=this;a.firePointEvent("mouseOut"),a.setState(),a.series.chart.hoverPoint=null},tooltipFormatter:function(a){var b=this,c=b.series;return['<span style="color:'+c.color+'">',b.name||c.name,"</span>: ",a?"":"<b>x = "+(b.name||b.x)+",</b> ","<b>",a?"":"y = ",b.y,"</b>"].join("")},update:function(a,b,c){var d=this,e=d.series,f=d.dataLabel,g=d.graphic,h=e.chart;b=bE(b,!0),d.firePointEvent("update",{options:a},function(){d.applyOptions(a),bw(a)&&(e.getAttribs(),g&&g.attr(d.pointAttr[e.state])),e.isDirty=!0,b&&h.redraw(c)})},remove:function(a,b){var c=this,d=c.series,e=d.chart,f=d.data;bL(b,e),a=bE(a,!0),c.firePointEvent("remove",null,function(){bA(f,c),c.destroy(),d.isDirty=!0,a&&e.redraw()})},firePointEvent:function(a,b,c){var d=this,e=this.series,f=e.options;(f.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),a==="click"&&f.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),bo(this,a,b,c)},importEvents:function(){if(!this.hasImportedEvents){var a=this,b=bk(a.series.options.point,a.options),c=b.events,d;a.events=c;for(d in c)bm(a,d,c[d]);this.hasImportedEvents=!0}},setState:function(a){var b=this,c=b.series,d=c.options.states,e=b$[c.type].marker&&c.options.marker,f=e&&!e.enabled,g=e&&e.states[a],h=g&&g.enabled===!1,i=c.stateMarkerGraphic,j=c.chart,k=b.pointAttr;a=a||S;a===b.state||b.selected&&a!==U||d[a]&&d[a].enabled===!1||a&&(h||f&&!g.enabled)||(b.graphic?b.graphic.attr(k[a]):(a&&(i||(c.stateMarkerGraphic=i=j.renderer.circle(0,0,k[a].r).attr(k[a]).add(c.group)),i.translate(b.plotX,b.plotY)),i&&i[a?"show":"hide"]()),b.state=a)}};var ch=function(){};ch.prototype={isCartesian:!0,type:"line",pointClass:cg,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(a,b){var c=this,d,e,f=a.series.length;c.chart=a,b=c.setOptions(b),bt(c,{index:f,options:b,name:b.name||"Series "+(f+1),state:S,pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),e=b.events;for(d in e)bm(c,d,e[d]);if(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor(),c.getSymbol(),c.setData(b.data,!1)},autoIncrement:function(){var a=this,b=a.options,c=a.xIncrement;c=bE(c,b.pointStart,0),a.pointInterval=bE(a.pointInterval,b.pointInterval,1),a.xIncrement=c+a.pointInterval;return c},cleanData:function(){var a=this,b=a.chart,c=a.data,d,e,f=b.smallestInterval,g,h;c.sort(function(a,b){return a.x-b.x});if(a.options.connectNulls)for(h=c.length-1;h>=0;h--)c[h].y===null&&c[h-1]&&c[h+1]&&c.splice(h,1);for(h=c.length-1;h>=0;h--)c[h-1]&&(g=c[h].x-c[h-1].x,g>0&&(e===G||g<e)&&(e=g,d=h));if(f===G||e<f)b.smallestInterval=e;a.closestPoints=d},getSegments:function(){var a=-1,b=[],c=this.data;bh(c,function(d,e){d.y===null?(e>a+1&&b.push(c.slice(a+1,e)),a=e):e===c.length-1&&b.push(c.slice(a+1,e+1))}),this.segments=b},setOptions:function(a){var b=this.chart.options.plotOptions,c=bk(b[this.type],b.series,a);return c},getColor:function(){var a=this.chart.options.colors;this.color=this.options.color||a[w++]||"#0000ff",w>=a.length&&(w=0)},getSymbol:function(){var a=this.chart.options.symbols,b=this.options.marker.symbol||a[x++];this.symbol=b,x>=a.length&&(x=0)},addPoint:function(a,b,c,d){var e=this,f=e.data,g=e.graph,h=e.area,i=e.chart,j=(new e.pointClass).init(e,a);bL(d,i),g&&c&&(g.shift=c),h&&(h.shift=c,h.isArea=!0),b=bE(b,!0),f.push(j),c&&f[0].remove(!1),e.getAttribs(),e.isDirty=!0,b&&i.redraw()},setData:function(a,b){var c=this,d=c.data,e=c.initialColor,f=c.chart,g=d&&d.length||0;c.xIncrement=null,bB(e)&&(w=e),a=bj(bD(a||[]),function(a){return(new c.pointClass).init(c,a)});while(g--)d[g].destroy();c.data=a,c.cleanData(),c.getSegments(),c.getAttribs(),c.isDirty=!0,f.isDirtyBox=!0,bE(b,!0)&&f.redraw(!1)},remove:function(a,b){var c=this,d=c.chart;a=bE(a,!0),c.isRemoving||(c.isRemoving=!0,bo(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,a&&d.redraw(b)})),c.isRemoving=!1},translate:function(){var a=this,b=a.chart,c=a.options.stacking,d=a.xAxis.categories,e=a.yAxis,f=a.data,g=f.length;while(g--){var h=f[g],i=h.x,j=h.y,k=h.low,l=e.stacks[(j<0?"-":"")+a.stackKey],m,n;h.plotX=a.xAxis.translate(i),c&&a.visible&&l&&l[i]&&(m=l[i],n=m.total,m.cum=k=m.cum-j,j=k+j,c==="percent"&&(k=n?k*100/n:0,j=n?j*100/n:0),h.percentage=n?h.y*100/n:0,h.stackTotal=n),bB(k)&&(h.yBottom=e.translate(k,0,1,0,1)),j!==null&&(h.plotY=e.translate(j,0,1,0,1)),h.clientX=b.inverted?b.plotHeight-h.plotX:h.plotX,h.category=d&&d[h.x]!==G?d[h.x]:h.x}},setTooltipPoints:function(a){var b=this,c=b.chart,f=c.inverted,g=[],h=d((f?c.plotTop:c.plotLeft)+c.plotSizeX),i,j,k=[];a&&(b.tooltipPoints=null),bh(b.segments,function(a){g=g.concat(a)}),b.xAxis&&b.xAxis.reversed&&(g=g.reverse()),bh(g,function(a,b){i=g[b-1]?g[b-1]._high+1:0,j=a._high=g[b+1]?e((a.plotX+(g[b+1]?g[b+1].plotX:h))/2):h;while(i<=j)k[f?h-i++:i++]=a}),c.setLineAndBandTooltipPoints&&c.setLineAndBandTooltipPoints(k),b.tooltipPoints=k},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;if(!!v||!b.mouseIsDown)c&&c!==a&&c.onMouseOut(),a.options.events.mouseOver&&bo(a,"mouseOver"),a.tracker&&a.tracker.toFront(),a.setState(T),b.hoverSeries=a},onMouseOut:function(){var a=this,b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;e&&e.onMouseOut(),a&&b.events.mouseOut&&bo(a,"mouseOut"),d&&!b.stickyTracking&&d.hide(),a.setState(),c.hoverSeries=null},animate:function(a){var b=this,c=b.chart,d=b.clipRect,e=b.options.animation;e&&!bw(e)&&(e={}),a?d.isAnimating||(d.attr("width",0),d.isAnimating=!0):(d.animate({width:c.plotSizeX},e),this.animate=null)},drawPoints:function(){var a=this,b,c=a.data,d=a.chart,e,f,g,h,i,j;if(a.options.marker.enabled){g=c.length;while(g--)h=c[g],e=h.plotX,f=h.plotY,j=h.graphic,f!==G&&!isNaN(f)&&(b=h.pointAttr[h.selected?U:S],i=b.r,j?j.animate({x:e,y:f,r:i}):h.graphic=d.renderer.symbol(bE(h.marker&&h.marker.symbol,a.symbol),e,f,i).attr(b).add(a.group))}},convertAttribs:function(a,b,c,d){var e=this.pointAttrToOptions,f,g,h={};a=a||{},b=b||{},c=c||{},d=d||{};for(f in e)g=e[f],h[f]=bE(a[g],b[f],c[f],d[f]);return h},getAttribs:function(){var a=this,b=b$[a.type].marker?a.options.marker:a.options,c=b.states,d=c[T],e,f=a.color,g={stroke:f,fill:f},h=a.data,i,j,k=[],l,m=a.pointAttrToOptions,n,o;a.options.marker?(d.radius=d.radius||b.radius+2,d.lineWidth=d.lineWidth||b.lineWidth+1):d.color=d.color||ca(d.color||f).brighten(d.brightness).get(),k[S]=a.convertAttribs(b,g),bh([T,U],function(b){k[b]=a.convertAttribs(c[b],k[S])}),a.pointAttr=k,i=h.length;while(i--){j=h[i],b=j.options&&j.options.marker||j.options,b&&b.enabled===!1&&(b.radius=0),n=!1;if(j.options)for(o in m)bB(b[m[o]])&&(n=!0);n?(l=[],c=b.states||{},e=c[T]=c[T]||{},a.options.marker||(e.color=ca(e.color||j.options.color).brighten(e.brightness||d.brightness).get()),l[S]=a.convertAttribs(b,k[S]),l[T]=a.convertAttribs(c[T],k[T],l[S]),l[U]=a.convertAttribs(c[U],k[U],l[S])):l=k,j.pointAttr=l}},destroy:function(){var a=this,b=a.chart,c=a.clipRect,d=/\/5[0-9\.]+ (Safari|Mobile)\//.test(n),e,f;bn(a),a.legendItem&&a.chart.legend.destroyItem(a),bh(a.data,function(a){a.destroy()}),bh(["area","graph","dataLabelsGroup","group","tracker"],function(b){a[b]&&(e=d&&b==="group"?"hide":"destroy",a[b][e]())}),b.hoverSeries===a&&(b.hoverSeries=null),bA(b.series,a);for(f in a)delete a[f]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var a=this,b,c,d=a.data,e=a.options.dataLabels,f,g=a.dataLabelsGroup,h=a.chart,i=h.inverted,j=a.type,k,l=a.options.stacking,m=j==="column"||j==="bar",n=e.verticalAlign===null,o=e.y===null;m&&(l?(n&&(e=bk(e,{verticalAlign:"middle"})),o&&(e=bk(e,{y:{top:14,middle:4,bottom:-6}[e.verticalAlign]}))):(n&&(e=bk(e,{verticalAlign:"top"})),o&&(e=bk(e,{y:-6})))),g||(g=a.dataLabelsGroup=h.renderer.g("data-labels").attr({visibility:a.visible?M:K,zIndex:6}).translate(h.plotLeft,h.plotTop).add()),k=e.color,k==="auto"&&(k=null),e.style.color=bE(k,a.color),bh(d,function(d,k){var l=d.barX,n=l&&l+d.barW/2||d.plotX||-999,o=bE(d.plotY,-999),p=d.dataLabel,q=e.align;f=e.formatter.call(d.getLabelConfig()),b=(i?h.plotWidth-o:n)+e.x,c=(i?h.plotHeight-n:o)+e.y,j==="column"&&(b+={left:-1,right:1}[q]*d.barW/2||0),p?(i&&!e.y&&(c=c+bu(p.styles.lineHeight)*.9-p.getBBox().height/2),p.attr({text:f}).animate({x:b,y:c})):bB(f)&&(p=d.dataLabel=h.renderer.text(f,b,c).attr({align:q,rotation:e.rotation,zIndex:1}).css(e.style).add(g),i&&!e.y&&p.attr({y:c+bu(p.styles.lineHeight)*.9-p.getBBox().height/2}));if(m&&a.options.stacking){var r=d.barY,s=d.barW,t=d.barH;p.align(e,null,{x:i?h.plotWidth-r-t:l,y:i?h.plotHeight-l-s:r,width:i?t:s,height:i?s:t})}})}},drawGraph:function(a){var b=this,c=b.options,d=b.chart,e=b.graph,f=[],g,h=b.area,i=b.group,j=c.lineColor||b.color,k=c.lineWidth,l=c.dashStyle,m,n=d.renderer,o=b.yAxis.getThreshold(c.threshold||0),p=/^area/.test(b.type),q=[],r=[],s;bh(b.segments,function(a){m=[],bh(a,function(d,e){if(b.getPointSpline)m.push.apply(m,b.getPointSpline(a,d,e));else{m.push(e?Q:P);if(e&&c.step){var f=a[e-1];m.push(d.plotX,f.plotY)}m.push(d.plotX,d.plotY)}}),a.length>1?f=f.concat(m):q.push(a[0]);if(p){var d=[],e,g=m.length;for(e=0;e<g;e++)d.push(m[e]);g===3&&d.push(Q,m[1],m[2]);if(c.stacking&&b.type!=="areaspline")for(e=a.length-1;e>=0;e--)d.push(a[e].plotX,a[e].yBottom);else d.push(Q,a[a.length-1].plotX,o,Q,a[0].plotX,o);r=r.concat(d)}}),b.graphPath=f,b.singlePoints=q,b.areaPath=r,p&&(g=bE(c.fillColor,ca(b.color).setOpacity(c.fillOpacity||.75).get()),h?h.animate({d:r}):b.area=b.chart.renderer.path(r).attr({fill:g}).add(i)),e?e.animate({d:f}):k&&(s={stroke:j,"stroke-width":k},l&&(s.dashstyle=l),b.graph=n.path(f).attr(s).add(i).shadow(c.shadow))},render:function(){var a=this,b=a.chart,c,d,e=a.options,f=e.animation,g=f&&a.animate,h=g?f&&f.duration||500:0,i=a.clipRect,j=b.renderer;i||(i=a.clipRect=!b.hasRendered&&b.clipRect?b.clipRect:j.clipRect(0,0,b.plotSizeX,b.plotSizeY),b.clipRect||(b.clipRect=i)),a.group||(c=a.group=j.g("series"),b.inverted&&(d=function(){c.attr({width:b.plotWidth,height:b.plotHeight}).invert()},d(),bm(b,"resize",d)),c.clip(a.clipRect).attr({visibility:a.visible?M:K,zIndex:e.zIndex}).translate(b.plotLeft,b.plotTop).add(b.seriesGroup)),a.drawDataLabels(),g&&a.animate(!0),a.drawGraph&&a.drawGraph(),a.drawPoints(),a.options.enableMouseTracking!==!1&&a.drawTracker(),g&&a.animate(),setTimeout(function(){i.isAnimating=!1,c=a.group,c&&i!==b.clipRect&&i.renderer&&(c.clip(a.clipRect=b.clipRect),i.destroy())},h),a.isDirty=!1},redraw:function(){var a=this,b=a.chart,c=a.clipRect,d=a.group;d&&(b.inverted&&d.attr({width:b.plotWidth,height:b.plotHeight}),d.animate({translateX:b.plotLeft,translateY:b.plotTop})),a.translate(),a.setTooltipPoints(!0),a.render()},setState:function(a){var b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth;a=a||S;if(b.state!==a){b.state=a;if(e[a]&&e[a].enabled===!1)return;a&&(f=e[a].lineWidth||f+1),d&&!d.dashstyle&&d.attr({"stroke-width":f},a?0:500)}},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f=c.group,g=c.tracker,h=c.dataLabelsGroup,i,j,k=c.data,l,m=d.options.chart.ignoreHiddenSeries,n=c.visible;c.visible=a=a===G?!n:a,i=a?"show":"hide",f&&f[i]();if(g)g[i]();else{j=k.length;while(j--)l=k[j],l.tracker&&l.tracker[i]()}h&&h[i](),e&&d.legend.colorizeItem(c,a),c.isDirty=!0,c.options.stacking&&bh(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),m&&(d.isDirtyBox=!0),b!==!1&&d.redraw(),bo(c,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=a===G?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),bo(b,a?"select":"unselect")},drawTracker:function(){var a=this,b=a.options,c=[].concat(a.graphPath),d=c.length,e=a.chart,f=e.options.tooltip.snap,g=a.tracker,h=b.cursor,i=h&&{cursor:h},j=a.singlePoints,k,l;if(d){l=d+1;while(l--)c[l]===P&&c.splice(l+1,0,c[l+1]-f,c[l+2],Q),(l&&c[l]===P||l===d)&&c.splice(l,0,Q,c[l-2]+f,c[l-1])}for(l=0;l<j.length;l++)k=j[l],c.push(P,k.plotX-f,k.plotY,Q,k.plotX+f,k.plotY);g?g.attr({d:c}):a.tracker=e.renderer.path(c).attr({isTracker:!0,stroke:R,fill:O,"stroke-width":b.lineWidth+2*f,visibility:a.visible?M:K,zIndex:1}).on(v?"touchstart":"mouseover",function(){e.hoverSeries!==a&&a.onMouseOver()}).on("mouseout",function(){b.stickyTracking||a.onMouseOut()}).css(i).add(e.trackerGroup)}};var ci=bI(ch);br.line=ci;var cj=bI(ch,{type:"area"});br.area=cj;var ck=bI(ch,{type:"spline",getPointSpline:function(a,b,c){var d=1.5,e=d+1,f=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1],l,m,n,o,p;if(c&&c<a.length-1){var q=j.plotX,r=j.plotY,s=k.plotX,t=k.plotY,u;l=(d*f+q)/e,m=(d*i+r)/e,n=(d*f+s)/e,o=(d*i+t)/e,u=(o-m)*(n-f)/(n-l)+i-o,m+=u,o+=u,m>r&&m>i?(m=g(r,i),o=2*i-m):m<r&&m<i&&(m=h(r,i),o=2*i-m),o>t&&o>i?(o=g(t,i),m=2*i-o):o<t&&o<i&&(o=h(t,i),m=2*i-o),b.rightContX=n,b.rightContY=o}c?(p=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,l||f,m||i,f,i],j.rightContX=j.rightContY=null):p=[P,f,i];return p}});br.spline=ck;var cl=bI(ck,{type:"areaspline"});br.areaspline=cl;var cm=bI(ch,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){ch.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasColumn=!0,b.hasRendered&&bh(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},translate:function(){var a=this,b=a.chart,c=a.options,d=c.stacking,e=c.borderWidth,j=0,k=a.xAxis.reversed,l=a.xAxis.categories,m={},n,o;ch.prototype.translate.apply(a),bh(b.series,function(b){b.type===a.type&&b.visible&&(b.options.stacking?(n=b.stackKey,m[n]===G&&(m[n]=j++),o=m[n]):o=j++,b.columnIndex=o)});var p=a.data,q=a.closestPoints,r=i(p[1]?p[q].plotX-p[q-1].plotX:b.plotSizeX/(l&&l.length||1)),s=r*c.groupPadding,t=r-2*s,u=t/j,v=c.pointWidth,w=bB(v)?(u-v)/2:u*c.pointPadding,x=g(bE(v,u-2*w),1),y=(k?j-a.columnIndex:a.columnIndex)||0,z=w+(s+y*u-r/2)*(k?-1:1),A=c.threshold||0,B=a.yAxis.getThreshold(A),C=bE(c.minPointLength,5);bh(p,function(j){var k=j.plotY,l=j.yBottom||B,m=j.plotX+z,n=f(h(k,l)),o=f(g(k,l)-n),p=a.yAxis.stacks[(j.y<0?"-":"")+a.stackKey],q,r;d&&a.visible&&p&&p[j.x]&&p[j.x].setOffset(z,x),i(o)<C&&(C&&(o=C,n=i(n-B)>C?l-C:B-(k<=B?C:0)),q=n-3),bt(j,{barX:m,barY:n,barW:x,barH:o}),j.shapeType="rect",r=bt(b.renderer.Element.prototype.crisp.apply({},[e,m,n,x,o]),{r:c.borderRadius}),e%2&&(r.y-=1,r.height+=1),j.shapeArgs=r,j.trackerArgs=bB(q)&&bk(j.shapeArgs,{height:g(6,o+3),y:q})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,b=a.options,c=a.chart.renderer,d,e;bh(a.data,function(f){var g=f.plotY;g!==G&&!isNaN(g)&&f.y!==null&&(d=f.graphic,e=f.shapeArgs,d?(bq(d),d.animate(e)):f.graphic=c[f.shapeType](e).attr(f.pointAttr[f.selected?U:S]).add(a.group).shadow(b.shadow))})},drawTracker:function(){var a=this,b=a.chart,c=b.renderer,d,e,f=+(new Date),g=a.options.cursor,h=g&&{cursor:g},i;bh(a.data,function(g){e=g.tracker,d=g.trackerArgs||g.shapeArgs,delete d.strokeWidth,g.y!==null&&(e?e.attr(d):g.tracker=c[g.shapeType](d).attr({isTracker:f,fill:R,visibility:a.visible?M:K,zIndex:1}).on(v?"touchstart":"mouseover",function(c){i=c.relatedTarget||c.fromElement,b.hoverSeries!==a&&bC(i,"isTracker")!==f&&a.onMouseOver(),g.onMouseOver()}).on("mouseout",function(b){a.options.stickyTracking||(i=b.relatedTarget||b.toElement,bC(i,"isTracker")!==f&&a.onMouseOut())}).css(h).add(g.group||b.trackerGroup))})},animate:function(a){var b=this,c=b.data;a||(bh(c,function(a){var c=a.graphic,d=a.shapeArgs;c&&(c.attr({height:0,y:b.yAxis.translate(0,0,1)}),c.animate({height:d.height,y:d.y},b.options.animation))}),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&bh(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),ch.prototype.remove.apply(a,arguments)}});br.column=cm;var cn=bI(cm,{type:"bar",init:function(a){a.inverted=this.inverted=!0,cm.prototype.init.apply(this,arguments)}});br.bar=cn;var co=bI(ch,{type:"scatter",translate:function(){var a=this;ch.prototype.translate.apply(a),bh(a.data,function(b){b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var a=this,b=a.options.cursor,c=b&&{cursor:b},d;bh(a.data,function(b){d=b.graphic,d&&d.attr({isTracker:!0}).on("mouseover",function(c){a.onMouseOver(),b.onMouseOver()}).on("mouseout",function(b){a.options.stickyTracking||a.onMouseOut()}).css(c)})},cleanData:function(){}});br.scatter=co;var cp=bI(cg,{init:function(){cg.prototype.init.apply(this,arguments);var a=this,b;bt(a,{visible:a.visible!==!1,name:bE(a.name,"Slice")}),b=function(){a.slice()},bm(a,"select",b),bm(a,"unselect",b);return a},setVisible:function(a){var b=this,c=b.series.chart,d=b.tracker,e=b.dataLabel,f=b.connector,g=b.shadowGroup,h;b.visible=a=a===G?!b.visible:a,h=a?"show":"hide",b.group[h](),d&&d[h](),e&&e[h](),f&&f[h](),g&&g[h](),b.legendItem&&c.legend.colorizeItem(b,a)},slice:function(a,b,c){var d=this,e=d.series,f=e.chart,g=d.slicedTranslation,h;bL(c,f),b=bE(b,!0),a=d.sliced=bB(a)?a:!d.sliced,h={translateX:a?g[0]:f.plotLeft,translateY:a?g[1]:f.plotTop},d.group.animate(h),d.shadowGroup&&d.shadowGroup.animate(h)}}),cq=bI(ch,{type:"pie",isCartesian:!1,pointClass:cp,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=w},animate:function(a){var b=this,c=b.data;bh(c,function(a){var c=a.graphic,d=a.shapeArgs,e=-l/2;c&&(c.attr({r:0,start:e,end:e}),c.animate({r:d.r,start:d.start,end:d.end},b.options.animation))}),b.animate=null},translate:function(){var a=0,b=this,e=-0.25,f=1e3,g=b.options,i=g.slicedOffset,m=i+g.borderWidth,n=g.center.concat([g.size,g.innerSize||0]),o=b.chart,p=o.plotWidth,q=o.plotHeight,r,s,t,u=b.data,v=2*l,w,x=h(p,q),y,z,A,B=g.dataLabels.distance;n=bj(n,function(a,b){y=/%$/.test(a);return y?[p,q,x,x][b]*bu(a)/100:a}),b.getX=function(a,b){t=c.asin((a-n[1])/(n[2]/2+B));return n[0]+(b?-1:1)*j(t)*(n[2]/2+B)},b.center=n,bh(u,function(b){a+=b.y}),bh(u,function(c){w=a?c.y/a:0,r=d(e*v*f)/f,e+=w,s=d(e*v*f)/f,c.shapeType="arc",c.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:r,end:s},t=(s+r)/2,c.slicedTranslation=bj([j(t)*i+o.plotLeft,k(t)*i+o.plotTop],d),z=j(t)*n[2]/2,b.radiusY=A=k(t)*n[2]/2,c.tooltipPos=[n[0]+z*.7,n[1]+A*.7],c.labelPos=[n[0]+z+j(t)*B,n[1]+A+k(t)*B,n[0]+z+j(t)*m,n[1]+A+k(t)*m,n[0]+z,n[1]+A,B<0?"center":t<v/4?"left":"right",t],c.percentage=w*100,c.total=a}),this.setTooltipPoints()},render:function(){var a=this;this.drawPoints(),a.options.enableMouseTracking!==!1&&a.drawTracker(),this.drawDataLabels(),a.options.animation&&a.animate&&a.animate(),a.isDirty=!1},drawPoints:function(){var a=this,b=a.chart,c=b.renderer,d,e,f,g=a.options.shadow,h,i;bh(a.data,function(a){e=a.graphic,i=a.shapeArgs,f=a.group,h=a.shadowGroup,g&&!h&&(h=a.shadowGroup=c.g("shadow").attr({zIndex:4}).add()),f||(f=a.group=c.g("point").attr({zIndex:b.options.chart.plotLayerZIndex||5}).add()),d=a.sliced?a.slicedTranslation:[b.plotLeft,b.plotTop],f.translate(d[0],d[1]),h&&h.translate(d[0],d[1]),e?e.animate(i):a.graphic=c.arc(i).attr(bt(a.pointAttr[S],{"stroke-linejoin":"round"})).add(a.group).shadow(g,h),a.visible===!1&&a.setVisible(!1)})},drawDataLabels:function(){var a=this,b=a.data,c,d=a.chart,e=a.options.dataLabels,f=bE(e.connectorPadding,10),g=bE(e.connectorWidth,1),h,j,k=e.distance,m=a.radiusY,n=k>0,o,p,q,r,s=a.center[1],t=[[],[]],u,v,w,x,y,z,A,B,C,D=2,E;ch.prototype.drawDataLabels.apply(a),bh(b,function(a){t[a.labelPos[7]<l/2?0:1].push(a)}),t[1].reverse(),C=function(a,b){return b.y-a.y},q=t[0][0]&&t[0][0].dataLabel&&bu(t[0][0].dataLabel.styles.lineHeight);while(D--){var F=[],G,H=[],I=t[D],J,L=I.length;B=D%3,A=B?1:-1;for(J=s+m-k;J<=s-m+k;J+=q)F.push(J);G=F.length;if(L>G){y=[].concat(I),y.sort(C),E=L;while(E--)y[E].rank=E;E=L;while(E--)I[E].rank>=G&&I.splice(E,1);L=I.length}for(E=0;E<L;E++){c=I[E],p=c.labelPos;var N=9999,O,R,S;for(S=0;S<G;S++)R=i(F[S]-p[1]),R<N&&(N=R,O=S);if(O<E&&F[E]!==null)O=E;else if(G<L-E+O&&F[E]!==null)O=G-L+E;else while(F[O]===null)O++;H.push({i:O,y:F[O]}),F[O]=null}H.sort(C);for(E=0;E<L;E++){c=I[E],p=c.labelPos,o=c.dataLabel;var T=H.pop(),O=T.i,U=p[1],w=c.visible===!1?K:M;v=T.y;if(U>v&&F[O+1]!==null||U<v&&F[O-1]!==null)v=U;u=a.getX(v,D),typeof o!="undefined"?(o.attr({visibility:w,align:p[6]})[o.moved?"animate":"attr"]({x:u+e.x+({left:f,right:-f}[p[6]]||0),y:v+e.y}),o.moved=!0):o={moved:!0},n&&g&&(h=c.connector,j=[P,u+(p[6]==="left"?5:-5),v,Q,u,v,Q,p[2],p[3],Q,p[4],p[5]],h?(h.animate({d:j}),h.attr("visibility",w)):(pieConnectorColor=pieConnectorLineColorIE8("#606060","#ffffff"),c.connector=h=a.chart.renderer.path(j).attr({"stroke-width":g,stroke:e.connectorColor||pieConnectorColor,visibility:w,zIndex:3}).translate(d.plotLeft,d.plotTop).add()))}}},drawTracker:cm.prototype.drawTracker,getSymbol:function(){}});br.pie=cq,b.Highcharts={Chart:cf,dateFormat:D,pathAnim:F,getOptions:bR,numberFormat:bJ,Point:cg,Color:ca,Renderer:u,seriesTypes:br,setOptions:bQ,Series:ch,addEvent:bm,createElement:bH,discardElement:bS,css:bG,each:bh,extend:bt,map:bj,merge:bk,pick:bE,extendClass:bI,version:"2.1.5"}}(),function(){var a="rgba(192,192,192,0.005)",b="visible",c="hidden";Highcharts.seriesTypes.area.prototype.drawTracker=function(){var d=this,e=d.options,f=d.areaPath,g=d.chart,h=d.tracker,i=e.cursor,j=i&&{cursor:i};theSeriesArea=d.area,h?h.attr({d:f}):d.tracker=g.renderer.path(f).attr({isTracker:!0,fill:a,visibility:d.visible?b:c,zIndex:1}).on("mouseover",function(){g.hoverSeries!=d&&d.onMouseOver()}).on("mouseout",function(){e.stickyTracking||d.onMouseOut()}).css(j).add(g.trackerGroup)},Highcharts.Chart.prototype.setLineAndBandTooltipPoints=function(a){var b=this,c=b.xAxis[0],d=c.plotLinesAndBands||[],e=2;Highcharts.each(d,function(d){var f=d.options,g=f.tooltipPoint;if(g){var h;f.value?h=Math.floor(c.translate(f.value)):h=Math.floor(c.translate((f.from+f.to)/2)),g.object=d,g.chart=b,g.x=h;if(!f.nrDowntime){var i,j=h-e,k=h+e;for(i=j;i<=k;i++)a[i]=g}}})}}(),function($){var PROP_NAME="highcharts",zoomType;Highcharts.setOptions({chart:{style:{fontFamily:"'Helvetica Neue', Helvetica,  Verdana, Arial, sans-serif;",fontSize:"11px"}}}),$.widget("rpm."+PROP_NAME,$.rpm.component({component:"rpm."+PROP_NAME,options:{render:!1,callback:{}},_create:function(){var a=this,b=!1;$.each(["dataUrl"],function(c,d){typeof a.options[d]=="undefined"&&(b=!0,a.error("Missing required option '"+d+"'."))});if(!b){this.showingGroupedTooltips=!1,this.hidingGroupedTooltips=!1,this.chartDiv=this.element,this.chartDiv.addClass("chart"),this.id=this.chartDiv.attr("id");if(typeof $.rpm[PROP_NAME].instances[this.id]!="undefined"){a.error("Highcharts id '"+this.id+"' already registered.");return}this._bindCallbacks();var c=this.options.render?"rendering immediately":"delayed rendering";this.log(this.id+":","registering instance",c),$.rpm[PROP_NAME].instances[this.id]=this,this.rendered=!1,this.options.render&&$(function(){a.render()})}},_bindCallbacks:function(){var a=this;this.callbacks={},this.lastCallback="",this.bindCallback("load",function(){a.log(a.id+":","Highcharts event: load")}),this.bindCallback("redraw",function(){a.log(a.id+":","Highcharts event: redraw")}),this.bindCallback("error",function(){a.log(a.id+":","Highcharts event: error")}),this.bindCallback("selection",function(b){var c,d,e,f=180,g;a.chartData.xAxis.type==="datetime"&&(a.log(a.id+":","Highcharts event: selection "),b.preventDefault(),c=Math.ceil(b.xAxis[0].min/1e3),d=Math.ceil(b.xAxis[0].max/1e3),d-c<f&&(g=Math.ceil((f-d+c)/2),c-=g,d+=g),RPM.time_window_picker_showing?e=location.href:e=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID"),a._addChangingTimeWindowOverlay(),window.setTimeout(function(){window.top.location="/set_time_window?"+jQuery.param({back:e,tw:{start:c,end:d,from_local:!0}})},500))}),$.each(this.options.callback,function(b,c){a.bindCallback(b,c)})},_dataUrlWithTimeWindow:function(){var a=RPM.timeWindowParameters(),b=unescape(this.options.dataUrl);return b.indexOf("tw[")==-1?this.options.dataUrl.indexOf("?")==-1?this.options.dataUrl+"?"+a:this.options.dataUrl+"&"+a:this.options.dataUrl},_nextDataApiUrl:function(){var a=this._lastX(),b=a,c=b+RPM.time_window_period*1e3,d=new Date(b),e=new Date(c),f;f=jQuery.param({begin:d.toUTCString(),end:e.toUTCString()});return this.options.dataApiUrl.indexOf("?")==-1?this.options.dataApiUrl+"?"+f:this.options.dataApiUrl+"&"+f},_lastX:function(){var a=this.highchartsObject.series[0].data;return a[a.length-1].x},isReady:function(){return!this.options.render||this.rendered&&this.lastCallback!==""||this.lastCallback=="error"},_addOverlay:function(){this.overlayAdded||(this.overlay=$('<div class="overlay">&nbsp;</div>'),this.chartDiv.after(this.overlay),this.overlayAdded=!0)},_removeOverlay:function(){this.overlayAdded&&this.chartDiv.parent().hasClass("chart_container")&&this.chartDiv.next().remove()},_resetOverlay:function(){!this.overlayAdded||(this.overlay.html("&nbsp;"),this.chartDiv.removeClass("loading error"))},_addLoadingToOverlay:function(){this.options.loadingOverlay&&(this._resetOverlay(),this.chartDiv.addClass("loading"))},_removeLoadingFromOverlay:function(){this.chartDiv.removeClass("loading")},_addErrorToOverlay:function(){var a=this;this._addOverlay(),this._resetOverlay(),this.chartDiv.addClass("error"),this.overlay.html('<div class="error_container disrespect_visited"><h3>This chart\'s data failed to load</h3><p class="single">This may be a temporary failure. Please contact us at <a href="mailto:support@newrelic.com">support@newrelic.com</a> if the failure persists.</p></div>'),this.overlay.find("a.reload_link").click(function(b){a._resetOverlay(),a.rendered=!1,a._addLoadingToOverlay(),a.render(),b.preventDefault(),b.stopPropagation()})},_addChangingTimeWindowOverlay:function(){this._addOverlay(),this._resetOverlay(),this._removeNRLogo(),this.chartDiv.addClass("info loading"),this.overlay.html('<div class="info_container"><h3>Zooming in&hellip;</h3><p class="single">We\'ll be right back.</p></div>')},_removeErrorFromOverlay:function(){this.chartDiv.removeClass("error"),this._resetOverlay()},bindCallback:function(a,b){jQuery.inArray(a,$.rpm[PROP_NAME].hcCallbacks)!=-1&&(this.callbacks[a]||(this.callbacks[a]=[]),this.callbacks[a].push(b))},runCallback:function(a,b){if(jQuery.inArray(a,$.rpm[PROP_NAME].hcCallbacks)!=-1&&!!this.callbacks[a]){var c=this;this.lastCallback=a,$.each(this.callbacks[a],function(){$.isFunction(this)&&this.apply(c,[b])})}},_createHighchartsObject:function(){var a=this;$.ajax({type:"GET",url:this._dataUrlWithTimeWindow(),dataType:"json",success:function(b,c,d){a.chartData=b,a.origChartData=d.responseText,a._createHighchart(!1)},error:function(b,c,d){a._addErrorToOverlay(),a.runCallback("error")}})},_handleChartUrl:function(url,debug_source){url&&(url.startsWith("javascript:")?eval(url):window.location=url)},_yAxisFormatter:function(a,b){if(b=="MB"){if(Math.abs(a)>=1e6){a=a/1e6;return a+" TB"}if(Math.abs(a)>=1e3){a=a/1e3;return a+" GB"}return a+" MB"}if(b=="bytes"){if(Math.abs(a)>=1e12){a=a/1e12;return a+" TB"}if(Math.abs(a)>=1e9){a=a/1e9;return a+" GB"}if(Math.abs(a)>=1e6){a=a/1e6;return a+" MB"}if(Math.abs(a)>=1e3){a=a/1e3;return a+" KB"}return a+" B"}if(Math.abs(a)>=1e6){a=a/1e6;return a+"M "+b}if(Math.abs(a)>=5e3){a=a/1e3;return a+"k "+b}return a+" "+b},_mouseOutChartWithoutEvent:function(a){var b=a.hoverPoint,c=a.hoverSeries,d=a.tooltip;b&&(b.setState(""),b.series.chart.hoverPoint=null),c&&(c.setState(),c.chart.hoverSeries=null),d&&d.hide()},_seriesMouseOutWithoutEvent:function(a){var b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;e&&(e.setState(""),e.series.chart.hoverPoint=null),d&&!b.stickyTracking&&d.hide(),a.setState(),c.hoverSeries=null},_mouseOverPointWithoutEvent:function(a){var b=a.series.chart,c=a.series,d=b.tooltip,e=b.hoverPoint,f=b.hoverSeries,g=c.stateMarkerGraphic;g&&g.show(),f&&f!=c&&f.onMouseOut(),c.tracker&&c.tracker.toFront(),c.setState("hover"),b.hoverSeries=c,e&&e!=a&&(e.setState(""),e.series.chart.hoverPoint=null,f&&(f.setState(),f.chart.hoverSeries=null),d&&d.hide()),d&&d.refresh(a),a.setState("hover"),b.hoverPoint=a},_hideGroupedTooltips:function(){var a=this;a.showingGroupedTooltips||a.hidingGroupedTooltips||(a.hidingGroupedTooltips=!0,$.each($.rpm[PROP_NAME].instances,function(){var b=this,c=b.highchartsObject;b!=a&&b.rendered&&b.chartDiv.is(":visible")&&a.chartData.chart.nrTooltipGroup==b.chartData.chart.nrTooltipGroup&&a._mouseOutChartWithoutEvent(c)}),a.hidingGroupedTooltips=!1)},_showGroupedTooltips:function(a){var b=this,c=a.target?a.target.x:null,d=a.target?a.target.plotY:null;!!c&&!!b.chartData.chart.nrTooltipGroup&&b.chartData.chart.nrTooltipGroup!==""&&(b.showingGroupedTooltips||(b.showingGroupedTooltips=!0,$.each($.rpm[PROP_NAME].instances,function(){var a=this,e=a.highchartsObject;if(a!=b&&a.rendered&&a.chartDiv.is(":visible")&&b.chartData.chart.nrTooltipGroup==a.chartData.chart.nrTooltipGroup){var f=null,g=-1;$.each(e.series,function(){var a=this;(a.type=="line"||a.type=="area")&&$.each(a.tooltipPoints,function(){var a=this;c==a.x&&(g==-1||Math.abs(a.plotY-d)<Math.abs(g-d))&&(f=a,g=a.plotY)})}),f?(b._mouseOutChartWithoutEvent(e),b._mouseOverPointWithoutEvent(f)):b._mouseOutChartWithoutEvent(e)}}),b.showingGroupedTooltips=!1))},_createHighchart:function(a){function f(){this.nrDowntimeBand&&(this.zIndex=3),this.events={};if(this.nrTooltip){var a=this,b=this.nrTooltip,c=this.color,d={series:{chart:{}},events:{},tooltip:b,tooltipPos:null,color:c,object:null,chart:null,x:0,plotX:0,plotY:0,setState:function(){},firePointEvent:function(b){a.events[b]&&a.events[b]()},getLabelConfig:function(){return{point:{tooltip:b}}}};$.extend(this.events,{mouseover:function(){var a=this.options.tooltipPoint,b=a.chart;a.plotX=a.x,b.tooltip&&(b.hoverPoint&&b.hoverPoint.onMouseOut(),b.hoverSeries&&b.hoverSeries.onMouseOut(),b.hoverPoint=a,b.tooltip.refresh(a))},mouseout:function(){var a=this.options.tooltipPoint,b=a.chart;b.tooltip&&b.tooltip.hide()}});var e=this.events.mouseover,f=this.events.mouseout;d.onMouseOver=function(){e.apply(this.object)},d.onMouseOut=function(){f.apply(this.object)},this.tooltipPoint=d}if(this.nrLink){var g=this.nrLink,h=this.events.mouseover;$.extend(this.events,{mouseover:function(){this.svgElem.css({cursor:"pointer"}),h&&h.apply(this)},click:function(a){location.href=g}})}}var b=this,c=this.chartData;if(!c)this._addErrorToOverlay();else{if(c.error){_addErrorOverlay();return}c.chart.events||(c.chart.events={}),$.each($.rpm[PROP_NAME].hcCallbacks,function(a,d){c.chart.events[d]=function(a){var c=b;c.runCallback(d,a)}}),c.xAxis.type==="datetime"&&(c.chart.zoomType="x"),a||(c.chart.animation=!1,$.each(c.series,function(){this.animation=!1})),c.chart.hide_pie_lines==="true"&&this.bindCallback("load",function(){hide_disk_pie_lines()}),c.tooltip&&c.tooltip.style===""&&(c.tooltip.style={});if(c.chart.nrColorGroup){var d=[],e=$.rpm[PROP_NAME].colorGroups[c.chart.nrColorGroup];e||(e=$.rpm[PROP_NAME].colorGroups[c.chart.nrColorGroup]={},e.namesToColors={},e.usedColors={},e.colorSet=$.extend(!0,[],c.colors)),$.each(c.series,function(){var a=this.name;if(a){var b=e.namesToColors[a];b||($.each(c.colors,function(){var a=this;if(!e.usedColors[a]){b=a,e.usedColors[a]=1;return!1}return!0}),b||(b=e.colorSet.shift(),e.colorSet.push(b)),e.namesToColors[a]=b),d.push(b)}}),c.colors=d}c.yAxis&&c.yAxis.length>0&&($.extend(!0,c.yAxis[0],{labels:{formatter:function(){return b._yAxisFormatter(this.value,c.chart.numberSuffix)}}}),c.yAxis.length>1&&$.extend(!0,c.yAxis[1],{labels:{formatter:function(){return b._yAxisFormatter(this.value,c.chart.sNumberSuffix)}}})),c.chart.xAxisNumberSuffix&&c.xAxis&&$.extend(c.xAxis,{labels:{formatter:function(){return b._yAxisFormatter(this.value,c.chart.xAxisNumberSuffix)}}}),c.legend&&$.extend(!0,c.legend,{labelFormatter:function(){var a=this.name;if(a&&a.length>49)return a.substring(0,47)+"...";return a}}),c.plotOptions.series||(c.plotOptions.series={}),$.extend(!0,c.plotOptions.series,{events:{click:function(a){a.point&&a.point.url?b._handleChartUrl(a.point.url,"series"):this.options&&this.options.url&&b._handleChartUrl(this.options.url,"series")}},dataLabels:{formatter:function(a){return this.point.print_name}}}),c.plotOptions||(c.plotOptions={}),c.plotOptions.series||(c.plotOptions.series={}),c.plotOptions.series.point||(c.plotOptions.series.point={}),$.extend(!0,c.plotOptions.series.point,{events:{mouseOver:function(a){b._showGroupedTooltips(a),this.hoverId&&jQuery(".bar_chart_list_"+this.hoverId+" + div > p").css("background-color","#338899")},mouseOut:function(a){b._hideGroupedTooltips(),this.hoverId&&jQuery(".bar_chart_list_"+this.hoverId+" + div > p").css("background-color","#BBEEEE")}}}),c.chart.clickURL&&(c.chart.events.click=function(a){b._handleChartUrl(c.chart.clickURL,"chart")}),$.extend(!0,c,{tooltip:{formatter:function(){if(this.point.tooltip)return typeof this.point.tooltip.replace=="undefined"?!1:this.point.tooltip.replace(/\s+$/g,"").replace(/^\s+/g,"").replace(/\n/g," <br/>");if(c.chart.defaultSeriesType=="pie"||c.chart.defaultSeriesType=="scatter")return this.point.name;if(this.point.series.name!==undefined&&this.point.x!==undefined&&this.point.y!==undefined){var a=this.point.series.name+"<br/>";this.point.x>0&&c.xAxis.type=="datetime"&&(a+=Highcharts.dateFormat("%m/%d %H:%M",this.point.x)+"<br/>"),a+=b._yAxisFormatter(this.y,c.chart.numberSuffix);return a}if(this.point.x!==undefined)return this.point.x;return!1}}}),$.each(c.xAxis.plotBands||[],f),$.each(c.xAxis.plotLines||[],f),c.chart.renderTo=this.id,jQuery("#"+c.chart.renderTo).removeClass("loading"),this.highchartsObject=new Highcharts.Chart(c),this._addNRLogo(),c.chart.defaultSeriesType!="pie"&&this.options.dataUrl.indexOf("hideActionPanel=true")==-1&&this._addActionPanel(),this.rendered=!0}},_addNRLogo:function(){(this.options.height>160||this.options.height==="100%")&&this.chartDiv.parent().children(".js_chart_logo").length===0&&this.chartDiv.before($('<div class="js_chart_logo"><img src="/images/new_relic_rpm_transparent.png" /></div>'))},_removeNRLogo:function(){this.chartDiv.parent().children(".js_chart_logo").remove()},_addActionPanel:function(){var a=this,b=RPM.URL("/accounts/ACCOUNT_ID/embedded_charts");if(this.options.snappable&&this.chartDiv.parent().children(".js_chart_panel").length===0){var c=$('<ul class="js_chart_panel action_bar disrespect_visited clearfix"></ul>');RPM.can_create_notes===!0&&c.append($("<li></li>").append($('<a href="#" class="add_to_note icon">Add to note</a>').click(function(){var b={};a.options.chart_title&&(b={chart_title:a.options.chart_title}),window.RPM.new_js_note(a._dataUrlWithTimeWindow(),b);return!1}))),RPM.can_embed_charts===!0?c.append($("<li></li>").append($('<a href="#" class="bargraph icon">Embed</a>').click(function(){var c={url:a._dataUrlWithTimeWindow()};RPM.application_name!==undefined&&a.options.chart_title!==undefined?c.chart_title=RPM.application_name+": "+a.options.chart_title:a.options.chart_title!==undefined&&(c.chart_title=a.options.chart_title),RPM.guarded_refresh.disable(),$.post(b+".json",c,function(a){RPM.lightbox.open_for_url(a.redirect,{params:{in_table:!1},onCleanup:function(){RPM.guarded_refresh.enable();var a='Now that you have created an embedded chart, you can <a href="'+RPM.URL("/accounts/ACCOUNT_ID/embedded_charts")+'">get its code or revoke access to it</a> at any time.';RPM.add_flash_message("notice","embed-info",a)}})},"json");return!1}))):RPM.public_user||c.append($("<li></li>").append($('<a href="'+b+'" class="bargraph icon feature unavailable">Embed</a>'))),this.chartDiv.parent().hover(function(){c.show()},function(){c.hide()}),this.chartDiv.before(c)}},render:function(){if(!this.rendered){if(this.options.liveChart){var a=this;this.log(this.id+": live chart"),this.options.dataApiUrl?this.setNewPointTimeout():this.setReloadTimeout()}this.chartDiv.empty(),this.log(this.id+":","rendering"),this._createHighchartsObject()}},unregister:function(){this.log(this.id+":","unregistering instance"),delete $.rpm[PROP_NAME].instances[this.id]},setNewPointTimeout:function(){var a=this;window.setTimeout(function(){a.loadNewPoint.call(a)},RPM.time_window_period*1e3)},loadNewPoint:function(){var a=this;this.log(this.id+": fetching new data"),$.ajax({type:"GET",url:this._nextDataApiUrl(),dataType:"json",success:function(b,c,d){var e=b[0].end*1e3,f=b[0][a.options.dataApiField];a.highchartsObject.series[0].addPoint({x:e,y:f,tooltip:b[0].tooltip},!0,!0),a.setNewPointTimeout(),a.chartDiv.effect("pulsate",{times:1},1e3)},error:function(b,c,d){a.reload()}})},setReloadTimeout:function(){var a=this;window.setTimeout(function(){a.reload()},RPM.time_window_period*1e3)},reload:function(){var a=this;a.log(a.id+": reloading"),$.ajax({type:"GET",url:a._dataUrlWithTimeWindow(),dataType:"json",success:function(b,c,d){a.chartData=b,a.origChartData=d.responseText,a.highchartsObject.destroy(),a.chartDiv.effect("pulsate",{times:1},1e3),a._createHighchart(!1),a.setReloadTimeout()},error:function(b,c,d){a._addErrorToOverlay(),a.runCallback("error")}})}})),$.rpm[PROP_NAME].hcCallbacks=["load","redraw","error","selection"],$.rpm[PROP_NAME].colorGroups={},$.rpm[PROP_NAME].instances={},$.rpm[PROP_NAME].getInstance=function(a){if(typeof a=="string")return $.rpm[PROP_NAME].instances[a];a=$(a);if(a.is("embed")||a.is("object"))return $.rpm[PROP_NAME].instances[a.attr("id")];if(a.is("div.chart"))return $.rpm[PROP_NAME].instances[a.attr("id").replace("div_","")]},$.rpm[PROP_NAME].renderAll=function(a){a=typeof a!="undefined"?$(a):$(document),a.find("div.chart").each(function(){var a=$.rpm[PROP_NAME].getInstance(this);a&&a.render()})},$.rpm[PROP_NAME].unregisterAll=function(a){a=typeof a!="undefined"?$(a):$(document),a.find("div.chart").each(function(){var a=$.rpm[PROP_NAME].getInstance(this);a&&a.unregister()})},$.rpm[PROP_NAME].resizeAll=function(){$(window).resize()},$.rpm[PROP_NAME].isAllReady=function(){var a=!0;$.each($.rpm[PROP_NAME].instances,function(b,c){a=a&&c.isReady()});return a}}(jQuery),RPM.jQuery=jQuery.noConflict(),jQuery.ajaxState.init(),RPM.SPINNER=jQuery('<img src="/images/busy.gif" class="spinner">'),RPM.window_load_happened=!1;var isEventSupported=function(a){function c(c,d){d=d||document.createElement(b[c]||"div"),c="on"+c;var e=c in d;e||(d.setAttribute||(d=document.createElement("div")),d.setAttribute&&d.removeAttribute&&(d.setAttribute(c,""),e=typeof d[c]=="function",typeof d[c]!="undefined"&&(d[c]=a),d.removeAttribute(c))),d=null;return e}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c}();jQuery(document).ajaxSuccess(function(a){createTipsyTooltips()}),jQuery(document).ajaxStart(function(a){RPM.window_load_happened=!0}),jQuery(window).load(function(){RPM.window_load_happened=!0}),jQuery(document).ajaxError(function(a,b,c,d){b.status>=400&&(reenableFormButtons(jQuery("form")),RPM.add_flash_message("error","ajax_error",'<p><b>Oops!</b> We ran into a server error. Please try that again. If the error persists, please <a href="mailto:support@newrelic.com">contact support</a>.</p>',!0))}),jQuery(function(a){RPM.lightbox.for_selector("a[rel=lightbox]"),RPM.lightbox.videos_for_selector("a[rel=lightbox_video]"),jQuery("#account_nav > span").dropdown("#account_nav ul",{closeButton:!1}),jQuery("body:not(.nr) #primary_nav .nr > a").click(function(){jQuery("#primary_nav .nr ul").slideToggle("fast");return!1}),jQuery("body:not(.custom_views) #primary_nav .custom_views > a").click(function(){jQuery("#primary_nav .custom_views ul").slideToggle("fast");return!1}),a("body.custom_views #primary_nav .custom_views ul, body.nr #primary_nav .nr ul").slideDown("fast"),a("#banner_messages_menu_trigger > span").dropdown("#banner_messages_dropdown_content",{closeOnLinkClick:!1,closeButton:!1,align:"right"});if(a("body").hasClass("v31")){var b=a("#app_status_bg, #app_status_footer");b.length>0&&(b.appendTo("body"),a("body").addClass("with_app_status")),a("#app_name .application_dropdown li").length>0&&a("#app_name > h3").dropdown("#app_name .application_dropdown",{closeOnLinkClick:!1,closeButton:!1,setMaxHeight:!0,maxHeightPadding:16}),a("#app_name p.toggle_hidden_applications > a").click(function(b){a(this).toggleClass("toggle_closed").toggleClass("toggle_open"),a("#app_name").find("ul.hidden_applications").toggleClass("show"),b.stopPropagation(),b.preventDefault()});if(a("#host_picker .hosts_dropdown").length>0){var c=a("#app_name .application_dropdown"),d=a("#host_picker .hosts_dropdown");a("#host_picker h3").toggle(function(){c.css({overflow:"visible"}),d.show()},function(){c.css({overflowX:"auto"}),d.hide()})}a("ul#app_search_results li.selected, ul.hidden_applications li.selected, ul#hosts_picker li.selected").remove()}else{if(a("#application_name .application_dropdown *").length>0||a("#application_page_header_dropdown").length>0)a("#application_name h3").dropdown("#application_name .application_dropdown",{closeOnLinkClick:!1,closeButton:!1,setMinWidth:!0,setMaxHeight:!0,maxHeightPadding:16}),a("#application_name p.toggle_hidden_applications > a").click(function(b){a(this).toggleClass("toggle_closed").toggleClass("toggle_open"),a("#application_name").find("ul.hidden_applications").toggleClass("show"),b.stopPropagation(),b.preventDefault()});a("#host_picker .application_dropdown").length>0&&a("#host_picker h3").dropdown("#host_picker .application_dropdown",{closeOnLinkClick:!1,closeButton:!1,setMinWidth:!0,setMaxHeight:!0,maxHeightPadding:16})}if(a("#app_search_field").length>0){var e="13",f="38",g="40",h="27",i=a("#app_search_field"),j=a("#app_search_results li"),k=function(){return a("#app_search_results li.focused")},l=function(b){return j.filter(function(c){return a(this).text().match(b)})};appSearchDropdown=a("#application_name h3"),appSearchDropdown.click(function(){i.focus(),RPM.guarded_refresh.disable()}),j.hide(),a("#more_hosts_label").text("Search results:").hide(),a("#app_search_results li.recent_access").show(),a("#app_search_results li.related_host").css({display:"list-item"}),i.keyup(function(b){var c=new RegExp(a(this).val(),"i");a(this).val().length>=1?(j.hide(),a(".application_dropdown p.recent_title").hide(),a(".related_hosts_separator").hide(),l(c).css({display:"list-item"}),a("#more_hosts_label").show()):(j.hide(),a(".application_dropdown p.recent_title").show(),a("#app_search_results li.recent_access").show(),a("#app_search_results li.related_host").css({display:"list-item"}),a(".related_hosts_separator").css({display:"list-item"}),a("#more_hosts_label").hide());var d=k();b&&b.keyCode==f?d.length>0?(d.removeClass("focused"),d.prevAll(":visible").first().addClass("focused")):l(c).last().addClass("focused"):b&&b.keyCode==g?d.length>0?(d.removeClass("focused"),d.nextAll(":visible").first().addClass("focused")):l(c).first().addClass("focused"):b&&b.keyCode==h&&(appSearchDropdown.trigger("dropup"),RPM.guarded_refresh.enable())}),i.keydown(function(a){a&&a.keyCode==e&&(k().length>0&&(k().append(RPM.SPINNER),location.href=k().children("a").attr("href")),a.preventDefault(),a.stopPropagation())})}var m=a(".application.page_header li.apdex[tip]");m.length>0&&m.tipsy({title:"tip"}),RPM.currentStatus.setTimer(),a("form.formtastic").live("submit",function(){disableFormButtons(this);return!0}),a("body").ajaxComplete(function(b,c,d){a("form.formtastic:has(button.replacement_button)").each(function(a,b){reenableFormButtons(b)});return!0});if(a.browser.msie){a("form.formtastic button").live("click",function(b){a(this).parents("form").submit(),b.stopPropagation(),b.preventDefault();return!1});var n=a.browser.version.slice(0,1);(n=="7"||n=="8")&&a('input[type="text"], input[type="password"], input[type="url"], input[type="email"], input[type="search"], input[type="tel"]',a("form.formtastic")).keypress(function(b){if(b.keyCode==13){var c=a(this).parents("form");c.data("submitted")!="true"&&c.submit(),b.stopPropagation(),b.preventDefault();return!1}})}isEventSupported("pageshow",window)&&window.addEventListener("pageshow",function(a){jQuery("form.formtastic").each(function(){reenableFormButtons(this)})},!1),RPM.tw=a("#time_window_nav h3").time_window({dropdown:"#time_window_dropdown"}),RPM.page_tw=function(){return RPM.tw.length>0?RPM.tw.time_window.apply(RPM.tw,arguments):{}},RPM.permalink.init(),createTipsyTooltips(),RPM.highlightLocalLinks=function(b){var c=b.find("td a").not("ul a");c.closest("tr").hover(function(){a(this).find("a").not(".icon_link").not(".jquery-dropdown-content a").each(function(){a(this).addClass("nearby_links")})},function(){a(this).find("a").not(".icon_link").not(".jquery-dropdown-content a").each(function(){a(this).removeClass("nearby_links")})})},RPM.highlightLocalLinks(a("table.tr_hover_links")),a(".edit_in_place").rest_in_place(),a(".prevent_overflow").preventOverflow(),a("a.link_submit").link_submit(),a(".v31").length===1&&(a("#primary_content").before(a("#app_status_bar")),a(".simple_dropdown > a").simple_dropdown(),a("#sub_nav .sub_nav_header ul.second_level").length>0&&a("#sub_nav .sub_nav_header").simple_dropdown({content:a("#sub_nav .sub_nav_header ul.second_level")}),a("li#nav_servers.arrowed > a").simple_dropdown(),a("#nav_tools > a").simple_dropdown(),a("li.apps_drop > a").simple_dropdown({content:a(".application_dropdown")}),a("#sub_nav .sub_nav_header").bind("simple_dropdown_open",function(){a("#sub_nav_list > li:not(.sub_nav_header) a").animate({opacity:.1})}),a(document).bind("collapse_open_dropdowns dropdown",function(){a("#sub_nav_list li a").css({opacity:1})}),a(".middle_truncate").middle_truncate({length:24}),function(){if(a("span.badge").length>0){var b=a("span.badge"),c=b[0].className.split(/\s+/),d=c.pop();a("body").addClass(d)}}()),a("a.explain_plan_detail_link").live("click",function(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=c.closest("tr");d.length==0&&(d=c.closest("div"));var e=a(".explain_plan_details:first",d);e.is(":visible")?(e.slideUp("fast"),c.text("show details")):(e.slideDown("fast"),c.text("hide details"))})}),RestInPlaceEditor.prototype={activate:function(){this.oldValue=this.element.html(),this.element.addClass("rip-active"),this.element.unbind("click",this.clickHandler),this.activateForm()},abort:function(){this.element.html(this.oldValue).removeClass("rip-active").bind("click",{editor:this},this.clickHandler)},update:function(){var a=this;a.ajax({type:"post",data:a.requestData(),success:function(){a.ajax({dataType:"json",success:function(b){a.loadSuccessCallback(b)}}),a.element.removeClass("rip-active")}}),a.element.html("saving...")},activateForm:function(){alert("The form was not properly initialized. activateForm is unbound")},initOptions:function(){var a=this;a.element.parents().each(function(){a.url=a.url||jQuery(this).attr("data-url"),a.formType=a.formType||jQuery(this).attr("data-formtype"),a.objectName=a.objectName||jQuery(this).attr("data-object"),a.attributeName=a.attributeName||jQuery(this).attr("data-attribute")}),a.element.parents().each(function(){var b;if(b=this.id.match(/^(\w+)_(\d+)$/i))a.objectName=a.objectName||b[1]}),a.url=a.element.attr("data-url")||a.url||document.location.pathname,a.formType=a.element.attr("data-formtype")||a.formtype||"input",a.objectName=a.element.attr("data-object")||a.objectName,a.attributeName=a.element.attr("data-attribute")||a.attributeName,a.formContent=a.element.attr("data-formcontent")||a.element.html()},bindForm:function(){this.activateForm=RestInPlaceEditor.forms[this.formType].activateForm,this.getValue=RestInPlaceEditor.forms[this.formType].getValue},getValue:function(){alert("The form was not properly initialized. getValue is unbound")},requestData:function(){var a="_method=put";a+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),window.rails_authenticity_token&&(a+="&authenticity_token="+encodeURIComponent(window.rails_authenticity_token));return a},ajax:function(a){a.url=this.url;return jQuery.ajax(a)},loadSuccessCallback:function(data){jQuery.fn.jquery<"1.4"&&(data=eval("("+data+")")),this.element.html(data[this.objectName][this.attributeName]),data[this.objectName][this.attributeName+"_formcontent"]?this.formContent=data[this.objectName][this.attributeName+"_formcontent"]:this.formContent=data[this.objectName][this.attributeName],this.element.bind("click",{editor:this},this.clickHandler)},clickHandler:function(a){a.data.editor.activate()}},RestInPlaceEditor.forms={input:{activateForm:function(){this.element.html('<form action="javascript:void(0)" style="display:inline;"><input type="text" value="'+jQuery.trim(this.formContent)+'"></form>'),this.element.find("input")[0].select(),this.element.find("form").bind("submit",{editor:this},RestInPlaceEditor.forms.input.submitHandler),this.element.find("input").bind("blur",{editor:this},RestInPlaceEditor.forms.input.inputBlurHandler)},getValue:function(){return this.element.find("input").val()},inputBlurHandler:function(a){a.data.editor.abort()},submitHandler:function(a){a.data.editor.update();return!1}},textarea:{activateForm:function(){this.element.html('<form action="javascript:void(0)" style="display:inline;"><textarea>'+jQuery.trim(this.formContent)+"</textarea></form>"),this.element.find("textarea")[0].select(),this.element.find("textarea").bind("blur",{editor:this},RestInPlaceEditor.forms.textarea.blurHandler)},getValue:function(){return this.element.find("textarea").val()},blurHandler:function(a){a.data.editor.update()}}},jQuery.fn.rest_in_place=function(){this.each(function(){jQuery(this).data("restInPlaceEditor",new RestInPlaceEditor(this))});return this},function(a){jQuery.preload||(jQuery.preload=function(a){jQuery(function(){jQuery.each(a,function(a,b){jQuery("<img/>")[0].src=b})})});var b=0,c=a([]),d=a.fn.tooltip=function(d,e){if(a(this).length==0)return this;if(a(this).data("tooltip"))return this;a.preload(["/images/tooltip/bottom-left-arrow.png","/images/tooltip/bottom-left.png","/images/tooltip/bottom-right.png","/images/tooltip/top-left-arrow.png","/images/tooltip/top-left.png","/images/tooltip/top-right.png"]);var e=e||{},f=e.header||"",g=e.position||"below",h=e.align||null,i=typeof e.timeout=="number"?e.timeout:300,j=e.width||null,k=e.height||null,l=e.hide||"",m=e.hShift||0,n=e.hPosition||"left",o=a(this),p=h?a(h):a(this),q=++b,r=a("<div id='jquery-tooltip-popup-"+q+"' class='jquery-tooltip-popup pop-"+g+"'><h4></h4><div class='container'><div></div></div></div>").hide().prependTo("body").children("h4").html(f).end().children("h4:empty").addClass("empty").end().find("div.container div").html(d).end(),s=function(){var b=null,d=function(){r.is(":visible")&&(i==0?r.hide():r.fadeOut("fast"))};return function(e){clearTimeout(b);var f=p;if(e.type=="mouseenter"){if(!o.is(":visible"))return;r.css({visibility:"hidden"}),r.show();var q={visibility:"visible"},f=h||a(this).hasClass("jquery-tooltip-popup")?f:a(this);host_pos=f.offset();if(g=="below"){var s=f.height();q.top=host_pos.top+s+"px"}else g=="above"&&(q.top=host_pos.top-r.height()+"px");j&&(q.width=j+"px"),k&&(q.height=k+"px"),n=="left"?q.left=host_pos.left+m:n=="right"&&(q.left=host_pos.left+f.width()-m+"px"),console.log("positioning tooltip",o,r,q),r.hide(),r.css(q),c.hide(),r.fadeIn("fast")}else e.type=="mouseleave"?b=setTimeout(d,i):(e.type=="click"||l.split(" ").indexOf(e.type)!=-1)&&d()}}();o.hover(s,s),r.hover(s,s),r.click(s),c=c.add(r.get(0)),o.data("tooltip",!0),l.length&&o.bind(l,s);return this}}(jQuery),function(a){function c(b,c){this.$element=a(b),this.options=c,this.enabled=!0,this.fixTitle()}function b(a,b){return typeof a=="function"?a.call(b):a}c.prototype={show:function(){var c=this.getTitle();if(c&&this.enabled){var d=this.tip();d.find(".tipsy-inner")[this.options.html?"html":"text"](c),d[0].className="tipsy",d.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var e=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),f=d[0].offsetWidth,g=d[0].offsetHeight,h=b(this.options.gravity,this.$element[0]),i;switch(h.charAt(0)){case"n":i={top:e.top+e.height+this.options.offset,left:e.left+e.width/2-f/2};break;case"s":i={top:e.top-g-this.options.offset,left:e.left+e.width/2-f/2};break;case"e":i={top:e.top+e.height/2-g/2,left:e.left-f-this.options.offset};break;case"w":i={top:e.top+e.height/2-g/2,left:e.left+e.width+this.options.offset}}h.length==2&&(h.charAt(1)=="w"?i.left=e.left+e.width/2-15:i.left=e.left+e.width/2-f+15),d.css(i).addClass("tipsy-"+h),d.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+h.charAt(0),this.options.className&&d.addClass(b(this.options.className,this.$element[0])),this.options.fade?d.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):d.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("original-title")!="string")&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;typeof c.title=="string"?a=b.attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,"");return a||c.fallback},tip:function(){this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},a.fn.tipsy=function(b){function g(){var a=e(this);a.hoverState="out",b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}function f(){var a=e(this);a.hoverState="in",b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},b.delayIn))}function e(d){var e=a.data(d,"tipsy");e||(e=new c(d,a.fn.tipsy.elementOptions(d,b)),a.data(d,"tipsy",e));return e}if(b===!0)return this.data("tipsy");if(typeof b=="string"){var d=this.data("tipsy");d&&d[b]();return this}b=a.extend({},a.fn.tipsy.defaults,b),b.live||this.each(function(){e(this)});if(b.trigger!="manual"){var h=b.live?"live":"bind",i=b.trigger=="hover"?"mouseenter":"focus",j=b.trigger=="hover"?"mouseleave":"blur";this[h](i,f)[h](j,g)}return this},a.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c},a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"},a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"},a.fn.tipsy.autoBounds=function(b,c){return function(){var d={ns:c[0],ew:c.length>1?c[1]:!1},e=a(document).scrollTop()+b,f=a(document).scrollLeft()+b,g=a(this);g.offset().top<e&&(d.ns="n"),g.offset().left<f&&(d.ew="w"),a(window).width()+a(document).scrollLeft()-g.offset().left<b&&(d.ew="e"),a(window).height()+a(document).scrollTop()-g.offset().top<b&&(d.ns="s");return d.ns+(d.ew?d.ew:"")}}}(jQuery),function(a){a.cached_ajax_sort_list=function(b,c){var d=new a._cached_ajax_sort_list(b,c);a._cached_ajax_sort_list.instances[b]=d;return d},a._cached_ajax_sort_list=function(b,c){this.label=b,this.container=a(c.container),this.list_element=c.list_element,this.default_sort_by=c.default_sort_by,this.url=c.url,this.top5_url=c.top5_url,this.add_filter=c.add_filter,this.cached_ajax_drilldown=c.cached_ajax_drilldown,this.list_class=c.list_class,this.dropdown=a("#sort_by"),this.filterbox=a("#add_filter"),this.top5chart=a("#bar_chart_top5_by_"+this.default_sort_by+"_filter_"+this.add_filter),this.top5_default_sort_by=c.top5_default_sort_by,this.graph_header=a(c.graph_header_id)||a("#bar_chart_list_header"),this.graph_loading_id=c.graph_loading_id||"#bar_chart_loading",this.graph_loading=a(this.graph_loading_id),this.non_dynamic_top5=c.non_dynamic_top5,this.show_filter_for=c.show_filter_for},a._cached_ajax_sort_list.instances={},a.extend(a._cached_ajax_sort_list.prototype,{after_graph_load:function(b,c,d){var e=this;typeof d=="undefined"&&(d=""),a(e.list_class+":visible").not("#"+b.attr("id")).slideUp("slow"),e.graph_loading.filter(":visible").fadeOut(),b.slideDown("slow"),e.filterbox.length>0&&a.inArray(c,e.show_filter_for)>=0?this.filterbox.parent().show():this.filterbox.parent().hide(),a.ajaxState.change("sort_by",c),a(e.list_element+" a",b).each(function(){e.cached_ajax_drilldown.setup_drilldown(a(this))});if(a(".selected",b).length==0){var f=a.ajaxState.getState("id");f&&f!=""&&a(".bar_chart_list_"+f+", .row_"+f,b).parents(e.list_element).addClass("selected")}},load_top5_chart:function(b,c){var d=this;typeof c=="undefined"&&(c="");if(d.dropdown.length>0){var e=d.dropdown.find("option[value="+b+"]");if(e.length==1)e[0].selected=!0;else return}if(d.top5chart.length>0&&b.length>1){d.top5chart.hide(),a("#top5_chart_container").css("height","250px"),a("#top5_chart_container").addClass("loading");var f=a.ajaxState.getState("id"),g=a("#bar_chart_top5_by_"+b+"_filter_"+c),h=!1;a.inArray(b,d.non_dynamic_top5)>=0&&(g=a("#bar_chart_top5_by_"+d.top5_default_sort_by+"_filter_"+c),h=!0);if(g.length>0)d.top5chart.hide(),a("#top5_chart_container").removeClass("loading"),a("#top5_chart_container").css("height","auto"),g.slideDown("slow"),d.top5chart=g;else{var i=d.top5_url;h&&(b=d.top5_default_sort_by),i+=i.search(/\?/)>-1?"&":"?",i+=a.param({sort_by:b,selected_id:f,add_filter:c}),a.get(RPM.URL(i),function(b){a("#top5_chart_container").removeClass("loading").css("height","auto");var c=a(b);a("#top5_chart_container").prepend(c),d.top5chart.hide(),d.top5chart=a(c)})}}},load_graph:function(b,c){var d=this;typeof c=="undefined"&&(c="");if(d.dropdown.length>0){var e=d.dropdown.find("option[value="+b+"]");if(e.length==1)e[0].selected=!0;else return}var f=a("#bar_chart_list_by_"+b+"_filtered_"+c);if(f.length==1)d.after_graph_load(f,b,c);else{var g=a.ajaxState.getState("id");a(d.list_class+":visible").slideUp("slow"),a(d.list_class).find(d.list_element).removeClass("loading").removeClass("selected"),g&&g!=""&&a(".bar_chart_list_"+g+", .row_"+g,d.list_class).parents(d.list_element).addClass("selected"),d.graph_loading.slideDown("slow");var h=d.url;h+=h.search(/\?/)>-1?"&":"?",h+=a.param({sort_by:b,selected_id:g,add_filter:c}),a.get(RPM.URL(h),function(e){var f=a(e).hide().prependTo(d.container);d.after_graph_load(f,b,c),d.container.trigger("afterGraphLoad")})}},setup_dropdown:function(){var a=this;a.dropdown.hasClass("change_sort_by")||(a.dropdown.addClass("change_sort_by"),a.dropdown.change(function(b){a.filterbox.length>0?a.load_graph(a.dropdown.val(),a.filterbox.is(":checked")):a.load_graph(a.dropdown.val())}),a.dropdown.change(function(b){var c=!1;a.filterbox.length>0&&a.filterbox.is(":checked")&&(c=!0),a.load_top5_chart(a.dropdown.val(),c)}),a.filterbox.length>0&&a.filterbox.change(function(b){a.load_graph(a.dropdown.val(),a.filterbox.is(":checked")),a.load_top5_chart(a.dropdown.val(),a.filterbox.is(":checked"))}))}}),a.cached_ajax=function(b,c){var d=new a._cached_ajax(b,c);a._cached_ajax.instances[b]=d;return d},a._cached_ajax=function(b,c){this.label=b,this.url=c.url,this.element_regexp=c.element_regexp,this.list_selector=c.list_selector,this.list_element=c.list_element||"li",this.drilldown_help=a("#drilldown_help"),this.container_selector=c.container||"#bar_chart_list_column"},a._cached_ajax.instances={},a.extend(a._cached_ajax.prototype,{debug:!0,log:function(){if(!!this.debug){var a=Array.prototype.slice.apply(arguments);a.unshift("cached_ajax:");if(console&&console.log)console.log.apply(console,a);else throw a.join(", ")}},load_drilldown:function(b,c){var d=this;if(!b||b=="")d.close_drilldown(b);else{c||(c=a(".bar_chart_list_"+b));var e=a("#drilldown_content_"+b);e.length==1?e.is(":not(:visible)")&&d.after_drilldown_content_load(b,c,e):(e=a('<div id="drilldown_content_'+b+'" class="drilldown_content clearfix"></div>').hide(),d.drilldown_help.after(e),c&&c.closest(d.list_element).addClass("loading"),e.load(RPM.URL(d.url,{metric_id:b}),function(){d.after_drilldown_content_load(b,c,e)}))}},setup_drilldown:function(a){var b=this;a.hasClass("drilldown")||(a.addClass("drilldown").click(function(c){c.preventDefault();var d=a.attr("class").match(b.element_regexp);if(d&&d[1])d=d[1];else throw"couldn't find "+b.label+" id";b.load_drilldown(d,a);return!1}),a.attr("tip")&&a.attr("tip").length>0&&a.tipsy({title:"tip",html:!0,gravity:"w"}))},close_drilldown:function(b,c){var d=this;d.change_visible_panel(null,null,a(".drilldown_content"),d.drilldown_help)},after_drilldown_content_load:function(b,c,d){var e=this;d.bind_close_button(function(a){e.close_drilldown(b)}),e.change_visible_panel(b,c,e.drilldown_help.add(a(".drilldown_content")),d)},change_visible_panel:function(b,c,d,e){RPM.bind_table_row_link_events(".transaction_traces_summary table, .errors_summary table");var f=this,g=d.filter(":visible"),h=e.filter(":not(:visible)"),i=function(){e.show("slide",{},"slow",function(){a.rpm.chart.renderAll(h),a.rpm.highcharts.renderAll(h)})};g.length>0?g.hide("slide",{},"slow",i):i(),a.rpm.highcharts.resizeAll(),a(f.container_selector+" > "+f.list_selector).find(f.list_element).removeClass("selected").removeClass("loading"),c&&a(c).closest(f.list_element).addClass("selected"),a.ajaxState.change("id",b)}})}(jQuery),function(a){window.RPM=a.extend(window.RPM,{tabs_helper:function(){a.fn.getClassForTab=function(){return this.length?a.trim(this.attr("class").toLowerCase().replace(/(current|nocache|disabled)/ig,"")):""};var b={change_tab:function(c,d,e,f){var g=a(c+" li."+d+" a");if(g.length!=1)return!1;f?(b.cleanup_tab_contents(e),b.tab_change_after(g,d,e,!0)):jQuery(document).ready(function(){g.click()});return!0},tab_change_before:function(b,c,d,e){a(b).parent().parent().children(".current").removeClass("current"),a("#"+d+"_"+c).length==0&&a("#"+d).append(a('<div id="'+d+"_"+c+'"></div>'));var f=a("#"+d+"_"+c).show();e=a.trim(e),e.length>0&&f.html(e)},tab_change_after:function(b,c,d,e){var b=a(b),f=b.parent().parent().attr("id");if(!e&&f&&f.length>0){var c=b.parent().getClassForTab();c=c==""?null:c,a.ajaxState.change("tab-"+f,c)}b.parent().addClass("current"),b.trigger("tabchange"),a.rpm.chart.resizeAll(),a.rpm.highcharts.resizeAll()},tab_change_complete:function(b,c,d){a(b+" li."+c+" a:first img.spinner").remove()},tab_change_condition:function(c,d,e){var f=a(c),g="#"+f.parent().parent().attr("id"),h=a("#"+e+"_"+d),i=a(g+" li.current").getClassForTab();b.cleanup_tab_contents(e),a(g+" li.current:first a:first img.spinner").remove(),b.save_current_tab(g,i,e);if(b.restore_tab(g,d,e)){setTimeout(function(){a.rpm.highcharts.resizeAll()},100);return!1}f.append(RPM.SPINNER);return!0},save_current_tab:function(b,c,d){var e=a(b+" li.current");if(e.length==1){e.hasClass("nocache")?a("#"+d+"_"+c).remove():a("#"+d+"_"+c).hide();return!0}return!1},restore_tab:function(c,d,e){var f=a(c+" li."+d+" a:first"),g=a("#"+e+"_"+d);if(!f.parent().hasClass("nocache")&&g.not(":empty").length==1){b.tab_change_before(f,d,e),g.show(),b.tab_change_after(f,e);return!0}return!1},cleanup_tab_contents:function(b){a("#"+b+"__intro").hide()}};return b}()})}(jQuery),function(a){window.RPM=a.extend(window.RPM,{custom_view_helper:function(){var b={restore:function(b){a("#dashboard_source").attr("value",b.source),RPM.tabs_helper.change_tab("#edit_custom_view","edit")}};return b}()})}(jQuery),function(a){window.RPM=a.extend(window.RPM,{form_helper:function(){var b={},c={disable_submit:function(c,d){b[c]=a(c).attr("value");var d=d?d:"Loading...";a(c).attr("disabled","disabled").attr("value",d)},reenable_submit:function(c,d){a(c).removeAttr("disabled").attr("value",b[c]).next("img.spinner").remove()},disable_fieldset:function(b){a(b).addClass("disabled").find("input, button, select, textarea").filter(":enabled").addClass("fieldset-disabled").attr("disabled","disabled")},reenable_fieldset:function(b){a(b).removeClass("disabled").find("input, button, select, textarea").filter(".fieldset-disabled").removeClass("fieldset-disabled").attr("disabled","")},disable_select:function(b){a(b).attr("disabled","disabled")},reenable_select:function(b){a(b).removeAttr("disabled")}};return c}()})}(jQuery),function(a){var b={groupBy:"tr",ajaxState:null,defaultInputText:"Filter table..."};a.fn.tablefilter=function(b,d,e){a(this).data("tablefilter",new c(this,b,d,e));return this};var c=function(c,d,e,f){var g=this;this.table=a(c),this.inputField=a(d),this.rows=this.table.find(e),this.options=a.extend(b,f),(!this.inputField.length||!this.inputField.is("input"))&&console.log('tablefilter Error: No input field found with given selector "'+inputFieldSelector+'".');if(a.browser.safari){var h=this.inputField[0];h.type="search",h.onsearch=function(a){g.inputField.trigger("filterChange")},this.inputField.attr({placeholder:this.options.defaultInputText,incremental:!0})}else this.inputField.keyup(function(a){g.inputField.trigger("filterChange")});this.inputField.bind("filterChange",function(a,b){g.filterChange(a,g,b)}),a.tablesorter&&(g.table.hasClass("tablesorter")||g.table.hasClass("tablesorter-tbody"))&&(this.tablesorter=!0),!this.options.ajaxState||this.options.ajaxState==""?this.options.ajaxStateEnabled=!1:(this.options.ajaxStateEnabled=!0,a.ajaxState.register(this.options.ajaxState,function(a){g.inputField.attr("value",a).trigger("filterChange",[!0]),jQuery.browser.safari&&g.inputField.focus().blur()}))};c.prototype={version:"1.0",table:null,inputField:null,rows:null,options:null,keyDownInterval:250,tablesorter:!1,filterChange:function(){var b=null,c=null;return function(d,e,f){f=f||!1,b&&clearTimeout(b),b=setTimeout(function(b){var d=a.trim(e.inputField.attr("value")),g=new RegExp(d,"i");if(f||d!=c){c=d,e.options.ajaxStateEnabled&&a.ajaxState.change(e.options.ajaxState,d);if(!d.length)e.clear();else{var h=0;e.rows.each(function(){var b=a(this);g.test(b.text())?e.showRow(b):e.hideRow(b)})}e.tablesorter&&e.table.trigger("applyWidgets")}},e.keyDownInterval)}}(),clear:function(){this.showRow(this.rows)},showRow:function(b){var c=this;b.each(function(){var b=a(this).parents(c.options.groupBy).eq(0);b.filter(".hidden").removeClass("hidden").show()})},hideRow:function(b){var c=this;b.each(function(){var b=a(this).parents(c.options.groupBy).eq(0);b.addClass("hidden").hide()})}}}(jQuery),function(a){function b(){return{cntr:++b.cntr,settings:a.extend({},a.tree.defaults),init:function(c,d){var e=this;this.container=a(c);if(this.container.size==0)return!1;b.inst[this.cntr]=this,this.container.attr("id")||this.container.attr("id","jstree_"+this.cntr),b.inst[this.container.attr("id")]=b.inst[this.cntr],b.focused=this.cntr,this.settings=a.extend(!0,{},this.settings,d);if(this.settings.languages&&this.settings.languages.length){this.current_lang=this.settings.languages[0];var f=!1,g="#"+this.container.attr("id");for(var h=0;h<this.settings.languages.length;h++)f=b.add_css(g+" ."+this.settings.languages[h]),f!==!1&&(f.style.display=this.settings.languages[h]==this.current_lang?"":"none")}else this.current_lang=!1;this.container.addClass("tree"),this.settings.ui.theme_name!==!1&&(this.settings.ui.theme_path===!1&&a("script").each(function(){if(this.src.toString().match(/jquery\.tree.*?js$/)){e.settings.ui.theme_path=this.src.toString().replace(/jquery\.tree.*?js$/,"")+"themes/"+e.settings.ui.theme_name+"/style.css";return!1}}),this.settings.ui.theme_path!=""&&a.inArray(this.settings.ui.theme_path,b.themes)==-1&&(b.add_sheet({url:this.settings.ui.theme_path}),b.themes.push(this.settings.ui.theme_path)),this.container.addClass("tree-"+this.settings.ui.theme_name));var i="";for(var j in this.settings.types){if(!this.settings.types.hasOwnProperty(j))continue;if(!this.settings.types[j].icon)continue;if(this.settings.types[j].icon.image||this.settings.types[j].icon.position)j=="default"?i+="#"+this.container.attr("id")+" li > a ins { ":i+="#"+this.container.attr("id")+" li[rel="+j+"] > a ins { ",this.settings.types[j].icon.image&&(i+=" background-image:url("+this.settings.types[j].icon.image+"); "),this.settings.types[j].icon.position&&(i+=" background-position:"+this.settings.types[j].icon.position+"; "),i+="} "}i!=""&&b.add_sheet({str:i}),this.settings.rules.multiple&&(this.selected_arr=[]),this.offset=!1,this.hovered=!1,this.locked=!1,b.drag_drop.marker===!1&&(b.drag_drop.marker=a("<div>").attr({id:"jstree-marker"}).hide().appendTo("body")),this.callback("oninit",[this]),this.refresh(),this.attach_events(),this.focus()},refresh:function(b){if(this.locked)return this.error("LOCKED");var c=this;b&&!this.settings.data.async&&(b=!1),this.is_partial_refresh=b?!0:!1,this.opened=[],this.settings.opened!=!1?(a.each(this.settings.opened,function(a,b){this.replace(/^#/,"").length>0&&c.opened.push("#"+this.replace(/^#/,""))}),this.settings.opened=!1):this.container.find("li.open").each(function(a){this.id&&c.opened.push("#"+this.id)});if(this.selected)this.settings.selected=[],b?a(b).find("li:has(a.clicked)").each(function(){this.id&&c.settings.selected.push("#"+this.id)}):this.selected_arr?a.each(this.selected_arr,function(){this.attr("id")&&c.settings.selected.push("#"+this.attr("id"))}):this.selected.attr("id")&&this.settings.selected.push("#"+this.selected.attr("id"));else if(this.settings.selected!==!1){var d=[];(typeof this.settings.selected).toLowerCase()=="object"?a.each(this.settings.selected,function(){this.replace(/^#/,"").length>0&&d.push("#"+this.replace(/^#/,""))}):this.settings.selected.replace(/^#/,"").length>0&&d.push("#"+this.settings.selected.replace(/^#/,"")),this.settings.selected=d}if(b&&this.settings.data.async){this.opened=[],b=this.get_node(b),b.find("li.open").each(function(a){c.opened.push("#"+this.id)}),b.hasClass("open")&&b.removeClass("open").addClass("closed"),b.hasClass("leaf")&&b.removeClass("leaf"),b.children("ul:eq(0)").html("");return this.open_branch(b,!0,function(){c.reselect.apply(c)})}var c=this,e=new a.tree.datastores[this.settings.data.type];this.container.children("ul").size()==0&&this.container.html("<ul class='ltr' style='direction:ltr;'><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>"+(this.settings.lang.loading||"Loading ...")+"</a></li></ul>"),e.load(this.callback("beforedata",[!1,this]),this,this.settings.data.opts,function(b){b=c.callback("ondata",[b,c]),e.parse(b,c,c.settings.data.opts,function(b){b=c.callback("onparse",[b,c]),c.container.empty().append(a("<ul class='ltr'>").html(b)),c.container.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),c.container.find("li").not(".open").not(".closed").addClass("leaf"),c.reselect()})})},reselect:function(b){var c=this;b?this.cl_count--:this.cl_count=0;if(this.opened&&this.opened.length){var d=!1;for(var e=0;this.opened&&e<this.opened.length;e++)if(this.settings.data.async){var f=this.get_node(this.opened[e]);if(f.size()&&f.hasClass("closed")>0){d=!0;var f=this.opened[e].toString().replace("/","\\/");delete this.opened[e],this.open_branch(f,!0,function(){c.reselect.apply(c,[!0])}),this.cl_count++}}else this.open_branch(this.opened[e],!0);if(this.settings.data.async&&d)return;if(this.cl_count>0)return;delete this.opened}this.cl_count>0||(this.container.css("direction","ltr").children("ul:eq(0)").addClass("ltr"),this.settings.ui.dots==!1&&this.container.children("ul:eq(0)").addClass("no_dots"),this.scrtop&&(this.container.scrollTop(c.scrtop),delete this.scrtop),this.settings.selected!==!1&&(a.each(this.settings.selected,function(b){c.is_partial_refresh?c.select_branch(a(c.settings.selected[b].toString().replace("/","\\/"),c.container),c.settings.rules.multiple!==!1):c.select_branch(a(c.settings.selected[b].toString().replace("/","\\/"),c.container),c.settings.rules.multiple!==!1&&b>0)}),this.settings.selected=!1),this.callback("onload",[c]))},get:function(b,c,d){c||(c=this.settings.data.type),d||(d=this.settings.data.opts);return(new a.tree.datastores[c]).get(b,this,d)},attach_events:function(){var c=this;this.container.bind("mousedown.jstree",function(a){if(b.drag_drop.isdown){b.drag_drop.move_type=!1,a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation();return!1}}).bind("mouseup.jstree",function(a){setTimeout(function(){c.focus.apply(c)},5)}).bind("click.jstree",function(a){return!0}),a("#"+this.container.attr("id")+" li").live("click",function(b){if(b.target.tagName!="LI")return!0;c.off_height();if(b.pageY-a(b.target).offset().top>c.li_height)return!0;c.toggle_branch.apply(c,[b.target]);return!0}),a("#"+this.container.attr("id")+" li a").live("click.jstree",function(a){if(a.which&&a.which==3)return!0;if(c.locked){a.preventDefault(),a.target.blur();return c.error("LOCKED")}c.select_branch.apply(c,[a.target,a.ctrlKey||c.settings.rules.multiple=="on"]),c.inp&&c.inp.blur(),a.preventDefault(),a.target.blur();return!0}).live("dblclick.jstree",function(a){if(c.locked){a.preventDefault(),a.stopPropagation(),a.target.blur();return c.error("LOCKED")}c.callback("ondblclk",[c.get_node(a.target).get(0),c]),a.preventDefault(),a.stopPropagation(),a.target.blur()}).live("contextmenu.jstree",function(a){if(c.locked){a.target.blur();return c.error("LOCKED")}return c.callback("onrgtclk",[c.get_node(a.target).get(0),c,a])}).live("mouseover.jstree",function(a){if(c.locked){a.preventDefault(),a.stopPropagation();return c.error("LOCKED")}c.hovered!==!1&&(a.target.tagName=="A"||a.target.tagName=="INS")&&(c.hovered.children("a").removeClass("hover"),c.hovered=!1),c.callback("onhover",[c.get_node(a.target).get(0),c])}).live("mousedown.jstree",function(d){if(c.settings.rules.drag_button=="left"&&d.which&&d.which!=1)return!0;if(c.settings.rules.drag_button=="right"&&d.which&&d.which!=3)return!0;c.focus.apply(c);if(c.locked)return c.error("LOCKED");var e=c.get_node(d.target);if(c.settings.rules.multiple!=!1&&c.selected_arr.length>1&&e.children("a:eq(0)").hasClass("clicked")){var f=0;for(var g in c.selected_arr){if(!c.selected_arr.hasOwnProperty(g))continue;c.check("draggable",c.selected_arr[g])&&(c.selected_arr[g].addClass("dragged"),b.drag_drop.origin_tree=c,f++)}if(f>0){c.check("draggable",e)?b.drag_drop.drag_node=e:b.drag_drop.drag_node=c.container.find("li.dragged:eq(0)"),b.drag_drop.isdown=!0,b.drag_drop.drag_help=a("<div id='jstree-dragged' class='tree "+(c.settings.ui.theme_name!=""?" tree-"+c.settings.ui.theme_name:"")+"' />").append("<ul class='"+c.container.children("ul:eq(0)").get(0).className+"' />");var h=b.drag_drop.drag_node.clone();c.settings.languages.length>0&&h.find("a").not("."+c.current_lang).hide(),b.drag_drop.drag_help.children("ul:eq(0)").append(h),b.drag_drop.drag_help.find("li:eq(0)").removeClass("last").addClass("last").children("a").html("<ins>&nbsp;</ins>Multiple selection").end().children("ul").remove(),b.drag_drop.dragged=c.container.find("li.dragged")}}else if(c.check("draggable",e)){b.drag_drop.drag_node=e,b.drag_drop.drag_help=a("<div id='jstree-dragged' class='tree "+(c.settings.ui.theme_name!=""?" tree-"+c.settings.ui.theme_name:"")+"' />").append("<ul class='"+c.container.children("ul:eq(0)").get(0).className+"' />");var h=e.clone();c.settings.languages.length>0&&h.find("a").not("."+c.current_lang).hide(),b.drag_drop.drag_help.children("ul:eq(0)").append(h),b.drag_drop.drag_help.find("li:eq(0)").removeClass("last").addClass("last"),b.drag_drop.isdown=!0,b.drag_drop.foreign=!1,b.drag_drop.origin_tree=c,e.addClass("dragged"),b.drag_drop.dragged=c.container.find("li.dragged")}b.drag_drop.init_x=d.pageX,b.drag_drop.init_y=d.pageY,e.blur(),d.preventDefault(),d.stopPropagation();return!1})},focus:function(){if(this.locked)return!1;b.focused!=this.cntr&&(b.focused=this.cntr,this.callback("onfocus",[this]))},off_height:function(){if(this.offset===!1){this.container.css({position:"relative"}),this.offset=this.container.offset();var b=0;b=parseInt(a.curCSS(this.container.get(0),"paddingTop",!0),10),b&&(this.offset.top+=b),b=parseInt(a.curCSS(this.container.get(0),"borderTopWidth",!0),10),b&&(this.offset.top+=b),this.container.css({position:""})}if(!this.li_height){var b=this.container.find("ul li.closed, ul li.leaf").eq(0);this.li_height=b.height(),b.children("ul:eq(0)").size()&&(this.li_height-=b.children("ul:eq(0)").height()),this.li_height||(this.li_height=18)}},scroll_check:function(a,c){var d=this,e=d.container,f=d.container.offset(),g=e.scrollTop(),h=e.scrollLeft(),i=e.get(0).scrollWidth>e.width()?40:20;c-f.top<20&&e.scrollTop(Math.max(g-d.settings.ui.scroll_spd,0)),e.height()-(c-f.top)<i&&e.scrollTop(g+d.settings.ui.scroll_spd),a-f.left<20&&e.scrollLeft(Math.max(h-d.settings.ui.scroll_spd,0)),e.width()-(a-f.left)<40&&e.scrollLeft(h+d.settings.ui.scroll_spd);if(e.scrollLeft()!=h||e.scrollTop()!=g)b.drag_drop.move_type=!1,b.drag_drop.ref_node=!1,b.drag_drop.marker.hide();b.drag_drop.scroll_time=setTimeout(function(){d.scroll_check(a,c)},50)},scroll_into_view:function(a){a=a?this.get_node(a):this.selected;if(!a)return!1;var b=a.offset().top,c=this.container.offset().top,d=c+this.container.height(),e=this.container.get(0).scrollWidth>this.container.width()?40:20;b+5<c&&this.container.scrollTop(this.container.scrollTop()-(c-b+5)),b+e>d&&this.container.scrollTop(this.container.scrollTop()+(b+e-d))},get_node:function(b){return a(b).closest("li")},get_type:function(a){a=a?this.get_node(a):this.selected;if(!!a){var b=a.attr(this.settings.rules.type_attr);return b||"default"}},set_type:function(a,b){b=b?this.get_node(b):this.selected;!!b&&!!a&&b.attr(this.settings.rules.type_attr,a)},get_text:function(a,b){a=this.get_node(a);if(!a||a.size()==0)return"";this.settings.languages&&this.settings.languages.length?(b=b?b:this.current_lang,a=a.children("a."+b)):a=a.children("a:visible");var c="";a.contents().each(function(){if(this.nodeType==3){c=this.data;return!1}});return c},check:function(a,b){if(this.locked)return!1;var c=!1;if(b===-1)typeof this.settings.rules[a]!="undefined"&&(c=this.settings.rules[a]);else{b=b?this.get_node(b):this.selected;if(!b)return;var d=this.get_type(b);typeof this.settings.types[d]!="undefined"&&typeof this.settings.types[d][a]!="undefined"?c=this.settings.types[d][a]:typeof this.settings.types["default"]!="undefined"&&typeof this.settings.types["default"][a]!="undefined"&&(c=this.settings.types["default"][a])}typeof c=="function"&&(c=c.call(null,b,this)),c=this.callback("check",[a,b,c,this]);return c},check_move:function(c,d,e){if(this.locked)return!1;if(a(d).closest("li.dragged").size())return!1;var f=c.parents(".tree:eq(0)").get(0),g=d.parents(".tree:eq(0)").get(0);if(f&&f!=g){var h=a.tree.reference(g.id).settings.rules.multitree;if(h=="none"||a.isArray(h)&&a.inArray(f.id,h)==-1)return!1}var i=e!="inside"?this.parent(d):this.get_node(d);c=this.get_node(c);if(i==!1)return!1;var j={max_depth:this.settings.rules.use_max_depth?this.check("max_depth",i):-1,max_children:this.settings.rules.use_max_children?this.check("max_children",i):-1,valid_children:this.check("valid_children",i)},k=typeof c=="string"?c:this.get_type(c);if(typeof j.valid_children!="undefined"&&(j.valid_children=="none"||typeof j.valid_children=="object"&&a.inArray(k,a.makeArray(j.valid_children))==-1))return!1;if(this.settings.rules.use_max_children&&typeof j.max_children!="undefined"&&j.max_children!=-1){if(j.max_children==0)return!1;var l=1;b.drag_drop.moving==!0&&b.drag_drop.foreign==!1&&(l=b.drag_drop.dragged.size(),l=l-i.find("> ul > li.dragged").size());if(j.max_children<i.find("> ul > li").size()+l)return!1}if(this.settings.rules.use_max_depth){if(typeof j.max_depth!="undefined"&&j.max_depth===0)return this.error("MOVE: MAX-DEPTH REACHED");var m=j.max_depth>0?j.max_depth:!1,n=0,o=i;while(o!==-1){o=this.parent(o),n++;var h=this.check("max_depth",o);h>=0&&(m=m===!1?h-n:Math.min(m,h-n));if(m!==!1&&m<=0)return this.error("MOVE: MAX-DEPTH REACHED")}if(m!==!1&&m<=0)return this.error("MOVE: MAX-DEPTH REACHED");if(m!==!1){var p=1;if(typeof c!="string"){var o=c;while(o.size()>0){if(m-p<0)return this.error("MOVE: MAX-DEPTH REACHED");o=o.children("ul").children("li"),p++}}}}if(this.callback("check_move",[c,d,e,this])==!1)return!1;return!0},hover_branch:function(a){if(this.locked)return this.error("LOCKED");var b=this,a=b.get_node(a);if(!a.size())return this.error("HOVER: NOT A VALID NODE");if(!b.check("clickable",a))return this.error("SELECT: NODE NOT SELECTABLE");this.hovered&&this.hovered.children("A").removeClass("hover"),this.hovered=a,this.hovered.children("a").addClass("hover"),this.scroll_into_view(this.hovered)},select_branch:function(a,b){if(this.locked)return this.error("LOCKED");!a&&this.hovered!==!1&&(a=this.hovered);var c=this;a=c.get_node(a);if(!a.size())return this.error("SELECT: NOT A VALID NODE");a.children("a").removeClass("hover");if(!c.check("clickable",a))return this.error("SELECT: NODE NOT SELECTABLE");if(c.callback("beforechange",[a.get(0),c])===!1)return this.error("SELECT: STOPPED BY USER");if(this.settings.rules.multiple!=!1&&b&&a.children("a.clicked").size()>0)return this.deselect_branch(a);this.settings.rules.multiple!=!1&&b&&this.selected_arr.push(a);if(this.settings.rules.multiple!=!1&&!b){for(var d in this.selected_arr){if(!this.selected_arr.hasOwnProperty(d))continue;this.selected_arr[d].children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected_arr[d].get(0),c])}this.selected_arr=[],this.selected_arr.push(a),this.selected&&this.selected.children("A").hasClass("clicked")&&(this.selected.children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected.get(0),c]))}this.settings.rules.multiple||this.selected&&(this.selected.children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected.get(0),c])),this.selected=a,this.hovered!==!1&&(this.hovered.children("A").removeClass("hover"),this.hovered=a),this.selected.children("a").addClass("clicked").end().parents("li.closed").each(function(){c.open_branch(this,!0)}),this.scroll_into_view(this.selected),this.callback("onselect",[this.selected.get(0),c]),this.callback("onchange",[this.selected.get(0),c])},deselect_branch:function(b){if(this.locked)return this.error("LOCKED");var c=this,b=this.get_node(b);if(b.children("a.clicked").size()==0)return this.error("DESELECT: NODE NOT SELECTED");b.children("a").removeClass("clicked"),this.callback("ondeselect",[b.get(0),c]),this.settings.rules.multiple!=!1&&this.selected_arr.length>1?(this.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){c.selected_arr.push(a(this))}),b.get(0)==this.selected.get(0)&&(this.selected=this.selected_arr[0])):(this.settings.rules.multiple!=!1&&(this.selected_arr=[]),this.selected=!1),this.callback("onchange",[b.get(0),c])},toggle_branch:function(a){if(this.locked)return this.error("LOCKED");var a=this.get_node(a);if(a.hasClass("closed"))return this.open_branch(a);if(a.hasClass("open"))return this.close_branch(a)},open_branch:function(b,c,d){var e=this;if(this.locked)return this.error("LOCKED");var b=this.get_node(b);if(!b.size())return this.error("OPEN: NO SUCH NODE");if(b.hasClass("leaf"))return this.error("OPEN: OPENING LEAF NODE");if(this.settings.data.async&&b.find("li").size()==0){if(this.callback("beforeopen",[b.get(0),this])===!1)return this.error("OPEN: STOPPED BY USER");b.children("ul:eq(0)").remove().end().append("<ul><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>"+(e.settings.lang.loading||"Loading ...")+"</a></li></ul>"),b.removeClass("closed").addClass("open");var f=new a.tree.datastores[this.settings.data.type];f.load(this.callback("beforedata",[b,this]),this,this.settings.data.opts,function(c){c=e.callback("ondata",[c,e]),!c||c.length==0?(b.removeClass("closed").removeClass("open").addClass("leaf").children("ul").remove(),d&&d.call()):f.parse(c,e,e.settings.data.opts,function(c){c=e.callback("onparse",[c,e]),b.children("ul:eq(0)").replaceWith(a("<ul>").html(c)),b.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),b.find("li").not(".open").not(".closed").addClass("leaf"),e.open_branch.apply(e,[b]),d&&d.call()})});return!0}if(!this.settings.data.async&&this.callback("beforeopen",[b.get(0),this])===!1)return this.error("OPEN: STOPPED BY USER");parseInt(this.settings.ui.animation)>0&&!c?(b.children("ul:eq(0)").css("display","none"),b.removeClass("closed").addClass("open"),b.children("ul:eq(0)").slideDown(parseInt(this.settings.ui.animation),function(){a(this).css("display",""),d&&d.call()})):(b.removeClass("closed").addClass("open"),d&&d.call()),this.callback("onopen",[b.get(0),this]);return!0},close_branch:function(b,c){if(this.locked)return this.error("LOCKED");var d=this,b=this.get_node(b);if(!b.size())return this.error("CLOSE: NO SUCH NODE");if(d.callback("beforeclose",[b.get(0),d])===!1)return this.error("CLOSE: STOPPED BY USER");parseInt(this.settings.ui.animation)>0&&!c&&b.children("ul:eq(0)").size()==1?b.children("ul:eq(0)").slideUp(parseInt(this.settings.ui.animation),function(){b.hasClass("open")&&b.removeClass("open").addClass("closed"),a(this).css("display","")}):b.hasClass("open")&&b.removeClass("open").addClass("closed"),this.selected&&this.settings.ui.selected_parent_close!==!1&&b.children("ul:eq(0)").find("a.clicked").size()>0&&(b.find("li:has(a.clicked)").each(function(){d.deselect_branch(this)}),this.settings.ui.selected_parent_close=="select_parent"&&b.children("a.clicked").size()==0&&this.select_branch(b,this.settings.rules.multiple!=!1&&this.selected_arr.length>0)),this.callback("onclose",[b.get(0),this])},open_all:function(a,b){if(this.locked)return this.error("LOCKED");var c=this;a=a?this.get_node(a):this.container;var d=a.find("li.closed").size();b?this.cl_count--:this.cl_count=0,d>0?(this.cl_count+=d,a.find("li.closed").each(function(){var a=this;c.open_branch.apply(c,[this,!0,function(){c.open_all.apply(c,[a,!0])}])})):this.cl_count==0&&this.callback("onopen_all",[this])},close_all:function(a){if(this.locked)return this.error("LOCKED");var b=this;a=a?this.get_node(a):this.container,a.find("li.open").each(function(){b.close_branch(this,!0)}),this.callback("onclose_all",[this])},set_lang:function(c){if(!a.isArray(this.settings.languages)||this.settings.languages.length==0)return!1;if(this.locked)return this.error("LOCKED");!a.inArray(c,this.settings.languages)&&typeof this.settings.languages[c]!="undefined"&&(c=this.settings.languages[c]);if(typeof c=="undefined")return!1;if(c==this.current_lang)return!0;var d=!1,e="#"+this.container.attr("id");d=b.get_css(e+" ."+this.current_lang),d!==!1&&(d.style.display="none"),d=b.get_css(e+" ."+c),d!==!1&&(d.style.display=""),this.current_lang=c;return!0},get_lang:function(){if(!a.isArray(this.settings.languages)||this.settings.languages.length==0)return!1;return this.current_lang},create:function(b,c,d){if(this.locked)return this.error("LOCKED");var e=!1;c==-1?(e=!0,c=this.container):c=c?this.get_node(c):this.selected;if(!e&&(!c||!c.size()))return this.error("CREATE: NO NODE SELECTED");var f=d,g=c;d=="before"&&(d=c.parent().children().index(c),c=c.parents("li:eq(0)")),d=="after"&&(d=c.parent().children().index(c)+1,c=c.parents("li:eq(0)")),!e&&c.size()==0&&(e=!0,c=this.container);if(!e){if(!this.check("creatable",c))return this.error("CREATE: CANNOT CREATE IN NODE");if(c.hasClass("closed")){if(this.settings.data.async&&c.children("ul").size()==0){var h=this;return this.open_branch(c,!0,function(){h.create.apply(h,[b,c,d])})}this.open_branch(c,!0)}}var i=!1;b?b=a.extend(!0,{},b):b={},b.attributes||(b.attributes={}),b.attributes[this.settings.rules.type_attr]||(b.attributes[this.settings.rules.type_attr]=this.get_type(g)||"default");if(this.settings.languages.length){b.data||(b.data={},i=!0);for(var j=0;j<this.settings.languages.length;j++)b.data[this.settings.languages[j]]||(b.data[this.settings.languages[j]]=(typeof this.settings.lang.new_node).toLowerCase()!="string"&&this.settings.lang.new_node[j]?this.settings.lang.new_node[j]:this.settings.lang.new_node)}else b.data||(b.data=this.settings.lang.new_node,i=!0);b=this.callback("ondata",[b,this]);var k=a.tree.datastores.json().parse(b,this);k=this.callback("onparse",[k,this]);var l=a(k);l.children("ul").size()?l.is(".open")||l.addClass("closed"):l.addClass("leaf"),l.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),l.find("li").not(".open").not(".closed").addClass("leaf");var m={max_depth:this.settings.rules.use_max_depth?this.check("max_depth",e?-1:c):-1,max_children:this.settings.rules.use_max_children?this.check("max_children",e?-1:c):-1,valid_children:this.check("valid_children",e?-1:c)},n=this.get_type(l);if(typeof m.valid_children!="undefined"&&(m.valid_children=="none"||a.isArray(m.valid_children)&&a.inArray(n,m.valid_children)==-1))return this.error("CREATE: NODE NOT A VALID CHILD");if(this.settings.rules.use_max_children&&typeof m.max_children!="undefined"&&m.max_children!=-1&&m.max_children>=this.children(c).size())return this.error("CREATE: MAX_CHILDREN REACHED");if(this.settings.rules.use_max_depth){if(typeof m.max_depth!="undefined"&&m.max_depth===0)return this.error("CREATE: MAX-DEPTH REACHED");var o=m.max_depth>0?m.max_depth:!1,j=0,p=c;while(p!==-1&&!e){p=this.parent(p),j++;var q=this.check("max_depth",p);q>=0&&(o=o===!1?q-j:Math.min(o,q-j));if(o!==!1&&o<=0)return this.error("CREATE: MAX-DEPTH REACHED")}if(o!==!1&&o<=0)return this.error("CREATE: MAX-DEPTH REACHED");if(o!==!1){var r=1,p=l;while(p.size()>0){if(o-r<0)return this.error("CREATE: MAX-DEPTH REACHED");p=p.children("ul").children("li"),r++}}}if((typeof d).toLowerCase()=="undefined"||d=="inside")d=this.settings.rules.createat=="top"?0:c.children("ul:eq(0)").children("li").size();if(c.children("ul").size()==0||e==!0&&c.children("ul").children("li").size()==0)if(!e)var s=this.moved(l,c.children("a:eq(0)"),"inside",!0);else var s=this.moved(l,this.container.children("ul:eq(0)"),"inside",!0);else if(f=="before"&&c.children("ul:eq(0)").children("li:nth-child("+(d+1)+")").size())var s=this.moved(l,c.children("ul:eq(0)").children("li:nth-child("+(d+1)+")").children("a:eq(0)"),"before",!0);else if(f=="after"&&c.children("ul:eq(0)").children("li:nth-child("+d+")").size())var s=this.moved(l,c.children("ul:eq(0)").children("li:nth-child("+d+")").children("a:eq(0)"),"after",!0);else if(c.children("ul:eq(0)").children("li:nth-child("+(d+1)+")").size())var s=this.moved(l,c.children("ul:eq(0)").children("li:nth-child("+(d+1)+")").children("a:eq(0)"),"before",!0);else var s=this.moved(l,c.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after",!0);if(s===!1)return this.error("CREATE: ABORTED");i&&(this.select_branch(l.children("a:eq(0)")),this.rename());return l},rename:function(b,c){if(this.locked)return this.error("LOCKED");b=b?this.get_node(b):this.selected;var d=this;if(!b||!b.size())return this.error("RENAME: NO NODE SELECTED");if(!this.check("renameable",b))return this.error("RENAME: NODE NOT RENAMABLE");if(!this.callback("beforerename",[b.get(0),d.current_lang,d]))return this.error("RENAME: STOPPED BY USER");b.parents("li.closed").each(function(){d.open_branch(this)}),this.current_lang?b=b.find("a."+this.current_lang):b=b.find("a:first");var e={};e[this.container.attr("id")]=this.get_rollback();var f=b.children("ins").clone();if((typeof c).toLowerCase()=="string")b.text(c).prepend(f),d.callback("onrename",[d.get_node(b).get(0),d,e]);else{var g="";b.contents().each(function(){if(this.nodeType==3){g=this.data;return!1}}),d.inp=a("<input type='text' autocomplete='off' />"),d.inp.val(g.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")).bind("mousedown",function(a){a.stopPropagation()}).bind("mouseup",function(a){a.stopPropagation()}).bind("click",function(a){a.stopPropagation()}).bind("keyup",function(a){var b=a.keyCode||a.which;if(b==27)this.value=g,this.blur();else if(b==13){this.blur();return}}),d.inp.blur(function(a){this.value==""&&(this.value=g),b.text(this.value).prepend(f),b.get(0).style.display="",b.prevAll("span").remove(),d.inp=!1,d.callback("onrename",[d.get_node(b).get(0),d,e])});var h=a("<span />").addClass(b.attr("class")).append(f).append(d.inp);b.get(0).style.display="none",b.parent().prepend(h),d.inp.get(0).focus(),d.inp.get(0).select()}},remove:function(b){if(this.locked)return this.error("LOCKED");var c=this,d={};d[this.container.attr("id")]=this.get_rollback();if(b&&(!this.selected||this.get_node(b).get(0)!=this.selected.get(0))){b=this.get_node(b);if(b.size()){if(!this.check("deletable",b))return this.error("DELETE: NODE NOT DELETABLE");if(!this.callback("beforedelete",[b.get(0),c]))return this.error("DELETE: STOPPED BY USER");$parent=b.parent();if(b.find("a.clicked").size()){var e=!1;c.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){!e&&this==c.selected.get(0)&&(e=!0);if(a(this).parents().index(b)!=-1)return!0;c.selected_arr.push(a(this))}),e&&(this.selected=this.selected_arr[0]||!1)}b=b.remove(),$parent.children("li:last").addClass("last"),$parent.children("li").size()==0&&($li=$parent.parents("li:eq(0)"),$li.removeClass("open").removeClass("closed").addClass("leaf").children("ul").remove()),this.callback("ondelete",[b.get(0),this,d])}}else{if(!this.selected)return this.error("DELETE: NO NODE SELECTED");if(!this.check("deletable",this.selected))return this.error("DELETE: NODE NOT DELETABLE");if(!this.callback("beforedelete",[this.selected.get(0),c]))return this.error("DELETE: STOPPED BY USER");$parent=this.selected.parent();var b=this.selected;if(this.settings.rules.multiple==!1||this.selected_arr.length==1)var f=!0,g=this.settings.ui.selected_delete=="select_previous"?this.prev(this.selected):!1;b=b.remove(),$parent.children("li:last").addClass("last"),$parent.children("li").size()==0&&($li=$parent.parents("li:eq(0)"),$li.removeClass("open").removeClass("closed").addClass("leaf").children("ul").remove());if(!f&&this.settings.rules.multiple!=!1){var c=this;this.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){c.selected_arr.push(a(this))}),this.selected_arr.length>0&&(this.selected=this.selected_arr[0],this.remove())}f&&g&&this.select_branch(g),this.callback("ondelete",[b.get(0),this,d])}},next:function(a,b){a=this.get_node(a);if(!a.size())return!1;if(b)return a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):!1;return a.hasClass("open")?a.find("li:eq(0)"):a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):a.parents("li").next("li").eq(0)},prev:function(a,b){a=this.get_node(a);if(!a.size())return!1;if(b)return a.prevAll("li").size()>0?a.prevAll("li:eq(0)"):!1;if(a.prev("li").size()){var a=a.prev("li").eq(0);while(a.hasClass("open"))a=a.children("ul:eq(0)").children("li:last");return a}return a.parents("li:eq(0)").size()?a.parents("li:eq(0)"):!1},parent:function(a){a=this.get_node(a);if(!a.size())return!1;return a.parents("li:eq(0)").size()?a.parents("li:eq(0)"):-1},children:function(a){if(a===-1)return this.container.children("ul:eq(0)").children("li");a=this.get_node(a);if(!a.size())return!1;return a.children("ul:eq(0)").children("li")},toggle_dots:function(){this.settings.ui.dots?(this.settings.ui.dots=!1,this.container.children("ul:eq(0)").addClass("no_dots")):(this.settings.ui.dots=!0,this.container.children("ul:eq(0)").removeClass("no_dots"))},callback:function(b,c){var d=!1,e=null;for(var f in this.settings.plugins){if(typeof a.tree.plugins[f]!="object")continue;d=a.tree.plugins[f],d.callbacks&&typeof d.callbacks[b]=="function"&&(e=d.callbacks[b].apply(this,c));if(typeof e!="undefined"&&e!==null)if(b=="ondata"||b=="onparse")c[0]=e;else return e}d=this.settings.callback[b];if(typeof d=="function")return d.apply(null,c)},get_rollback:function(){var a={};a.html=this.container.html(),a.selected=this.selected?this.selected.attr("id"):!1;return a},moved:function(c,d,e,f,g,h){var c=a(c),i=a(c).parents("ul:eq(0)"),j=a(d);j.is("ins")&&(j=j.parent());if(!h){var h={};h[this.container.attr("id")]=this.get_rollback();if(!f){var k=c.size()>1?c.eq(0).parents(".tree:eq(0)"):c.parents(".tree:eq(0)");k.get(0)!=this.container.get(0)&&(k=b.inst[k.attr("id")],h[k.container.attr("id")]=k.get_rollback()),delete k}}if(e=="inside"&&this.settings.data.async){var l=this;if(this.get_node(j).hasClass("closed"))return this.open_branch(this.get_node(j),!0,function(){l.moved.apply(l,[c,d,e,f,g,h])});if(this.get_node(j).find("> ul > li > a.loading").size()==1){setTimeout(function(){l.moved.apply(l,[c,d,e,f,g])},200);return}}if(c.size()>1){var l=this,k=this.moved(c.eq(0),d,e,!1,g,h);c.each(function(a){a!=0&&k&&(k=l.moved(this,k.children("a:eq(0)"),"after",!1,g,h))});return c}g?(_what=c.clone(),_what.each(function(b){this.id=this.id+"_copy",a(this).find("li").each(function(){this.id=this.id+"_copy"}),a(this).removeClass("dragged").find("a.clicked").removeClass("clicked").end().find("li.dragged").removeClass("dragged")})):_what=c;if(f){if(!this.callback("beforecreate",[this.get_node(c).get(0),this.get_node(d).get(0),e,this]))return!1}else if(!this.callback("beforemove",[this.get_node(c).get(0),this.get_node(d).get(0),e,this]))return!1;if(!f){var k=c.parents(".tree:eq(0)");if(k.get(0)!=this.container.get(0)){k=b.inst[k.attr("id")];if(k.settings.languages.length){var m=[];if(this.settings.languages.length==0)m.push("."+k.current_lang);else for(var n in this.settings.languages){if(!this.settings.languages.hasOwnProperty(n))continue;for(var o in k.settings.languages){if(!k.settings.languages.hasOwnProperty(o))continue;this.settings.languages[n]==k.settings.languages[o]&&m.push("."+this.settings.languages[n])}}if(m.length==0)return this.error("MOVE: NO COMMON LANGUAGES");_what.find("a").not(m.join(",")).remove()}_what.find("a.clicked").removeClass("clicked")}}c=_what;switch(e){case"before":j.parents("ul:eq(0)").children("li.last").removeClass("last"),j.parent().before(c.removeClass("last")),j.parents("ul:eq(0)").children("li:last").addClass("last");break;case"after":j.parents("ul:eq(0)").children("li.last").removeClass("last"),j.parent().after(c.removeClass("last")),j.parents("ul:eq(0)").children("li:last").addClass("last");break;case"inside":if(j.parent().children("ul:first").size())if(this.settings.rules.createat=="top"){j.parent().children("ul:first").prepend(c.removeClass("last")).children("li:last").addClass("last");var p=j.parent().children("ul:first").children("li:first");p.size()&&(e="before",d=p)}else{var p=j.parent().children("ul:first").children(".last");p.size()&&(e="after",d=p),j.parent().children("ul:first").children(".last").removeClass("last").end().append(c.removeClass("last")).children("li:last").addClass("last")}else c.addClass("last"),j.parent().removeClass("leaf").append("<ul/>"),j.parent().hasClass("open")||j.parent().addClass("closed"),j.parent().children("ul:first").prepend(c);j.parent().hasClass("closed")&&this.open_branch(j);break;default:}if(i.find("li").size()==0){var q=i.parent();q.removeClass("open").removeClass("closed").addClass("leaf"),q.is(".tree")||q.children("ul").remove(),q.parents("ul:eq(0)").children("li.last").removeClass("last").end().children("li:last").addClass("last")}else i.children("li.last").removeClass("last"),i.children("li:last").addClass("last");g?this.callback("oncopy",[this.get_node(c).get(0),this.get_node(d).get(0),e,this,h]):f?this.callback("oncreate",[this.get_node(c).get(0),j.is("ul")?-1:this.get_node(d).get(0),e,this,h]):this.callback("onmove",[this.get_node(c).get(0),this.get_node(d).get(0),e,this,h]);return c},error:function(a){this.callback("error",[a,this]);return!1},lock:function(a){this.locked=a,this.locked?this.container.children("ul:eq(0)").addClass("locked"):this.container.children("ul:eq(0)").removeClass("locked")},cut:function(a){if(this.locked)return this.error("LOCKED");a=a?this.get_node(a):this.container.find("a.clicked").filter(":first-child").parent();if(!a||!a.size())return this.error("CUT: NO NODE SELECTED");b.cut_copy.copy_nodes=!1,b.cut_copy.cut_nodes=a},copy:function(a){if(this.locked)return this.error("LOCKED");a=a?this.get_node(a):this.container.find("a.clicked").filter(":first-child").parent();if(!a||!a.size())return this.error("COPY: NO NODE SELECTED");b.cut_copy.copy_nodes=a,b.cut_copy.cut_nodes=!1},paste:function(a,c){if(this.locked)return this.error("LOCKED");var d=!1;a==-1?(d=!0,a=this.container):a=a?this.get_node(a):this.selected;if(!d&&(!a||!a.size()))return this.error("PASTE: NO NODE SELECTED");if(!b.cut_copy.copy_nodes&&!b.cut_copy.cut_nodes)return this.error("PASTE: NOTHING TO DO");var e=this,f=c;if(c=="before")c=a.parent().children().index(a),a=a.parents("li:eq(0)");else if(c=="after")c=a.parent().children().index(a)+1,a=a.parents("li:eq(0)");else if((typeof c).toLowerCase()=="undefined"||c=="inside")c=this.settings.rules.createat=="top"?0:a.children("ul:eq(0)").children("li").size();!d&&a.size()==0&&(d=!0,a=this.container);if(b.cut_copy.copy_nodes&&b.cut_copy.copy_nodes.size()){var g=!0;if(!d&&!this.check_move(b.cut_copy.copy_nodes,a.children("a:eq(0)"),"inside"))return!1;if(a.children("ul").size()==0||d==!0&&a.children("ul").children("li").size()==0)if(!d)var h=this.moved(b.cut_copy.copy_nodes,a.children("a:eq(0)"),"inside",!1,!0);else var h=this.moved(b.cut_copy.copy_nodes,this.container.children("ul:eq(0)"),"inside",!1,!0);else if(f=="before"&&a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").size())var h=this.moved(b.cut_copy.copy_nodes,a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").children("a:eq(0)"),"before",!1,!0);else if(f=="after"&&a.children("ul:eq(0)").children("li:nth-child("+c+")").size())var h=this.moved(b.cut_copy.copy_nodes,a.children("ul:eq(0)").children("li:nth-child("+c+")").children("a:eq(0)"),"after",!1,!0);else if(a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").size())var h=this.moved(b.cut_copy.copy_nodes,a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").children("a:eq(0)"),"before",!1,!0);else var h=this.moved(b.cut_copy.copy_nodes,a.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after",!1,!0);b.cut_copy.copy_nodes=!1}if(b.cut_copy.cut_nodes&&b.cut_copy.cut_nodes.size()){var g=!0;a.parents().andSelf().each(function(){if(b.cut_copy.cut_nodes.index(this)!=-1){g=!1;return!1}});if(!g)return this.error("Invalid paste");if(!d&&!this.check_move(b.cut_copy.cut_nodes,a.children("a:eq(0)"),"inside"))return!1;if(a.children("ul").size()==0||d==!0&&a.children("ul").children("li").size()==0)if(!d)var h=this.moved(b.cut_copy.cut_nodes,a.children("a:eq(0)"),"inside");else var h=this.moved(b.cut_copy.cut_nodes,this.container.children("ul:eq(0)"),"inside");else if(f=="before"&&a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").size())var h=this.moved(b.cut_copy.cut_nodes,a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").children("a:eq(0)"),"before");else if(f=="after"&&a.children("ul:eq(0)").children("li:nth-child("+c+")").size())var h=this.moved(b.cut_copy.cut_nodes,a.children("ul:eq(0)").children("li:nth-child("+c+")").children("a:eq(0)"),"after");else if(a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").size())var h=this.moved(b.cut_copy.cut_nodes,a.children("ul:eq(0)").children("li:nth-child("+(c+1)+")").children("a:eq(0)"),"before");else var h=this.moved(b.cut_copy.cut_nodes,a.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after");b.cut_copy.cut_nodes=!1}},search:function(b,c){var d=this;if(!b||this.srch&&b!=this.srch)this.srch="",this.srch_opn=!1,this.container.find("a.search").removeClass("search");this.srch=b;if(!!b){c||(c="contains");if(this.settings.data.async)if(!this.srch_opn){var e=a.extend({search:b},this.callback("beforedata",[!1,this]));a.ajax({type:this.settings.data.opts.method,url:this.settings.data.opts.url,data:e,dataType:"text",success:function(e){d.srch_opn=a.unique(e.split(",")),d.search.apply(d,[b,c])}})}else if(this.srch_opn.length){if(this.srch_opn&&this.srch_opn.length){var f=!1;for(var g=0;g<this.srch_opn.length;g++)if(this.get_node("#"+this.srch_opn[g]).size()>0){f=!0;var h="#"+this.srch_opn[g];delete this.srch_opn[g],this.open_branch(h,!0,function(){d.search.apply(d,[b,c])})}f||(this.srch_opn=[],d.search.apply(d,[b,c]))}}else{this.srch_opn=!1;var i="a";this.settings.languages.length&&(i+="."+this.current_lang),this.callback("onsearch",[this.container.find(i+":"+c+"('"+b+"')"),this])}else{var i="a";this.settings.languages.length&&(i+="."+this.current_lang);var j=this.container.find(i+":"+c+"('"+b+"')");j.parents("li.closed").each(function(){d.open_branch(this,!0)}),this.callback("onsearch",[j,this])}}},add_sheet:b.add_sheet,destroy:function(){this.callback("ondestroy",[this]),this.container.unbind(".jstree"),a("#"+this.container.attr("id")).die("click.jstree").die("dblclick.jstree").die("mouseover.jstree").die("mouseout.jstree").die("mousedown.jstree"),this.container.removeClass("tree ui-widget ui-widget-content tree-default tree-"+this.settings.ui.theme_name).children("ul").removeClass("no_dots ltr locked").find("li").removeClass("leaf").removeClass("open").removeClass("closed").removeClass("last").children("a").removeClass("clicked hover search");if(this.cntr==b.focused)for(var c in b.inst)if(c!=this.cntr&&c!=this.container.attr("id")){b.inst[c].focus();break}b.inst[this.cntr]=!1,b.inst[this.container.attr("id")]=!1,delete b.inst[this.cntr],delete b.inst[this.container.attr("id")],b.cntr--}}}a.tree={datastores:{},plugins:{},defaults:{data:{async:!1,type:"html",opts:{method:"GET",url:!1}},selected:!1,opened:[],languages:[],ui:{dots:!0,animation:0,scroll_spd:4,theme_path:!1,theme_name:"default",selected_parent_close:"select_parent",selected_delete:"select_previous"},types:{"default":{clickable:!0,renameable:!0,deletable:!0,creatable:!0,draggable:!0,max_children:-1,max_depth:-1,valid_children:"all",icon:{image:!1,position:!1}}},rules:{multiple:!1,multitree:"none",type_attr:"rel",createat:"bottom",drag_copy:"ctrl",drag_button:"left",use_max_children:!0,use_max_depth:!0,max_children:-1,max_depth:-1,valid_children:"all"},lang:{new_node:"New folder",loading:"Loading ..."},callback:{beforechange:function(a,b){return!0},beforeopen:function(a,b){return!0},beforeclose:function(a,b){return!0},beforemove:function(a,b,c,d){return!0},beforecreate:function(a,b,c,d){return!0},beforerename:function(a,b,c){return!0},beforedelete:function(a,b){return!0},beforedata:function(b,c){return{id:a(b).attr("id")||0}},ondata:function(a,b){return a},onparse:function(a,b){return a},onhover:function(a,b){},onselect:function(a,b){},ondeselect:function(a,b){},onchange:function(a,b){},onrename:function(a,b,c){},onmove:function(a,b,c,d,e){},oncopy:function(a,b,c,d,e){},oncreate:function(a,b,c,d,e){},ondelete:function(a,b,c){},onopen:function(a,b){},onopen_all:function(a){},onclose_all:function(a){},onclose:function(a,b){},error:function(a,b){},ondblclk:function(a,b){b.toggle_branch.call(b,a),b.select_branch.call(b,a)},onrgtclk:function(a,b,c){},onload:function(a){},oninit:function(a){},onfocus:function(a){},ondestroy:function(a){},onsearch:function(a,b){a.addClass("search")},ondrop:function(a,b,c,d){},check:function(a,b,c,d){return c},check_move:function(a,b,c,d){return!0}},plugins:{}},create:function(){return new b},focused:function(){return b.inst[b.focused]},reference:function(c){var d=a(c);d.size()||(d=a("#"+c));if(!d.size())return null;d=d.is(".tree")?d.attr("id"):d.parents(".tree:eq(0)").attr("id");return b.inst[d]||null},rollback:function(c){for(var d in c){if(!c.hasOwnProperty(d))continue;var e=b.inst[d],f=!e.locked;f&&e.lock(!0),e.inp=!1,e.container.html(c[d].html).find(".dragged").removeClass("dragged").end().find(".hover").removeClass("hover"),c[d].selected&&(e.selected=a("#"+c[d].selected),e.selected_arr=[],e.container.find("a.clicked").each(function(){e.selected_arr.push(e.get_node(this))})),f&&e.lock(!1),delete f,delete e}},drop_mode:function(c){c=a.extend(c,{show:!1,type:"default",str:"Foreign node"}),b.drag_drop.foreign=!0,b.drag_drop.isdown=!0,b.drag_drop.moving=!0,b.drag_drop.appended=!1,b.drag_drop.f_type=c.type,b.drag_drop.f_data=c,c.show?(b.drag_drop.drag_help=a("<div id='jstree-dragged' class='tree tree-default'><ul><li class='last dragged foreign'><a href='#'><ins>&nbsp;</ins>"+c.str+"</a></li></ul></div>"),b.drag_drop.drag_node=b.drag_drop.drag_help.find("li:eq(0)")):(b.drag_drop.drag_help=!1,b.drag_drop.drag_node=!1),a.tree.drag_start!==!1&&a.tree.drag_start.call(null,!1)},drag_start:!1,drag:!1,drag_end:!1},a.fn.tree=function(c){return this.each(function(){var d=a.extend({},c);b.inst&&b.inst[a(this).attr("id")]&&b.inst[a(this).attr("id")].destroy(),d!==!1&&(new b).init(this,d)})},b.cntr=0,b.inst={},b.themes=[],b.drag_drop={isdown:!1,drag_node:!1,drag_help:!1,dragged:!1,init_x:!1,init_y:!1,moving:!1,origin_tree:!1,marker:!1,move_type:!1,ref_node:!1,appended:!1,foreign:!1,droppable:[],open_time:!1,scroll_time:!1},b.mouseup=function(c){var d=b.drag_drop;d.open_time&&clearTimeout(d.open_time),d.scroll_time&&clearTimeout(d.scroll_time),d.moving&&a.tree.drag_end!==!1&&a.tree.drag_end.call(null,c,d);if(d.foreign===!1&&d.drag_node&&d.drag_node.size()){d.drag_help.remove();if(d.move_type){var e=b.inst[d.ref_node.parents(".tree:eq(0)").attr("id")];e&&e.moved(d.dragged,d.ref_node,d.move_type,!1,d.origin_tree.settings.rules.drag_copy=="on"||d.origin_tree.settings.rules.drag_copy=="ctrl"&&c.ctrlKey)}d.move_type=!1,d.ref_node=!1}if(d.foreign!==!1){d.drag_help&&d.drag_help.remove();if(d.move_type){var e=b.inst[d.ref_node.parents(".tree:eq(0)").attr("id")];e&&e.callback("ondrop",[d.f_data,e.get_node(d.ref_node).get(0),d.move_type,e])}d.foreign=!1,d.move_type=!1,d.ref_node=!1}b.drag_drop.marker&&b.drag_drop.marker.hide(),d.dragged&&d.dragged.size()&&d.dragged.removeClass("dragged"),d.dragged=!1,d.drag_help=!1,d.drag_node=!1,d.f_type=!1,d.f_data=!1,d.init_x=!1,d.init_y=!1,d.moving=!1,d.appended=!1,d.origin_tree=!1;if(d.isdown){d.isdown=!1,c.preventDefault(),c.stopPropagation();return!1}},b.mousemove=function(c){var d=b.drag_drop,e=!1;if(d.isdown){if(!d.moving&&Math.abs(d.init_x-c.pageX)<5&&Math.abs(d.init_y-c.pageY)<5){c.preventDefault(),c.stopPropagation();return!1}d.moving||(b.drag_drop.moving=!0,e=!0),d.open_time&&clearTimeout(d.open_time),d.drag_help!==!1&&(d.appended||(d.foreign!==!1&&(d.origin_tree=a.tree.focused()),a("body").append(d.drag_help),d.w=d.drag_help.width(),d.appended=!0),d.drag_help.css({left:c.pageX+5,top:c.pageY+15})),e&&a.tree.drag_start!==!1&&a.tree.drag_start.call(null,c,d),a.tree.drag!==!1&&a.tree.drag.call(null,c,d);if(c.target.tagName=="DIV"&&c.target.id=="jstree-marker")return!1;var f=a(c.target);f.is("ins")&&(f=f.parent());var g=f.is(".tree")?f:f.parents(".tree:eq(0)");if(g.size()==0||!b.inst[g.attr("id")]){d.scroll_time&&clearTimeout(d.scroll_time),d.drag_help!==!1&&d.drag_help.find("li:eq(0) ins").addClass("forbidden"),d.move_type=!1,d.ref_node=!1,b.drag_drop.marker.hide();return!1}var h=b.inst[g.attr("id")];h.off_height(),d.scroll_time&&clearTimeout(d.scroll_time),d.scroll_time=setTimeout(function(){h.scroll_check(c.pageX,c.pageY)},50);var i=!1,j=g.scrollTop();if(c.target.tagName=="A"||c.target.tagName=="INS"){if(f.is("#jstree-dragged"))return!1;h.get_node(c.target).hasClass("closed")&&(d.open_time=setTimeout(function(){h.open_branch(f)},500));var k=f.offset(),l={x:k.left-1,y:c.pageY-k.top},m=[];l.y<h.li_height/3+1?m=["before","inside","after"]:l.y>h.li_height*2/3-1?m=["after","inside","before"]:l.y<h.li_height/2?m=["inside","before","after"]:m=["inside","after","before"];var n=!1,o=d.foreign==!1?d.origin_tree.container.find("li.dragged"):d.f_type;a.each(m,function(a,b){if(h.check_move(o,f,b)){i=b,n=!0;return!1}});if(n){switch(i){case"before":l.y=k.top-2,b.drag_drop.marker.attr("class","marker");break;case"after":l.y=k.top-2+h.li_height,b.drag_drop.marker.attr("class","marker");break;case"inside":l.x-=2,l.y=k.top-2+h.li_height/2,b.drag_drop.marker.attr("class","marker_plus")}d.move_type=i,d.ref_node=a(c.target),d.drag_help!==!1&&d.drag_help.find(".forbidden").removeClass("forbidden"),b.drag_drop.marker.css({left:l.x,top:l.y}).show()}}if((f.is(".tree")||f.is("ul"))&&f.find("li:eq(0)").size()==0){var k=f.offset();d.move_type="inside",d.ref_node=g.children("ul:eq(0)"),d.drag_help!==!1&&d.drag_help.find(".forbidden").removeClass("forbidden"),b.drag_drop.marker.attr("class","marker_plus"),b.drag_drop.marker.css({left:k.left+10,top:k.top+15}).show()}else if(c.target.tagName!="A"&&c.target.tagName!="INS"||!n)d.drag_help!==!1&&d.drag_help.find("li:eq(0) ins").addClass("forbidden"),d.move_type=!1,d.ref_node=!1,b.drag_drop.marker.hide();c.preventDefault(),c.stopPropagation();return!1}return!0},a(function(){a(document).bind("mousemove.jstree",b.mousemove),a(document).bind("mouseup.jstree",b.mouseup)}),b.cut_copy={copy_nodes:!1,cut_nodes:!1},b.css=!1,b.get_css=function(a,c){a=a.toLowerCase();var d=b.css.cssRules||b.css.rules,e=0;do{if(d.length&&e>d.length+5)return!1;if(d[e].selectorText&&d[e].selectorText.toLowerCase()==a){if(c==!0){b.css.removeRule&&document.styleSheets[i].removeRule(e),b.css.deleteRule&&document.styleSheets[i].deleteRule(e);return!0}return d[e]}}while(d[++e]);return!1},b.add_css=function(a){if(b.get_css(a))return!1;b.css.insertRule?b.css.insertRule(a+" { }",0):b.css.addRule(a,null,0);return b.get_css(a)},b.remove_css=function(a){return b.get_css(a,!0)},b.add_sheet=function(a){if(a.str){var b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=a.str:b.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(b);return b.sheet}if(a.url){if(!document.createStyleSheet){var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.media="all",d.href=a.url,document.getElementsByTagName("head")[0].appendChild(d);return d.styleSheet}try{document.createStyleSheet(a.url)}catch(c){}}},a(function(){var a=navigator.userAgent.toLowerCase(),c=(a.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],d='/* TREE LAYOUT */ .tree ul { margin:0 0 0 5px; padding:0 0 0 0; list-style-type:none; } .tree li { display:block; min-height:18px; line-height:18px; padding:0 0 0 15px; margin:0 0 0 0; /* Background fix */ clear:both; } .tree li ul { display:none; } .tree li a, .tree li span { display:inline-block;line-height:16px;height:16px;color:black;white-space:nowrap;text-decoration:none;padding:1px 4px 1px 4px;margin:0; } .tree li a:focus { outline: none; } .tree li a input, .tree li span input { margin:0;padding:0 0;display:inline-block;height:12px !important;border:1px solid white;background:white;font-size:10px;font-family:Verdana; } .tree li a input:not([class="xxx"]), .tree li span input:not([class="xxx"]) { padding:1px 0; } /* FOR DOTS */ .tree .ltr li.last { float:left; } .tree > ul li.last { overflow:visible; } /* OPEN OR CLOSE */ .tree li.open ul { display:block; } .tree li.closed ul { display:none !important; } /* FOR DRAGGING */ #jstree-dragged { position:absolute; top:-10px; left:-10px; margin:0; padding:0; } #jstree-dragged ul ul ul { display:none; } #jstree-marker { padding:0; margin:0; line-height:5px; font-size:1px; overflow:hidden; height:5px; position:absolute; left:-45px; top:-30px; z-index:1000; background-color:transparent; background-repeat:no-repeat; display:none; } #jstree-marker.marker { width:45px; background-position:-32px top; } #jstree-marker.marker_plus { width:5px; background-position:right top; } /* BACKGROUND DOTS */ .tree li li { overflow:hidden; } .tree > .ltr > li { display:table; } /* ICONS */ .tree ul ins { display:inline-block; text-decoration:none; width:16px; height:16px; } .tree .ltr ins { margin:0 4px 0 0px; } ';/msie/.test(a)&&!/opera/.test(a)&&(parseInt(c)==6&&(d+='.tree li { height:18px; zoom:1; } .tree li li { overflow:visible; } .tree .ltr li.last { margin-top: expression( (this.previousSibling && /open/.test(this.previousSibling.className) ) ? "-2px" : "0"); } .marker { width:45px; background-position:-32px top; } .marker_plus { width:5px; background-position:right top; }'),parseInt(c)==7&&(d+='.tree li li { overflow:visible; } .tree .ltr li.last { margin-top: expression( (this.previousSibling && /open/.test(this.previousSibling.className) ) ? "-2px" : "0"); }')),/opera/.test(a)&&(d+='.tree > ul > li.last:after { content:"."; display: block; height:1px; clear:both; visibility:hidden; }'),/mozilla/.test(a)&&!/(compatible|webkit)/.test(a)&&c.indexOf("1.8")==0&&(d+=".tree .ltr li a { display:inline; float:left; } .tree li ul { clear:both; }"),b.css=b.add_sheet({str:d})})}(jQuery),function(a){a.extend(a.tree.datastores,{html:function(){return{get:function(b,c,d){return b&&a(b).size()?a("<div>").append(c.get_node(b).clone()).html():c.container.children("ul:eq(0)").html()},parse:function(a,b,c,d){d&&d.call(null,a);return a},load:function(b,c,d,e){d.url?a.ajax({type:d.method,url:d.url,data:b,dataType:"html",success:function(a,b){e.call(null,a)},error:function(a,b,d){e.call(null,!1),c.error(d+" "+b)}}):e.call(null,d["static"]||c.container.children("ul:eq(0)").html())}}},json:function(){return{get:function(b,c,d){var e=this;!b||a(b).size()==0?b=c.container.children("ul").children("li"):b=a(b),d||(d={}),d.outer_attrib||(d.outer_attrib=["id","rel","class"]),d.inner_attrib||(d.inner_attrib=[]);if(b.size()>1){var f=[];b.each(function(){f.push(e.get(this,c,d))});return f}if(b.size()==0)return[];var g={attributes:{},data:{}};b.hasClass("open")&&(g.data.state="open"),b.hasClass("closed")&&(g.data.state="closed");for(var h in d.outer_attrib){if(!d.outer_attrib.hasOwnProperty(h))continue;var i=d.outer_attrib[h]=="class"?b.attr(d.outer_attrib[h]).replace(/(^| )last( |$)/ig," ").replace(/(^| )(leaf|closed|open)( |$)/ig," "):b.attr(d.outer_attrib[h]);typeof i!="undefined"&&i.toString().replace(" ","").length>0&&(g.attributes[d.outer_attrib[h]]=i),delete i}if(c.settings.languages.length)for(var h in c.settings.languages){if(!c.settings.languages.hasOwnProperty(h))continue;var j=b.children("a."+c.settings.languages[h]);if(d.force||d.inner_attrib.length||j.children("ins").get(0).style.backgroundImage.toString().length||j.children("ins").get(0).className.length){g.data[c.settings.languages[h]]={},g.data[c.settings.languages[h]].title=c.get_text(b,c.settings.languages[h]),j.children("ins").get(0).style.className.length&&(g.data[c.settings.languages[h]].icon=j.children("ins").get(0).style.className),j.children("ins").get(0).style.backgroundImage.length&&(g.data[c.settings.languages[h]].icon=j.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""));if(d.inner_attrib.length){g.data[c.settings.languages[h]].attributes={};for(var k in d.inner_attrib){if(!d.inner_attrib.hasOwnProperty(k))continue;var i=j.attr(d.inner_attrib[k]);typeof i!="undefined"&&i.toString().replace(" ","").length>0&&(g.data[c.settings.languages[h]].attributes[d.inner_attrib[k]]=i),delete i}}}else g.data[c.settings.languages[h]]=c.get_text(b,c.settings.languages[h])}else{var j=b.children("a");g.data.title=c.get_text(b),j.children("ins").size()&&j.children("ins").get(0).className.length&&(g.data.icon=j.children("ins").get(0).className),j.children("ins").size()&&j.children("ins").get(0).style.backgroundImage.length&&(g.data.icon=j.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""));if(d.inner_attrib.length){g.data.attributes={};for(var k in d.inner_attrib){if(!d.inner_attrib.hasOwnProperty(k))continue;var i=j.attr(d.inner_attrib[k]);typeof i!="undefined"&&i.toString().replace(" ","").length>0&&(g.data.attributes[d.inner_attrib[k]]=i),delete i}}}b.children("ul").size()>0&&(g.children=[],b.children("ul").children("li").each(function(){g.children.push(e.get(this,c,d))}));return g},parse:function(a,b,c,d){if(Object.prototype.toString.apply(a)==="[object Array]"){var e="";for(var f=0;f<a.length;f++){if(typeof a[f]=="function")continue;e+=this.parse(a[f],b,c)}d&&d.call(null,e);return e}if(!a||!a.data){d&&d.call(null,!1);return""}var e="";e+="<li ";var g=!1;if(a.attributes)for(var f in a.attributes){if(!a.attributes.hasOwnProperty(f))continue;if(f=="class"){e+=" class='"+a.attributes[f]+" ";if(a.state=="closed"||a.state=="open")e+=" "+a.state+" ";e+="' ",g=!0}else e+=" "+f+"='"+a.attributes[f]+"' "}!g&&(a.state=="closed"||a.state=="open")&&(e+=" class='"+a.state+"' "),e+=">";if(b.settings.languages.length)for(var f=0;f<b.settings.languages.length;f++){var h={};h.href="",h.style="",h["class"]=b.settings.languages[f];if(a.data[b.settings.languages[f]]&&(typeof a.data[b.settings.languages[f]].attributes).toLowerCase()!="undefined")for(var i in a.data[b.settings.languages[f]].attributes){if(!a.data[b.settings.languages[f]].attributes.hasOwnProperty(i))continue;i=="style"||i=="class"?h[i]+=" "+a.data[b.settings.languages[f]].attributes[i]:h[i]=a.data[b.settings.languages[f]].attributes[i]}e+="<a";for(var i in h){if(!h.hasOwnProperty(i))continue;e+=" "+i+'="'+h[i]+'" '}e+=">",a.data[b.settings.languages[f]]&&a.data[b.settings.languages[f]].icon?e+="<ins "+(a.data[b.settings.languages[f]].icon.indexOf("/")==-1?" class='"+a.data[b.settings.languages[f]].icon+"' ":" style='background-image:url(\""+a.data[b.settings.languages[f]].icon+"\");' ")+">&nbsp;</ins>":e+="<ins>&nbsp;</ins>",e+=((typeof a.data[b.settings.languages[f]].title).toLowerCase()!="undefined"?a.data[b.settings.languages[f]].title:a.data[b.settings.languages[f]])+"</a>"}else{var h={};h.href="",h.style="",h["class"]="";if((typeof a.data.attributes).toLowerCase()!="undefined")for(var f in a.data.attributes){if(!a.data.attributes.hasOwnProperty(f))continue;f=="style"||f=="class"?h[f]+=" "+a.data.attributes[f]:h[f]=a.data.attributes[f]}e+="<a";for(var f in h){if(!h.hasOwnProperty(f))continue;e+=" "+f+'="'+h[f]+'" '}e+=">",a.data.icon?e+="<ins "+(a.data.icon.indexOf("/")==-1?" class='"+a.data.icon+"' ":" style='background-image:url(\""+a.data.icon+"\");' ")+">&nbsp;</ins>":e+="<ins>&nbsp;</ins>",e+=((typeof a.data.title).toLowerCase()!="undefined"?a.data.title:a.data)+"</a>"}if(a.children&&a.children.length){e+="<ul>";for(var f=0;f<a.children.length;f++)e+=this.parse(a.children[f],b,c);e+="</ul>"}e+="</li>",d&&d.call(null,e);return e},load:function(b,c,d,e){d["static"]?e.call(null,d["static"]):a.ajax({type:d.method,url:d.url,data:b,dataType:"json",success:function(a,b){e.call(null,a)},error:function(a,b,d){e.call(null,!1),c.error(d+" "+b)}})}}}}),a.tree.defaults.callback.ondestroy=function(a){var b=a.container.attr("id");jQuery("#"+b+" li").die("click"),jQuery("#"+b+" li a").die("click.jstree").die("dblclick.jstree").die("contextmenu.jstree").die("mouseover.jstree").die("mousedown.jstree")}}(jQuery),function(a){a.tableTree=function(b,c){var d=this;this.tree=b,this.options=a.extend(this.defaults,c||{}),this.expandAllButton=a(this.options.expandAllButton),this.collapseAllButton=a(this.options.collapseAllButton),d.log("initialized"),this.bindDrilldownArrows(),this.bindBranchNodeEvents(),this.bindToggleAllButtons(),this.tree.find("tr.node.depth_0").trigger("nodeExpand");return d},a.extend(a.tableTree.prototype,a.rpm.component({component:"jQuery.tableTree",defaults:{segmentBreakEnabled:a.browser.mozilla||a.browser.msie,segmentBreakLimit:200,expandAllButton:"#tree_expand_all",collapseAllButton:"#tree_collapse_all"},bindDrilldownArrows:function(){var b=this;this.tree.find("tr.branch a.node_toggler").live("click",function(c){var d=a(this),e=d.parent().parent();b.toggleNode(e,d),c.preventDefault()}),b.log("bound drilldown arrows")},makeBreakRow:function(b,c,d){var e=this,f=a('<tr class="'+b.attr("class")+" break_row break_"+c+'"><td>&nbsp;</td><td class="label"><a href="#">Show '+d+' more&hellip;</a></td><td colspan="3">&nbsp;</td></tr>').removeClass("hidden");f.find("a").live("click",function(a){e.expandBreak(f),a.preventDefault()});return f},expandBreak:function(b){var c=this,d=parseInt(b.attr("class").match(/break_([0-9]+)/i)[1],10),e=b.attr("class").match(/parent_(segment_row_[0-9_]+)/i)[1],f=a("#"+e);b.remove();var g=c.nodeChildren(f),h=c.calculatePagination(g,d);h.each(function(){this.className=this.className.replace("hidden","")}).filter("tr.branch").trigger("nodeVisible")},calculatePagination:function(a,b){var c=this,d=c.options.segmentBreakLimit;if(c.options.segmentBreakEnabled){var e=(b-1)*d,f=nextStart=b*d,g=(b+1)*d;if(a.length-f>d)var h=a.slice(nextStart,g),i=a.eq(g),j=c.makeBreakRow(i,b+1,a.length-g).insertBefore(i),k=h.add(j);else var k=a.slice(nextStart)}else var k=a;return k},bindBranchNodeEvents:function(){var b=this;a("tr.branch",this.tree).live("nodeVisible",function(c){var d=a(c.target);if(d.hasClass("expanded")){b.log("expanding node:",d);var e=b.nodeChildren(d),f=b.calculatePagination(e,0);f.removeClass("hidden").filter("tr.branch").trigger("nodeVisible")}}).live("nodeHidden",function(c){var d=a(c.target);d.hasClass("expanded")&&d.hasClass("branch")&&(b.log("collapsing node:",d),b.nodeChildren(d).addClass("hidden").filter("tr.branch").trigger("nodeHidden"))}).live("nodeExpand",function(c){var d=a(c.target);b.toggleDrilldownArrow(d),d.addClass("expanded"),d.trigger("nodeVisible")}).live("nodeCollapse",function(c){var d=a(c.target);b.toggleDrilldownArrow(d),d.trigger("nodeHidden"),d.removeClass("expanded"),b.options.segmentBreakEnabled&&b.nodeChildren(d).filter(".break_row").remove()}),b.log("bound branch node events")},bindToggleAllButtons:function(){var b=this;this.expandAllButton.click(function(c){b.tree.find("tr.branch:not(.rollup)").addClass("expanded").find(" > td.label > a.node_toggler").each(function(){b.expandDrilldownArrow(a(this))}).end().filter(".depth_1").trigger("nodeVisible"),c.preventDefault()}),this.collapseAllButton.click(function(c){b.tree.find("tr.branch:not(.rollup)").find(" > td.label > a.node_toggler").each(function(){b.collapseDrilldownArrow(a(this))}).end().filter(".depth_1").trigger("nodeHidden").end().removeClass("expanded"),c.preventDefault()}),b.log("bound expand/collapse button events")},toggleDrilldownArrow:function(a){a.is(".node")&&(a=a.find("td.label > a.node_toggler")),a.length!==0&&(a.hasClass("expanded")?this.collapseDrilldownArrow(a):this.expandDrilldownArrow(a))},collapseDrilldownArrow:function(a){a.addClass("toggle_closed").removeClass("toggle_open").removeClass("expanded")},expandDrilldownArrow:function(a){a.addClass("toggle_open").removeClass("toggle_closed").addClass("expanded")},toggleNode:function(a,b){a.hasClass("expanded")?this.collapseNode(a,b):this.expandNode(a,b)},collapseNode:function(a,b){a.trigger("nodeCollapse")},expandNode:function(a,b){a.trigger("nodeExpand")},nodeDepth:function(a){return parseInt(a.attr("class").match(/depth_([0-9]+)/)[1],10)},nodeChildren:function(b){var c=this,d=c.nodeDepth(b),e=d+1;return a(b).attr("data-parent")?a("tr.node.depth_"+e+"[data-parent="+b.attr("id")+"]",this.tree):a("tr.node.depth_"+e+".parent_"+b.attr("id"),this.tree)},nullFunction:function(){},nodeChildrenIterator:function(b,c){a.isFunction(c)&&(c={func:c});var d=this,e=a.isFunction(c.before)?c.before:this.nullFunction,f=a.isFunction(c.func)?c.func:this.nullFunction;e(b),this.nodeChildren(b).each(f)}})),a.fn.tableTree=function(b){var c=a(this),d=new a.tableTree(c,b);d&&c.data("tableTree",d);return c}}(jQuery),function(a){a.fn.metricselector=function(c,d,e){a(this).data("metricselector",new b(this,c,d,e));return this};var b=function(b,c,d,e){var f=this;this.obj=a(b),this.source=a(c),this.metrics=a(e),this.application_id=d,this.search=this.obj.find("#metric_selector_search"),this.results=this.obj.find("#metric_selector_results"),this.resultsSize=this.obj.find("#metric_selector_results_size"),this.errorBox=this.obj.find(".row .search label .minorerror"),this.useSelected=this.obj.find("#metric_selector_use_selected"),this.useAll=this.obj.find("#metric_selector_use_all"),this.capped=this.metrics.length===2e3,this.filter("");var g=null;this.search.focus().keyup(function(a){var b=this;g&&clearTimeout(g),g=setTimeout(function(){f.events.search.apply(b,[a,f])},300)}),a.each(["useSelected","useAll"],function(a,b){f[b].click(function(a){f.events[b].apply(this,[a,f]),a.preventDefault(),f.source.focus()})})};a.extend(b.prototype,{filter:function(b){var b=b||"",c=this.metrics,d=[];a.each(c,function(a,c){(b==""||b.test(c.name))&&d.push('<option id="'+c.id+'">'+c.name+"</option>")}),this.results.html(d.join("")),this.resultsSize.text(d.length)},filter_via_server:function(b){var b=b||"",c=this,d=RPM.URL("/accounts/ACCOUNT_ID/custom_views/metrics");this.search.after(RPM.SPINNER),a.getJSON(d,{application_id:this.application_id,regex:b},function(b){var d=a.map(b,function(a){return'<option id="'+a.id+'">'+a.name+"</option>"});c.results.html(d.join("")),c.resultsSize.text(d.length),a(".spinner").remove()})},insertTag:function(a){var b=this.source.val(),c=this.source[0].selectionStart,d=b.substring(0,c),e=d.lastIndexOf("{%"),f=d.lastIndexOf("%}"),g=c,h=!1;if(e>=0&&f<e){var i=b.substring(c),f=i.indexOf("%}");f>=0&&(g=c+f,h=!0)}var j=a.source;if(j)var k=h?" regexp:'"+j+"' ":"{% assign metrics = application.metrics.find_by_regexp['"+j+"'] %}";else var k=h?" metric:'"+a[0]+"' ":"{% assign metric = application.metrics['"+a[0]+"'] %}";this.source.val(b.substring(0,g)+k+b.substring(g)).focus()[0].setSelectionRange(g,g+k.length)},events:{search:function(b,c){var d=a(b.target),e=d.val();c.errorBox.empty();if(e=="")c.filter("");else try{var f=new RegExp(e,"i");c.capped?c.filter_via_server(e):c.filter(f)}catch(g){c.errorBox.html("Invalid regular expression: "+g.message.replace(/^Invalid regular expression:/,""))}},useSelected:function(b,c){var d=a.map(c.results.children("option:selected"),function(a){return a.text});if(d.length>1){var e=a.map(d,function(a){return"("+a+")"}).join("|");c.insertTag(new RegExp(e))}else d.length==1&&c.insertTag(d)},useAll:function(a,b){var c=b.search.val();c!=""&&(c.indexOf(".*")!=0&&(c=".*"+c),c.lastIndexOf(".*")!=c.length-2&&(c=c+".*"),b.insertTag(new RegExp(c,"i")))}}})}(jQuery),function(a){a.extend({tmpl:function(a,b){var c,d;a=a||"",b=b||{},c=/#\{([^{}]*)}/g,d=function(a,c){return typeof b[c]=="string"||typeof b[c]=="number"?b[c]:a};return a.replace(c,d)}})}(jQuery);var defaultDataParser=function(a){if(typeof a=="string"){var b=/^(\s\n\r\t)*\+?$/,c,d,e=a.split(/\n/);a={};for(var f in e)d=e[f].split("="),b.test(d[0])||(c=d[0].lastIndexOf("+")==d.length-1,c&&(d[0]=d.substr(0,d.length-1)),a[d[0]]={selected:!1,value:d[1]||d[0]})}else this._messages($.ui.multiselect.constante.MESSAGE_ERROR,$.ui.multiselect.locale.errorDataFormat),a=!1;return a},defaultNodeComparator=function(a,b){var c=a.text(),d=b.text();return c==d?0:c<d?-1:1};(function(a){a.widget("ui.multiselect",{options:{sortable:"left",droppable:"both",searchable:!0,searchDelay:400,remoteUrl:null,remoteParams:{},animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,dataParser:defaultDataParser,nodeComparator:defaultNodeComparator,nodeInserted:null},_create:function(){this.element.hide(),this.busy=!1,typeof this.options.maxItems=="undefined"||this.options.maxItems==null?a.ui.multiselect.locale.itemsCountText=a.ui.multiselect.locale.itemsCount:a.ui.multiselect.locale.itemsCountText=a.ui.multiselect.locale.itemsCountRestricted,this.container=a('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.selectedContainer=a('<div class="ui-widget-content list-container selected"></div>').appendTo(this.container),this.availableContainer=a('<div class="ui-widget-content list-container available"></div>').appendTo(this.container),this.selectedActions=a('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">'+a.tmpl(a.ui.multiselect.locale.itemsCountText,{count:0,maxItems:this.options.maxItems})+'</span><a href="#" class="remove-all">'+a.tmpl(a.ui.multiselect.locale.removeAll)+"</a></div>").appendTo(this.selectedContainer),this.availableActions=a('<div class="actions ui-widget-header ui-helper-clearfix"><span class="busy">'+a.tmpl(a.ui.multiselect.locale.busy)+'</span><input type="text" class="search ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+a.tmpl(a.ui.multiselect.locale.addAll)+"</a></div>").appendTo(this.availableContainer),this.selectedList=a('<ul class="list selected"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=a('<ul class="list available"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.availableContainer),this.errorLine=a("<p class='ui-multiselect errorline' style='color:red;display:block;height:8px;line-height:0;margin:0;padding:0;'>&nbsp;</p>").prependTo(this.container);var b=this;this.availableList.data("multiselect.cache",{}),this.selectedList.data("multiselect.cache",{}),this.options.animated||(this.options.show="show",this.options.hide="hide");var c={selected:{sortable:"both"==this.options.sortable||"left"==this.options.sortable,droppable:"both"==this.options.droppable||"left"==this.options.droppable},available:{sortable:"both"==this.options.sortable||"right"==this.options.sortable,droppable:"both"==this.options.droppable||"right"==this.options.droppable}};this._prepareLists("selected","available",c),this._prepareLists("available","selected",c),this._registerSearchEvents(this.availableContainer.find("input.search"),!0),this._setBusy(!1),this.container.find(".remove-all").bind("click.multiselect",function(){b.selectNone();return!1}),this.container.find(".add-all").bind("click.multiselect",function(){b.selectAll();return!1}),this.container.width(this.element.width()+1),this._refreshDividerLocation(),this.availableActions.find("input").width(Math.max(this.availableActions.width()-this.availableActions.find("a.add-all").width()-30,20)),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this._populateLists(this.element.find("option"))},destroy:function(){this.container.remove(),this.element.show(),a.widget.prototype.destroy.apply(this,arguments)},isBusy:function(){return!!this.busy},isSelected:function(a){return this.enabled()?!!this._findItem(a,this.selectedList):null},selectedValues:function(){return a.map(this.element.find("option[selected]"),function(b,c){return a(b).val()})},enabled:function(a,b){undefined!==a&&(a?(this.container.unblock(),this.element.removeAttr("disabled")):(this.container.block({message:b||null,overlayCSS:{backgroundColor:"#fff",opacity:.4,cursor:"default"}}),this.element.attr("disabled",!0)));return!this.element.attr("disabled")},selectAll:function(){this.enabled()&&this._batchSelect(this.availableList.children("li.ui-element:visible"),!0)},selectNone:function(){this.enabled()&&this._batchSelect(this.selectedList.children("li.ui-element:visible"),!1)},select:function(a){if(this.enabled()){var b=this._findItem(a,this.availableList);b&&this._setSelected(b,!0)}},deselect:function(a){if(this.enabled()){var b=this._findItem(a,this.selectedList);b&&this._setSelected(b,!1)}},search:function(a){if(!this.busy&&this.enabled()&&this.options.searchable){var b=this.availableActions.children("input:first");b.val(a),b.trigger("keydown.multiselect")}},addOptions:function(b){if(this.enabled()){this._setBusy(!0);var c=[];if(b=this.options.dataParser.call(this,b))for(var d in b)this.element.find('option[value="'+d+'"]').size()==0&&c.push(a('<option value="'+d+'"/>').text(b[d].value).appendTo(this.element)[0]);c.length>0&&this._populateLists(a(c)),this._filter(this.availableList.children("li.ui-element")),this._setBusy(!1);return c.length}return!1},_setData:function(b,c){switch(b){case"dividerLocation":this.options.dividerLocation=c,this._refreshDividerLocation();break;case"searchable":this.options.searchable=c,this._registerSearchEvents(this.availableContainer.find("input.search"),!1);break;case"droppable":case"sortable":this._messages(a.ui.multiselect.constants.MESSAGE_WARNING,a.ui.multiselect.locale.errorReadonly,{option:b});default:this.options[b]=c}},_ui:function(a){var b={sender:this.element};switch(a){case"message":b.type=arguments[1],b.message=arguments[2];break;case"selection":b.option=arguments[1]}return b},_messages:function(b,c,d){this._trigger("messages",null,this._ui("message",b,a.tmpl(c,d)))},_refreshDividerLocation:function(){this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation)))},_prepareLists:function(a,c,d){var e=this,f="selected"==a,g=this[a+"List"],h=this[c+"List"],i=d[c].sortable?b:"clone";g.data("multiselect.sortable",d[a].sortable).data("multiselect.droppable",d[a].droppable).data("multiselect.draggable",!d[a].sortable&&(d[c].sortable||d[c].droppable)),d[a].sortable&&g.sortable({appendTo:this.container,connectWith:h,containment:this.container,helper:i,items:"li.ui-element",revert:!d[c].sortable&&!d[c].droppable,receive:function(a,b){if(d[c].sortable){var g=b.item.data("multiselect.optionLink");e._applyItemState(b.item.hide(),f),h.data("multiselect.cache")[g.val()]&&delete h.data("multiselect.cache")[g.val()],b.item.hide(),e._setSelected(b.item,f,!0)}else setTimeout(function(){e._setSelected(b.item,f)},10)},stop:function(a,b){e._moveOptionNode(b.item)}}),(!d[a].sortable||!d[c].sortable)&&(d[a].droppable||d[c].sortable||d[c].droppable)&&g.droppable({accept:".ui-multiselect li.ui-element",hoverClass:"ui-state-highlight",revert:!d[c].sortable&&!d[c].droppable,greedy:!0,drop:function(b,c){if(!c.draggable.data("multiselect.optionLink")){var h=c.helper.data("multiselect.optionLink");c.draggable.data("multiselect.optionLink",h),g.data("multiselect.cache")[h.val()]&&delete g.data("multiselect.cache")[h.val()],g.data("multiselect.cache")[h.val()]=c.draggable,e._applyItemState(c.draggable,f)}else d[a].sortable||setTimeout(function(){c.draggable.hide(),e._setSelected(c.draggable,f)},10)}})},_populateLists:function(b){this._setBusy(!0);var c=this;setTimeout(function(){a(b.each(function(a){var b=this.selected?c.selectedList:c.availableList,d=c._getOptionNode(this).show();c._applyItemState(d,this.selected),d.data("multiselect.idx",a),b.data("multiselect.cache")[d.data("multiselect.optionLink").val()]=d,c._insertToList(d,b)})),c._setBusy(!1),c._updateCount()},1)},_insertToList:function(b,c){var d=this;this._setBusy(!0);var e=0,f=function(){var g=d.options.nodeComparator?d._getSuccessorNode(b,c):null;try{g?b.insertBefore(g):c.append(b),c===d.selectedList&&d._moveOptionNode(b),"function"==typeof d.options.nodeInserted&&d.options.nodeInserted(b),d._setBusy(!1)}catch(h){e++<10?setTimeout(function(){f()},1):(d._messages(a.ui.multiselect.constants.MESSAGE_EXCEPTION,a.ui.multiselect.locale.errorInsertNode,{key:b.data("multiselect.optionLink").val(),value:b.text()}),d._setBusy(!1))}};f()},_updateCount:function(){var b=this;this.busy&&setTimeout(function(){b._updateCount()},100);var c=this.selectedList.children("li:not(.ui-helper-hidden-accessible,.ui-sortable-placeholder):visible").size();typeof b.options.maxItems!="undefined"&&b.options.maxItems!=null&&c>b.options.maxItems?b.errorLine.text("Warning: No more than "+b.options.maxItems+" items allowed, only the first "+b.options.maxItems+" will be saved"):typeof b.options.maxItems!="undefined"&&b.options.maxItems!=null&&c<b.options.maxItems&&b.errorLine.text(" ");var d=this.availableList.children("li:not(.ui-helper-hidden-accessible,.ui-sortable-placeholder,.shadowed)").size()+c;this.selectedContainer.find("span.count").text(a.tmpl(a.ui.multiselect.locale.itemsCountText,{count:c,maxItems:this.options.maxItems})).attr("title",a.tmpl(a.ui.multiselect.locale.itemsTotal,{count:d}))},_getOptionNode:function(b){b=a(b);var c=a('<li class="ui-state-default ui-element"><span class="ui-icon"/>'+b.text()+'<a href="#" class="ui-state-default action"><span class="ui-corner-all ui-icon"/></a></li>').hide();c.data("multiselect.optionLink",b);return c},_moveOptionNode:function(a){setTimeout(function(){var b=a.data("multiselect.optionLink");if(b){var c=a.prev("li:not(.ui-helper-hidden-accessible,.ui-sortable-placeholder):visible"),d=c.size()?c.data("multiselect.optionLink"):null;d?b.insertAfter(d):b.prependTo(b.parent())}},100)},_findItem:function(b,c){var d=null;c.children("li.ui-element:visible").each(function(c,e){e=a(e),e.text().toLowerCase()===b.toLowerCase()&&(d=e)});return d&&d.size()?d:!1},_cloneWithData:function(a,b,c){var d=this,e=a.data("multiselect.optionLink").val(),f="selected"==b,g=f?this.selectedList:this.availableList,h=g.data("multiselect.cache")[e];h?h.data("multiselect.idx",a.data("multiselect.idx")):(h=a.clone().hide(),this._applyItemState(h,f),g.data("multiselect.cache")[e]=h,h.data("multiselect.optionLink",a.data("multiselect.optionLink")),h.data("multiselect.idx",a.data("multiselect.idx")),c&&this._insertToList(h,g));return h},_batchSelect:function(b,c){this._setBusy(!0);var d=this;setTimeout(function(){var e={animated:d.options.animated,hide:d.options.hide,show:d.options.show};d.options.animated=null,d.options.hide="hide",d.options.show="show",b.each(function(b,e){d._setSelected(a(e),c)}),c||d._filter(d.availableList.find("li.ui-element")),a.extend(d.options,e),d._updateCount(),d._setBusy(!1)},10)},_getSuccessorNode:function(b,c){var d=c.find("li.ui-element"),e=this.options.nodeComparator,f=d.size();if(d.size()==0)return null;var g,h=Math.min(b.data("multiselect.idx"),f-1),i=e(b,a(d[h]));if(i)if(0>i&&0>=h)g=d[0];else if(0<i&&f-1<=h)h++,g=null;else while(h>=0&&h<d.length){i>0?h++:h--,h<0&&(g=b[0]);if(i!=e(b,a(d[h]))){g=d[i>0?h:h+1];break}}else g=d[h];b.data("multiselect.idx",h);return g},_setSelected:function(b,c,d){var e=this,f,g=b.data("multiselect.optionLink");if(c){if(g.attr("selected"))return;g.attr("selected","selected"),d?f=b:(f=this._cloneWithData(b,"selected",!0).hide(),b.addClass("shadowed")[this.options.hide](this.options.animated,function(){e._updateCount()})),f[this.options.show](this.options.animated)}else{if(!g.attr("selected"))return;g.removeAttr("selected"),d?f=b:(f=this._cloneWithData(b,"available",!0).hide().removeClass("shadowed"),b[this.options.hide](this.options.animated,function(){e._updateCount()})),f.is(".filtered")||f[this.options.show](this.options.animated)}this.busy||this.options.animated&&f.fadeTo("fast",.3,function(){a(this).fadeTo("fast",1)}),this._trigger(c?"selected":"deselected",null,this._ui("selection",g));return f},_setBusy:function(a){var b=this.availableActions.children("input.search"),c=this.availableActions.children(".busy");this.busy=Math.max(a?++this.busy:--this.busy,0),this.container.find("a.remove-all, a.add-all")[this.busy?"hide":"show"](),a&&1==this.busy?(this.options.searchable&&(b.data("multiselect.hadFocus",b.data("multiselect.hasFocus")),b.blur().hide()),c.show()):this.busy||(this.options.searchable&&(b.show(),b.data("multiselect.hadFocus")&&b.focus()),c.hide())},_applyItemState:function(a,b){b?(a.children("span").addClass("ui-helper-hidden").removeClass("ui-icon"),a.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(a.find("a.action"))):(a.children("span").addClass("ui-helper-hidden").removeClass("ui-icon"),a.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(a.find("a.action"))),this._registerHoverEvents(a);return a},_filter:function(b){var c=this.availableActions.children("input.search"),d=a.trim(c.val().toLowerCase());d?b.each(function(b,c){c=a(c),c[(c.text().toLowerCase().indexOf(d)>=0?"remove":"add")+"Class"]("filtered")}):b.removeClass("filtered");return b.not(".filtered, .shadowed").show().end().filter(".filtered, .shadowed").hide().end()},_registerHoverEvents:function(b){b.unbind("mouseover.multiselect").bind("mouseover.multiselect",function(){a(this).find("a").andSelf().addClass("ui-state-hover")}).unbind("mouseout.multiselect").bind("mouseout.multiselect",function(){a(this).find("a").andSelf().removeClass("ui-state-hover")}).find("a").andSelf().removeClass("ui-state-hover")},_registerAddEvents:function(c){var d=this;c.unbind("click.multiselect").bind("click.multiselect",function(){if(!this.busy){var b=a("ul.list.selected").find("li:not(.ui-helper-hidden-accessible,.ui-sortable-placeholder):visible").size();typeof d.options.maxItems!="undefined"&&d.options.maxItems!=null&&b>=d.options.maxItems?d.errorLine.text("No more than "+d.options.maxItems+" items allowed, remove other selected items to continue"):d._setSelected(a(this).parent(),!0)}return!1}),this.availableList.data("multiselect.draggable")&&(c.each(function(){a(this).parent().draggable({connectToSortable:d.selectedList,helper:b,appendTo:d.container,containment:d.container,revert:"invalid"})}),this.selectedList.data("multiselect.sortable")&&this.selectedList.sortable("refresh"))},_registerRemoveEvents:function(c){var d=this;c.unbind("click.multiselect").bind("click.multiselect",function(){d.busy||d._setSelected(a(this).parent(),!1);return!1}),this.selectedList.data("multiselect.draggable")&&(c.each(function(){a(this).parent().draggable({connectToSortable:d.availableList,helper:b,appendTo:d.container,containment:d.container,revert:"invalid"})}),this.availableList.data("multiselect.sortable")&&this.availableList.sortable("refresh"))},_registerSearchEvents:function(b,c){var d=this,e=b.val(),f,g=function(c){if(!d.busy){var f=b.val();if(f!=e||c){d._setBusy(!0);if(d.options.remoteUrl){var g=a.extend({},d.options.remoteParams);try{a.ajax({url:d.options.remoteUrl,data:a.extend(g,{q:escape(f)}),success:function(a){d.addOptions(a),d._setBusy(!1)},error:function(b,c,e){d._messages(a.ui.multiselect.constants.MESSAGE_ERROR,a.ui.multiselect.locale.errorRequest,{status:c}),d._setBusy(!1)}})}catch(h){d._messages(a.ui.multiselect.constants.MESSAGE_EXCEPTION,h.message),d._setBusy(!1)}}else d._filter(d.availableList.children("li.ui-element")),d._setBusy(!1);e=f}}};b.unbind("focus.multiselect blur.multiselect keydown.multiselect keypress.multiselect"),this.options.searchable?b.bind("focus.multiselect",function(){a(this).addClass("ui-state-active").data("multiselect.hasFocus",!0)}).bind("blur.multiselect",function(){a(this).removeClass("ui-state-active").data("multiselect.hasFocus",!1)}).bind("keydown.multiselect keypress.multiselect",function(a){f&&clearTimeout(f);switch(a.which){case 13:g(!0);return!1;default:f=setTimeout(function(){g()},Math.max(d.options.searchDelay,1))}}).show():(b.val("").hide(),this._filter(d.availableList.find("li.ui-element")));var h=function(){d.busy&&setTimeout(function(){h()},100),g(!0)};c&&h()}});var b=function(b,c){var d=a(b.target),e=d.clone().width(d.width());e.data("multiselect.optionLink",d.data("multiselect.optionLink")).data("multiselect.list",d.parent()).find("a").remove();return e};a.extend(a.ui.multiselect,{getter:"selectedValues enabled isBusy",locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"#{count} items selected",itemsCountRestricted:"#{count} out of #{maxItems} items selected",itemsTotal:"#{count} items total",busy:"please wait...",errorDataFormat:"Cannot add options, unknown data format",errorInsertNode:"There was a problem trying to add the item:\n\n\t[#{key}] => #{value}\n\nThe operation was aborted.",errorReadonly:"The option #{option} is readonly",errorRequest:"Sorry! There seemed to be a problem with the remote call. (Type: #{status})"},constants:{MESSAGE_WARNING:0,MESSAGE_EXCEPTION:1,MESSAGE_ERROR:2}})})(jQuery),function(a){var b=/( )(ALL|ASC|AS|ALTER|AND|ADD|AUTO_INCREMENT|BETWEEN|BINARY|BOTH|BY|BOOLEAN|CHANGE|CHECK|COLUMNS|COLUMN|COMMIT|CROSS|CREATE|DATABASES|DATABASE|DATA|DELAYED|DESCRIBE|DESC|DISTINCT|DELETE|DROP|DEFAULT|ENCLOSED|ESCAPED|EXISTS|EXPLAIN|FIELDS|FIELD|FLUSH|FOR|FOREIGN|FUNCTION|FROM|GROUP|GRANT|HAVING|IGNORE|INDEX|INFILE|INSERT|INNER|INTO|IDENTIFIED|IN|IS|IF|JOIN|KEYS|KILL|KEY|LEADING|LIKE|LIMIT|LINES|LOAD|LOCAL|LOCK|LOW_PRIORITY|LEFT|LANGUAGE|MODIFY|NATURAL|NOT|NULL|NEXTVAL|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUTFILE|OR|OUTER|ON|PROCEDURE|PROCEDURAL|PRIMARY|READ|REFERENCES|REGEXP|RENAME|REPLACE|RETURN|REVOKE|RLIKE|RIGHT|SHOW|SONAME|STATUS|STRAIGHT_JOIN|SELECT|SETVAL|SET|TABLES|TERMINATED|TO|TRAILING|TRUNCATE|TABLE|TEMPORARY|TRIGGER|TRUSTED|UNIQUE|UNLOCK|USE|USING|UPDATE|VALUES|VARIABLES|VIEW|WITH|WRITE|WHERE|ZEROFILL|TYPE|XOR)( )/gi;a.widget("rpm.sql_highlighter",a.rpm.component({options:{debug:!1,insert_wbr:!0,highlight_tables:!0},component:"rpm.sql_highlighter",_create:function(){var a=this,b=a.element,c=a.options;a.debug=c.debug,b.addClass("sql_highlighted"),c.insert_wbr===!0&&b.html(a._insert_wbrs()),c.highlight_tables===!0&&b.html(a._highlight_tables()),b.html(a._capitalize_keywords()),b.html(a._highlight_keywords())},_get_tablenames:function(){var a=this.element.text(),b=new RegExp("(FROM|INSERT INTO|DELETE FROM|UPDATE) ([\\w_`]*)","i"),c=a.match(b),d=c==undefined?"":c[2],e="("+d+")";d=d==""?!1:new RegExp(e,"gi"),this.log("Table names fetched");return d},_highlight_tables:function(){var a=this.element.html(),b=this._get_tablenames();b&&(a=a.replace(b,'<span class="nr_sql_tablename">$1</span>')),this.log("Tables highlighted");return a},_highlight_keywords:function(){var a=" "+this.element.html()+" ";a=a.replace(b,' <span class="nr_sql_keyword">$2</span> '),this._log("Keywords highlighted");return a},_capitalize_keywords:function(){var a=this.element.html();a=a.replace(b,function(a){return a.toUpperCase()}),this.log("Keywords capitalized");return a},_insert_wbrs:function(){var a=this.element.html();a=a.replace(/(,|\||\(|\)|\\)/g,"$1<wbr></wbr>"),this.log("Inserted wbrs");return a}}))}(jQuery),function(a){function f(a){return a.replace(/\s+/g," ")}function e(c,d){var e=f(c.data);b&&(e=e.replace(/^ /,"")),b=!!e.match(/ $/);var e=e.slice(0,d);e=a("<div/>").text(e).html();return e}function d(b,d){var b=a(b),e=b.clone().empty(),f;b.contents().each(function(){var a=d-e.text().length;a!=0&&(f=c(this,a),f&&e.append(f))});return e}function c(a,b){return a.nodeType==3?e(a,b):d(a,b)}var b=!0;a.fn.truncate=function(b){var d=a.extend({},a.fn.truncate.defaults,b);return a(this).each(function(){var b=a.trim(f(a(this).text())).length;if(!(b<=d.max_length)){var e=d.max_length-d.more.length-3,g=c(this,e),h=a(this).hide();g.insertAfter(h),a('<a href="#">'+d.more+"</a>").appendTo(g).addClass("truncate_show").click(function(a){a.preventDefault(),a.stopPropagation(),g.hide(),h.show();return!1}),a('<a href="#">'+d.less+"</a>").appendTo(h).addClass("truncate_hide").click(function(a){a.preventDefault(),a.stopPropagation(),g.show(),h.hide();return!1})}})},a.fn.truncate.defaults={max_length:100,more:"[more&hellip;]",less:"[less]"}}(jQuery),function($){$.extend({tablesorter:new function(){function getCachedSortType(a,b){return a[b]?a[b].type:""}function sortNumericDesc(a,b){return b-a}function sortNumeric(a,b){return a-b}function sortTextDesc(a,b){return b<a?-1:b>a?1:0}function sortText(a,b){return a<b?-1:a>b?1:0}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s=getCachedSortType(table.config.parsers,c)=="text"?order==0?"sortText":"sortTextDesc":order==0?"sortNumeric":"sortNumericDesc",e="e"+i;dynamicExp+="var "+e+" = "+s+"(a["+c+"],b["+c+"]); ",dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0]?cache.normalized[0].length-1:0;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";dynamicExp+="return 0; ",dynamicExp+="}; ",eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);return cache}function updateHeaderSortCount(a,b){var c=a.config,d=b.length;for(var e=0;e<d;e++){var f=b[e],g=c.headerList[f[0]];g.count=f[1],g.count++}}function fixColumnWidth(a,b){var c=a.config;if(c.widthFixed){var d=$("<colgroup>");$("tr:first td",a.tBodies[0]).each(function(){d.append($("<col>").css("width",$(this).width()))}),$(a).prepend(d)}}function setHeadersCss(a,b,c,d){b.removeClass(d[0]).removeClass(d[1]);var e=[];b.each(function(a){this.sortDisabled||(e[this.column]=$(this))});var f=c.length;for(var g=0;g<f;g++)e[c[g][0]].addClass(d[c[g][1]])}function isValueInArray(a,b){var c=b.length;for(var d=0;d<c;d++)if(b[d][0]==a)return!0;return!1}function formatSortingOrder(a){typeof a!="Number"?i=a.toLowerCase()=="desc"?1:0:i=a==1?a:0;return i}function applyWidget(a){var b=a.config.widgets,c=b.length;for(var d=0;d<c;d++)getWidgetById(b[d]).format(a)}function getWidgetById(a){var b=widgets.length;for(var c=0;c<b;c++)if(widgets[c].id.toLowerCase()==a.toLowerCase())return widgets[c]}function checkHeaderOptions(a,b){if(a.config.headers[b]&&a.config.headers[b].sorter===!1)return!0;return!1}function checkHeaderMetadata(a){if($.metadata&&$(a).metadata().sorter===!1)return!0;return!1}function checkCellColSpan(a,b,c){var d=[],e=a.tHead.rows,f=e[c].cells;for(var g=0;g<f.length;g++){var h=f[g];h.colSpan>1?d=d.concat(checkCellColSpan(a,headerArr,c++)):(a.tHead.length==1||h.rowSpan>1||!e[c+1])&&d.push(h)}return d}function buildHeaders(a){if(a.config.debug)var b=new Date;var c=$.metadata?!0:!1,d=[];for(var e=0;e<a.tHead.rows.length;e++)d[e]=0;$tableHeaders=$("thead th",a),$tableHeaders.each(function(b){this.count=0,this.column=b,this.order=formatSortingOrder(a.config.sortInitialOrder);if(checkHeaderMetadata(this)||checkHeaderOptions(a,b))this.sortDisabled=!0;this.sortDisabled||$(this).addClass(a.config.cssHeader),a.config.headerList[b]=this}),a.config.debug&&(benchmark("Built headers:",b),log($tableHeaders));return $tableHeaders}function appendToTable(a,b){if(a.config.debug)var c=new Date;var d=b,e=d.row,f=d.normalized,g=f.length,h=f[0]?f[0].length-1:0,i=$(a.tBodies[0]),j=[];for(var k=0;k<g;k++){j.push(e[f[k][h]]);if(!a.config.appender){var l=e[f[k][h]],m=l.length;for(var n=0;n<m;n++)i[0].appendChild(l[n])}}a.config.appender&&a.config.appender(a,j),j=null,a.config.debug&&benchmark("Rebuilt table:",c),applyWidget(a),setTimeout(function(){$(a).trigger("sortEnd")},0)}function getElementText(a,b){if(!b)return"";var c="";a.textExtraction=="simple"?b.childNodes[0]&&b.childNodes[0].hasChildNodes()?c=b.childNodes[0].innerHTML:c=b.innerHTML:typeof a.textExtraction=="function"?c=a.textExtraction(b):c=$(b).text();return c}function buildCache(a){if(a.config.debug)var b=new Date;var c=a.tBodies[0]&&a.tBodies[0].rows.length||0,d=a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length||0,e=a.config.parsers,f={row:[],normalized:[]};for(var g=0;g<c;++g){var h=a.tBodies[0].rows[g],i=[];f.row.push($(h));for(var j=0;j<d;++j)i.push(e[j].format(getElementText(a.config,h.cells[j]),a,h.cells[j]));i.push(g),f.normalized.push(i),i=null}a.config.debug&&benchmark("Building cache for "+c+" rows:",b);return f}function getParserById(a){var b=parsers.length;for(var c=0;c<b;c++)if(parsers[c].id.toLowerCase()==a.toLowerCase())return parsers[c];return!1}function detectParserForColumn(a,b){var c=parsers.length;for(var d=1;d<c;d++)if(parsers[d].is($.trim(getElementText(a.config,b)),a,b))return parsers[d];return parsers[0]}function buildParserCache(a,b){if(a.config.debug)var c="";var d=[],e=a.tBodies[0].rows;if(e[0]){var f=e[0].cells,g=f.length;for(var h=0;h<g;h++){var i=!1;$.metadata&&$(b[h]).metadata()&&$(b[h]).metadata().sorter?i=getParserById($(b[h]).metadata().sorter):a.config.headers[h]&&a.config.headers[h].sorter&&(i=getParserById(a.config.headers[h].sorter)),i||(i=detectParserForColumn(a,f[h])),a.config.debug&&(c+="column:"+h+" parser:"+i.id+"\n"),d.push(i)}}a.config.debug&&log(c);return d}function log(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function benchmark(a,b){log(a+","+((new Date).getTime()-b.getTime())+"ms")}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:".",debug:!1},this.benchmark=benchmark,window["jquery.tablesorter.sortText"]=sortText,window["jquery.tablesorter.sortTextDesc"]=sortTextDesc,window["jquery.tablesorter.sortNumeric"]=sortNumeric,window["jquery.tablesorter.sortNumericDesc"]=sortNumericDesc,this.construct=function(a){return this.each(function(){if(!!this.tHead&&!!this.tBodies){var b,c,d,e,f,g=0,h;this.config={},f=$.extend(this.config,$.tablesorter.defaults,a),b=$(this),d=buildHeaders(this),this.config.parsers=buildParserCache(this,d),e=buildCache(this);var i=[f.cssDesc,f.cssAsc];fixColumnWidth(this),d.click(function(a){b.trigger("sortStart");var c=b[0].tBodies[0]&&b[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&c>0){var g=$(this),h=this.column;this.order=this.count++%2;if(!a[f.sortMultiSortKey]){f.sortList=[];if(f.sortForce!=null){var j=f.sortForce;for(var k=0;k<j.length;k++)j[k][0]!=h&&f.sortList.push(j[k])}f.sortList.push([h,this.order])}else if(isValueInArray(h,f.sortList))for(var k=0;k<f.sortList.length;k++){var l=f.sortList[k],m=f.headerList[l[0]];l[0]==h&&(m.count=l[1],m.count++,l[1]=m.count%2)}else f.sortList.push([h,this.order]);setTimeout(function(){setHeadersCss(b[0],d,f.sortList,i),appendToTable(b[0],multisort(b[0],f.sortList,e))},1),b.trigger("sortStop");return!1}}).mousedown(function(){if(f.cancelSelection){this.onselectstart=function(){return!1};return!1}}),b.bind("update",function(){this.config.parsers=buildParserCache(this,d),e=buildCache(this)}).bind("sorton",function(a,b){$(this).trigger("sortStart"),f.sortList=b;var c=f.sortList;updateHeaderSortCount(this,c),setHeadersCss(this,d,c,i),appendToTable(this,multisort(this,c,e)),$(this).trigger("sortStop")}).bind("appendCache",function(){appendToTable(this,e)}).bind("applyWidgetId",function(a,b){getWidgetById(b).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(f.sortList=$(this).metadata().sortlist),f.sortList.length>0&&b.trigger("sorton",[f.sortList]),applyWidget(this)}})},this.addParser=function(a){var b=parsers.length,c=!0;for(var d=0;d<b;d++)parsers[d].id.toLowerCase()==a.id.toLowerCase()&&(c=!1);c&&parsers.push(a)},this.addWidget=function(a){widgets.push(a)},this.formatFloat=function(a){var b=parseFloat(a);return isNaN(b)?0:b},this.formatInt=function(a){var b=parseInt(a);return isNaN(b)?0:b},this.isDigit=function(a,b){var c="\\"+b.decimal,d="/(^[+]?0("+c+"0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)"+c+"(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*"+c+"0+$)/";return RegExp(d).test($.trim(a))},this.clearTableBody=function(a){if($.browser.msie){function b(){while(this.firstChild)this.removeChild(this.firstChild)}b.apply(a.tBodies[0])}else a.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(a){return!0},format:function(a){return $.trim(a.toLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(a,b){var c=b.config;return $.tablesorter.isDigit(a,c)},format:function(a){return $.tablesorter.formatFloat(a)},type:"numeric"}),ts.addParser({id:"currency",is:function(a){return/^[£$€?.]/.test(a)},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){var b=a.split("."),c="",d=b.length;for(var e=0;e<d;e++){var f=b[e];f.length==2?c+="0"+f:c+=f}return $.tablesorter.formatFloat(c)},type:"numeric"}),ts.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return jQuery.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(a){return $.tablesorter.formatFloat(a!=""?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(a){return/\%$/.test($.trim(a))},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},format:function(a,b){var c=b.config;a=a.replace(/\-/g,"/");if(c.dateFormat=="us")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(c.dateFormat=="uk")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return $.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(a){return!1},format:function(a,b,c){var d=b.config,e=d.parserMetadataName?d.parserMetadataName:"sortValue";return $(c).metadata()[e]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(a){if(a.config.debug)var b=new Date;$("tr:visible",a.tBodies[0]).filter(":even").removeClass(a.config.widgetZebra.css[1]).addClass(a.config.widgetZebra.css[0]).end().filter(":odd").removeClass(a.config.widgetZebra.css[0]).addClass(a.config.widgetZebra.css[1]),a.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",b)}}),$.preload(["/images/16x16/bullet_arrow_down.png","/images/16x16/bullet_arrow_up.png"])}(jQuery),jQuery(function(a){a.tablesorter&&(a.tablesorter.addParser({id:"numericWithUnits",is:function(b){return/^([0-9]+,)*[0-9]+(\.[0-9]+)? ?[a-z]+$/i.test(a.trim(b))},format:function(b){return a.tablesorter.formatFloat(b.replace(new RegExp(/[^0-9\.]/ig),""))},type:"numeric"}),a.tablesorter.addParser({id:"memoryWithUnits",is:function(a){return!1},format:function(b){var c=b.split(" "),d=a.tablesorter.formatFloat(c[0]),e=c[1];if(e=="KB")return d*1024;if(e=="MB")return d*1024*1024;if(e=="GB")return d*1024*1024*1024;if(e=="TB")return d*1024*1024*1024*1024;if(e=="PB")return d*1024*1024*1024*1024*1024;return d},type:"numeric"}),a.tablesorter.addParser({id:"numericWithSeparator",is:function(b){return/^([0-9]+,)*[0-9]+(\.[0-9]+)?$/i.test(a.trim(b))},format:function(b){return a.tablesorter.formatFloat(b.replace(new RegExp(/,/g),""))},type:"numeric"}),a.tablesorter.addParser({id:"float",is:function(b){return/^[0-9]*\.[0-9]+$/i.test(a.trim(b))},format:function(b){return a.tablesorter.formatFloat(b)},type:"numeric"}),a.tablesorter.addParser({id:"apdex",is:function(a){return!1},format:function(b){return/NS/i.test(b)?0:a.tablesorter.formatFloat(b.replace(new RegExp(/^([0-9\.]+).+$/g),"$1"))},type:"numeric"}),a.tablesorter.addParser({id:"trafficLightImage",is:function(a){return!1},format:function(a){var b=a.replace(/.*light-(.*?)\..*/,"$1");return b=="red"?4:b=="yellow"?3:b=="green"?2:1}}),a.tablesorter.addWidget({id:"highlightSortedColumns",format:function(b){a(b).find("td.sorted").removeClass("sorted");var c=a(b).find("thead:first-child th"),d=c.index(c.filter(".headerSortDown,.headerSortUp"));d>-1&&a(b).find("tbody tr td:nth-child("+(d+1)+")").addClass("sorted")}}),a.tablesorter.addWidget({id:"ajaxState",format:function(b){var c="sort",d=a(b);d.data("ajaxState")?a.ajaxState.change(c,b.config.sortList[0].join(",")):(d.data("ajaxState",c),a.ajaxState.register(c,function(a){var b=unescape(a).split(",");d.trigger("sorton",[[b]])}))}}),a.tablesorter.addWidget({id:"preferredColumnSortOrder",format:function(b){var c=function(a){return a[0]};typeof b.config.columnsWithPreferredSortOrder=="undefined"&&(b.config.columnsWithPreferredSortOrder=b.config.preferredSortList.map(c));var d=b.config.sortList,e=d.map(c),f=b.config.preferredSortList,g=b.config.columnsWithPreferredSortOrder,h=g.filter(function(a){return e.indexOf(a)>-1}),i=[];h.forEach(function(a){var b=f.filter(function(b){return b[0]==a});b.length>0&&i.push(b[0])}),i.length>0&&!i.arrayEqual(d)&&!e.arrayEqual(b.config.previousSortColumns)&&a(b).trigger("sorton",[i]),b.config.previousSortColumns=d.map(c)}}))}),function(a){a.widget("rpm.tableSort",a.rpm.component({component:"rpm.tableSort",options:{ajaxState:!1,columns:{},defaultSortOrder:{},textExtraction:"simple"},_create:function(){var b=this,c=a(this.element),d=["highlightSortedColumns"],e={};this.options.ajaxState&&d.push("ajaxState"),this.options.defaultSortOrder&&(e.sortList=this._convertSortOrderFromHashToArray(this.options.defaultSortOrder));for(column_string in this.options.columns){var f=this.options.columns[column_string],g=parseInt(column_string);f.preferredSortOrder&&(typeof e.preferredSortList=="undefined"&&(e.preferredSortList=[]),e.preferredSortList.push([g,this._convertDirectionToNumber(f.preferredSortOrder)])),f.sorter&&(typeof e.headers=="undefined"&&(e.headers={}),typeof e.headers[g]=="undefined"&&(e.headers[g]={}),e.headers[g].sorter=f.sorter)}e.preferredSortList&&d.push("preferredColumnSortOrder"),e.widgets=d,e.textExtraction=this.options.textExtraction,this.log("initializing table ",c," with ",e),c.addClass("tablesorter").tablesorter(e)},_convertDirectionToNumber:function(a){return a=="asc"?0:1},_convertSortOrderFromHashToArray:function(a){var b=[];for(key in a)b.push([parseInt(key),this._convertDirectionToNumber(a[key])]);return b},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments),a(this.element).tablesorter("destroy")}}))}(jQuery),function(a){a.widget("rpm.bar_chart_list",a.rpm.component({component:"rpm.bar_chart_list",options:{list_container_selector:"#bar_chart_list_column",element_regexp:/bar_chart_list_(\d+)/i,list_selector:".bar_chart",list_element:"li"},_create:function(){var b=this,c=!1;a.each(["label","drilldown_path","bar_chart_list_path","default_sort_by","list_container_selector"],function(a,d){if(typeof b.options[d]=="undefined"||b.options[d]=="")c=!0,b.error("Missing required option '"+d+"'.")});if(!c){b.options.cached_ajax_drilldown=a.cached_ajax(b.options.label,{container:b.options.list_container_selector,url:b.options.drilldown_path,element_regexp:b.options.element_regexp,list_selector:b.options.list_selector,list_element:b.options.list_element});var d="bar_chart_loading";a(b.options.list_container_selector).append('<div id="'+d+'" style="display:none"><p> Loading&hellip;</p></div>'),a("#"+d+" p").prepend(RPM.SPINNER),b.options.cached_ajax_sort_list=a.cached_ajax_sort_list(b.options.label,{container:b.options.list_container_selector,list_element:b.options.list_element,default_sort_by:b.options.default_sort_by,url:b.options.bar_chart_list_path,top5_url:b.options.top5_chart_path,top5_default_sort_by:b.options.top5_default_sort_by,add_filter:b.options.add_filter,cached_ajax_drilldown:b.options.cached_ajax_drilldown,list_class:b.options.list_selector,non_dynamic_top5:b.options.non_dynamic_top5,show_filter_for:b.options.show_filter_for,graph_loading_id:"#"+d}),a.ajaxState.register("id",function(a){b.options.cached_ajax_drilldown.load_drilldown(a,null)}),b.options.cached_ajax_sort_list.setup_dropdown(),a.ajaxState.register("sort_by",function(a){b.options.cached_ajax_sort_list.load_graph(a,b.options.add_filter),b.options.cached_ajax_sort_list.load_top5_chart(a,b.options.add_filter)},b.options.default_sort_by)}}}))}(jQuery),function(a){RPM.currentStatus={refreshInterval:6e4,pingAndUpdateStatus:function(){var b;RPM.application_id?b="/accounts/ACCOUNT_ID/applications/APPLICATION_ID/application_status.js":RPM.host_id&&(b="/accounts/ACCOUNT_ID/servers/HOST_ID/server_status.js"),a("#app_status").load(RPM.URL(b),function(b){a("#app_status").fadeOut(250,function(){a(this).fadeIn(250)})})},refreshCurrentStatus:function(){RPM.guarded_refresh.checkConnectivity(RPM.currentStatus.pingAndUpdateStatus,function(){}),RPM.currentStatus.setTimer()},setTimer:function(){a("#app_status").length>0&&setTimeout(RPM.currentStatus.refreshCurrentStatus,RPM.currentStatus.refreshInterval)}}}(jQuery),function(a){a.widget("rpm.drilldown",a.rpm.component({component:"rpm.drilldown",options:{trigger_container_selector:"ul.drilldown_triggers",trigger_element:"li",trigger_selector:"li.drilldown_trigger",trigger_regexp:/drilldown_trigger/,drilldown_container_selector:".drilldown_container",drilldown_selector:"div.drilldown"},_create:function(){var b=this,c=!1,d=["drilldown_path","trigger_container_selector","trigger_element","trigger_selector","trigger_regexp","drilldown_selector"];a.each(d,function(a,d){if(typeof b.options[d]=="undefined"||b.options[d]=="")c=!0,b.error("Missing required option '"+d+"'.")});if(!c){b.options.trigger_container=a(b.options.trigger_container_selector),b.options.drilldown_container=a(b.options.drilldown_container_selector);var e=b.options.trigger_container;a(b.options.trigger_selector,e).click(function(){var c=a(this);if(c.hasClass("active"))return!0;b.show_drilldown(c.attr("data-drilldown_id"))}),a.ajaxState.register("id",function(a){b.show_drilldown(a,null)});var f=a(b.options.trigger_selector+".active",e);a.ajaxState.getState("id")||(f.length>0?f.removeClass("active").click():a(b.options.trigger_selector+":first-child",e).click())}},show_drilldown:function(b){if(!b)return!0;var c=this,d=a(c.options.drilldown_selector+"[data-drilldown_id="+b+"]",c.options.drilldown_container);a.ajaxState.change("id",b),a(c.options.trigger_selector+".active",c.options.trigger_container).removeClass("active"),a(c.options.trigger_selector+"[data-drilldown_id="+b+"]").addClass("active");if(d.length==0){a(c.options.drilldown_selector+":visible:not(.loading)",c.options.drilldown_container).hide("slide",{},"fast",function(){a(c.options.drilldown_selector+".loading",c.options.drilldown_container).show()});var e=RPM.URL(c.options.drilldown_path,{id:b}),d=a('<div class="drilldown" data-drilldown_id="'+b+'"></div>');d.appendTo(c.options.drilldown_container).hide().load(e,function(a,d,e){d=="success"&&c._show_drilldown(b)},"html");return!0}if(d.is(":visible"))return!0;c._show_drilldown(b)},_show_drilldown:function(b){var c=this,d=a(c.options.drilldown_selector+"[data-drilldown_id="+b+"]",c.options.drilldown_container),e=a(c.options.drilldown_selector+":visible",c.options.drilldown_container);e.length>0?e.hide("slide",{},"fast",function(){c._show(d)}):c._show(d)},_show:function(b){b.show("slide",{},"slow",function(){a.rpm.chart.resizeAll(),a.rpm.highcharts.resizeAll()})}}))}(jQuery),function(a){RPM.kioskMode={_cookieName:"rpm_kiosk_mode",_setCookie:function(){document.cookie=RPM.kioskMode._cookieName+"=true; path=/"},_unsetCookie:function(){var a=new Date;a.setTime(a.getTime()-864e5),document.cookie=RPM.kioskMode._cookieName+"=false; path=/; expires="+a.toUTCString()},_resizeCharts:function(){jQuery.rpm.chart.resizeAll(),jQuery.rpm.highcharts.resizeAll()},enable:function(){RPM.kioskMode.enabled()||(RPM.add_flash_message("info","kiosk_mode","To return to the normal display, click the button in the "+(a("body").hasClass("v31")?"top":"bottom")+" right-hand corner of the page.",!0),setTimeout(function(){a("#kiosk_mode_flash_message").slideUp("slow")},5e3)),a("body").addClass("kiosk").trigger("enterKioskMode"),RPM.kioskMode._setCookie(),a('<a href="#">Exit kiosk mode &rarr;</a>').click(function(){RPM.kioskMode.disable();return!1}).appendTo(a("body").hasClass("v31")?"#primary_header":"#primary_content").wrap('<p id="exit_kiosk_mode_link"></p>'),a("body").hasClass("v31")&&a('<div id="kiosk_app_name"></div>').html(a("#app_name h3").html()).appendTo("#header_wrapper"),RPM.kioskMode._resizeCharts();return!1},disable:function(){RPM.remove_flash_message("kiosk_mode"),a("body").removeClass("kiosk").trigger("leaveKioskMode"),RPM.kioskMode._unsetCookie(),RPM.kioskMode._resizeCharts(),a("#exit_kiosk_mode_link, #kiosk_app_name").remove(),RPM.kioskMode._resizeCharts();return!1},enabled:function(){var a=new RegExp(escape(RPM.kioskMode._cookieName)+"=([^;]+)");if(a.test(document.cookie+";")){a.exec(document.cookie+";");return unescape(RegExp.$1)=="true"?!0:!1}return!1}},a(document).ready(function(){RPM.kioskMode.enabled()&&RPM.kioskMode.enable()})}(jQuery),function(a){a.widget("rpm.link_submit",a.rpm.component({component:"rpm.link_submit",_create:function(){var a=this,b=a.element;b.click(function(a){b.closest("form").submit(),a.preventDefault()})}}))}(jQuery),function(a){a.widget("rpm.middle_truncate",a.rpm.component({component:"rpm.middle_truncate",options:{length:32,symbol:"&hellip;",add_title:!0},_create:function(){var a=this,b=a.options,c=a.element,d=c.text();b.add_title==!0&&d.length>b.length&&c.attr("title",d),a._truncate(c)},_truncate:function(a){var b=a.text(),c=b.length,d=this.options.length,e=this.options.symbol;if(c>d){var f=(c-d)/2,g=b.length/2,h=Math.ceil(g-f),i=Math.floor(g+f),j=b.substr(0,h),k=b.substr(i);b=j+e+k}a.html(b)}}))}(jQuery),function(a){a.widget("rpm.simple_dropdown",a.rpm.component({component:"rpm.simple_dropdown",options:{external_click_collapse:!0},_create:function(){var b=this,c=b.options,d=b.element,e=c.content||d.next("ul"),f=a(document);e.addClass("closed"),f.bind("collapse_open_dropdowns dropdown",function(a){b._collapse_if_open(e)}),c.external_click_collapse===!0&&(a("body").click(function(){f.trigger("collapse_open_dropdowns")}),e.click(function(a){a.stopPropagation()})),d.click(function(a){var c=e.hasClass("closed");f.trigger("collapse_open_dropdowns"),b._collapse_other_dropdowns(),c?(b._open(e,d),d.trigger("simple_dropdown_open")):b._close(e,d),a.preventDefault(),a.stopPropagation()})},_collapse_other_dropdowns:function(){a(".jquery-dropdown-trigger").trigger("dropup"),a(".simple_dropdown.open").removeClass("open").addClass("closed")},_collapse_if_open:function(a){a.hasClass("open")&&(a.addClass("closed").removeClass("open"),this._close(a,this.element))},_open:function(a,b){a.removeClass("closed").addClass("open"),b.closest("li").removeClass("closed").addClass("open")},_close:function(a,b){b.closest("li").removeClass("open").addClass("closed")}}))}(jQuery),RPM.javascript_for_page("accounts setup",function(a){var b="none",c=540;a("h1.learn_deploy_heading").length>0&&(b=a("h1.learn_deploy_heading").attr("lang"),a(".container."+b).show(),a(".install_instructions.install").height()-130>c&&a("section.taste article").css("height",a(".install_instructions.install").height()-130+"px"),a("#platform_chooser").val(b),a("#platform_chooser").change(function(){new_platform_chooser=a("#platform_chooser option:selected").val(),a(".container."+b).slideUp(),a(".container."+new_platform_chooser).slideDown("slow",function(){a("section.taste article").css("height",a(".install_instructions.install").height()-100+"px"),a("section.taste article").height()<c&&a("section.taste article").css("height",c+"px")}),b=new_platform_chooser}))}),RPM.javascript_for_page("accounts show",function(a){a("table select").live("change",function(){a(this).parent().append(RPM.SPINNER)}),jQuery.tablesorter.addParser({id:"userPermissionDropdown",is:function(a){return!1},format:function(b){var c=a.trim(b);if(b=="Owner")return 1;var d=new RegExp('<option value="(.*?)" selected="selected">'),e=d.exec(c);e||(d=new RegExp('<option selected="selected" value="(.*?)">'),e=d.exec(c));return e[1]=="admin"?2:e[1]=="user"?3:4}}),a("#users").tableSort({defaultSortOrder:{0:"asc"},columns:{0:{preferredSortOrder:"asc"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"asc",sorter:"userPermissionDropdown"}}})}),RPM.javascript_for_page("subscriptions index",function(a){a(".features_list li").attr("data-tip-position","left");var b=a(".plan_picker").attr("current_plan"),c=a(".plan_picker .plan."+b);flip_subscription_selection_to(c,!1),c.addClass("current_plan"),c.find(".tagline").text("Current plan"),a(".plan_picker .plan").click(function(){flip_subscription_selection_to(a(this),!0)}),a(".features_list li span").parent().css("cursor","auto"),a(".features_list li span").click(function(){handle_feature_click(a(this))}),a(".features_list li").click(function(){a(this).find("span").length==0&&handle_feature_click(a(this))})}),RPM.javascript_for_page("agents index",function(a){a(function(){a("#agents_table").tableSort({defaultSortOrder:{1:"asc"}})})}),RPM.javascript_for_page("alerts index",function(a){RPM.bind_table_row_link_events("table#alerts")}),RPM.javascript_for_page("application_accounts index",function(a){var b=a("#search_search"),c=a("#search_min_page_views");a.ajaxState.register("search",function(a){b(a)}),a.ajaxState.register("min_page_views",function(a){c.val(a)}),a("#transaction_trace_form").submit(function(){a.ajaxState.change("search",search_serach.val(),!0,!0),a.ajaxState.change("min_page_views",min_page_views.val(),!0,!0)}),a("#search_submit").trigger("submit")}),RPM.javascript_for_page("applications map",function(a){var b=function(){var b=a(".app_map:visible").attr("id"),c=a(".map_lines_canvas:visible"),d=c.attr("id");c.html("");var e=a("#"+b),f=Raphael(d,e.width(),e.height()),g=7,h=4;c.css("position","absolute"),c.css("z-index","1");var i=a("#"+b+" .appserver.node").position().top+a("#"+b+" .appserver.node").height()/2+g,j=a("#"+b+" .appserver.node").position().left,k=a("#"+b+" .appserver.node").position().left+a("#"+b+" .appserver.node").width(),l=i;if(a("#"+b+" .enduser.node").length>0)var m=a("#"+b+" .enduser.node").position().top+a("#"+b+" .enduser.node").height()/2+g,n=a("#"+b+" .enduser.node").position().left+a("#"+b+" .enduser.node").width(),o=f.path("M"+n+" "+m+"L"+j+" "+i);a("#"+b+" .backend.node").each(function(){var b=a(this),c=b.position().left+h,d=b.position().top+b.height()/2+g,e=f.path("M"+k+" "+l+"L"+c+" "+d);e.attr(a.parseJSON(b.attr("line_property")))})},c=function(){a("#expand_link").fadeToggle(function(){a("#collapse_link").fadeToggle()}),a("#collapsed_map").fadeToggle(function(){a("#expanded_map").fadeToggle(function(){var c=a(".node-contents .show_expanded").closest(".n-container").siblings().last().attr("metric_id"),d=a("#app_map_inner_expanded").find("."+c);d.siblings().find("a.bigger.show_collapsed").length==0&&d.after("<div class='n-container'><a class='bigger show_collapsed' href='javascript:void(0)'>Collapse services below</a></div>"),a("#expanded_map .node-tab-chart-area").each(function(){var b=a(this).closest(".n-container").attr("metric_id");a(this).html(a("#collapsed_map ."+b+" .node-tab-chart-area").html())}),a("#expanded_map .app_tier_col .n-container .node-tab-chart-area").html(a("#collapsed_map .app_tier_col .n-container .node-tab-chart-area").html()),a("#expanded_map .client_col .n-container .node-tab-chart-area").html(a("#collapsed_map .client_col .n-container .node-tab-chart-area").html()),b()})})},d=function(){a("#collapse_link").fadeToggle(function(){a("#expand_link").fadeToggle()}),a("#expanded_map").fadeToggle(function(){a("#collapsed_map").fadeToggle(function(){b()})})};RPM.showExpandedAppMap=c,a(".n-container:not(.was_collapsed)").click(function(c){c.target.nodeName!="A"&&($node_tab=a(this).find(".node-tab"),$node_tab.find(".node-tab-chart-area").length!=0&&($node_tab.find(".node-tab-chart-area:visible").length==0?($node_tab.closest(".n-container").removeClass("down_arrow"),$node_tab.animate({height:164},400,function(){$node_tab.find(".node-tab-chart-area").show(),$node_tab.closest(".n-container").addClass("up_arrow"),b(),a.rpm.highcharts.resizeAll()})):($node_tab.find(".node-tab-chart-area").hide(),$node_tab.closest(".n-container").removeClass("up_arrow"),$node_tab.closest(".n-container").addClass("down_arrow"),$node_tab.animate({height:24},400,function(){b()}))))}),a(window).resize(function(){b()}),a("a.show_expanded").click(function(){c()}),a("a.show_collapsed").live("click",function(){d()});var e=a("#app_map_inner_collapsed .backends_col").height()/2-36;e<20&&(e=0),a(".client_col, .app_tier_col").css("margin-top",e),b()}),RPM.javascript_for_page("applications edit",function(a){a("#application__settings_attributes_rum_enabled").length>0&&(a("#application__settings_attributes_rum_enabled").attr("checked")?(a("#application__settings_attributes_detail_countries").multiselect({maxItems:5}),a(".ui-multiselect.ui-helper-clearfix.ui-widget").css({width:"78%","float":"left","margin-top":"0"}),a(".ui-widget-content.list-container.selected").css("width","60%"),a(".ui-widget-content.list-container.available").css("width","40%"),a("ul.list.selected.ui-sortable.ui-droppable").css("height","125px"),a("ul.list.available.ui-droppable").css("height","125px"),a("input.search.ui-widget-content.ui-corner-all").attr("placeholder","Search"),a("a.add-all").remove()):a(".enduser_input").attr("disabled",!0)),a("#application__settings_attributes_rum_enabled").click(function(){a(this).attr("checked")?a(".enduser_input").removeAttr("disabled"):a(".enduser_input").attr("disabled",!0)})}),RPM.javascript_for_page("applications edit_agent_config",function(a){var b=function(b,c){a(b).attr("checked")||a(c).hide(),a(b).click(function(){a(this).attr("checked")?a(c).show("blind",{direction:"vertical"},300):a(c).hide("blind",{direction:"vertical"},300)})};b("#transaction_tracer_enabled","#transaction-tracing"),b("#capture_params","#request-parameters"),b("#explain_enabled","#explain-plan"),b("#error_collector_enabled","#error_collector"),RPM.migrating_to_server_side=function(b){a(":disabled").removeAttr("disabled"),a("button").removeAttr("disabled").text("Save and move configuration to New Relic").addClass("emphasized"),a("#Clusteragent_submit").hide(),a("#move-to-server-box").addClass("red"),a("#move-to-server-header").text("You're not done yet"),a("#move-to-server-caveats").show(),a("#move-to-server-description").text("We've filled in the form below with what we think is your current configuration, but we need you to check it over and save to enable controlling your settings from the New Relic site."),a("#move-to-server-button").text("Save and move configuration to New Relic"),a("#application__settings_attributes_use_server_side_config").attr("value","1"),a("#application__settings_attributes_use_server_side_config").attr("checked","1"),RPM.show_advanced_application_settings.call(a("#show-advanced"),undefined,!0),a(this).click(function(){a("#server-side-settings").submit()}),typeof b!="undefined"&&b.preventDefault()},a("#move-to-server-button").click(RPM.migrating_to_server_side),a("#change-account-default-button").click(function(b){a(this).replaceWith(RPM.SPINNER),a.ajax({url:RPM.URL("/accounts/ACCOUNT_ID.json"),type:"put",data:{account:{use_server_side_config:"1"}},success:function(){a("#change-account-default-header").text("All done"),a("#change-account-default-text").text("Awesome! Your new applications will all be configurable from the New Relic site."),a(".spinner").remove()}}),b.preventDefault()}),RPM.show_advanced_application_settings=function(b,c){a(this).text()==="Show advanced settings"?(a(this).text("Hide advanced settings"),typeof c=="undefined"&&a.scrollTo("#transaction-tracing",{duration:300}),a(".advanced").toggle("blind",{direction:"vertical"},300)):typeof c=="undefined"&&(a(this).text("Show advanced settings"),a(".advanced").toggle("blind",{direction:"vertical"},300)),typeof b!="undefined"&&b.preventDefault()},a("#show-advanced").click(RPM.show_advanced_application_settings)}),RPM.javascript_for_page("applications edit_alerts",function(a){if(!RPM.public_user){var b=a("#alerts"),c=b.children("div.container");b.find("a.disable_alerts_toggle_link").live("click",function(b){c.cover("dark"),RPM.remove_flash_message("threshold_settings");var d=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/toggle_alert_settings");a.post(d,{},function(a){c.html(a),c.uncover()}),b.preventDefault()}),b.find("a.alerts_hidden_toggle_link").live("click",function(b){c.cover("dark"),RPM.remove_flash_message("threshold_settings");var d=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/toggle_application_hidden_status");a.post(d,{},function(a){c.html(a),c.uncover()}),b.preventDefault()})}}),RPM.javascript_for_page("applications index",function(a){var b=a("table"),c=a("tfoot",b),d=function(b){b.each(function(){var b=a(this),c=b.parent().parent(),d=c.children("td:first-child"),e=d.position(),f=d.height(),g=d.outerHeight(!0),h=(g-f)/2,i=d.outerWidth(),j=b.parent().find("span.name").outerHeight(),k=e.top+j+h,l=e.left+28,m=i-28,n=g-j-h;try{b.css({top:k+"px",left:l+"px",height:n+"px",width:m+"px"})}catch(o){}})};b.find("tbody.application").mouseover(function(){d(a(this).find("td > div.options"),b)}),a("td > div.options a, ul.options",b).each(function(){a(this).click(function(a){a.stopPropagation()})}),b.find("tbody > tr > td.agent:has(> span.name > a), tr.application > td:has(a.application)").each(function(){var c=a(this),d=c.find("span.name > a").eq(0);c.parent().addClass("drilldown").end().addClass("drilldown").click(function(a){var c=d.attr("href");b.hasClass("drilldown")&&a.target!=d[0]&&d.triggerHandler("click")!==!1&&c!="#"&&(window.location=d.attr("href"))})});var e=a("#show_hidden_applications a",b),f=a("#hide_hidden_applications a",b);a.each([e,f],function(){a(this).click(function(c){var d=a(this);a("#show_hidden_applications").toggle(),a("#hide_hidden_applications").toggle(),b.toggleClass("show_hidden_applications"),c.preventDefault(),c.stopPropagation()})});var g="/accounts/ACCOUNT_ID/applications/ID/hide",h="/accounts/ACCOUNT_ID/applications/ID/unhide",i=function(){return a("#apptable tbody tr.hidden").size()},j=function(a){var b=i();return b==0?"No hidden applications":b==1?a+" hidden application":a+" "+b+" hidden applications"},k=function(){return j("Show")},l=function(){return j("Hide")},m=function(){e.html(k()),f.html(l())};a(document).ready(function(){m()}),a("a.toggle_hide_link",b).click(function(c){var d=a(this),e=d.closest("tr"),f=e.attr("id").match(/application_([0-9]+)/)[1],i=e,j=a("a.toggle_hide_link",e);if(d.hasClass("unhide")||confirm("Are you sure you want to hide this application?"))d.hasClass("hide")?(a.post(RPM.URL(g,{id:f}),{}),j.html("Unhide app"),b.hasClass("show_hidden_applications")&&a("#hide_hidden_applications").is(":hidden")&&b.removeClass("show_hidden_applications")):(a.post(RPM.URL(h,{id:f}),{}),j.html("Hide app")),i.toggleClass("hidden"),i.toggleClass("hidden_displayed"),j.toggleClass("hide").toggleClass("unhide"),m(),c.preventDefault(),c.stopPropagation()});var n="/accounts/ACCOUNT_ID/applications/ID";a("a.delete_link",b).click(function(b){var c=a(this),d=c.closest("td"),e=d.parent(),f=e.parent(),g=e.attr("id").match(/application_([0-9]+)/)[1],h=a.trim(e.find("h3 a").not("a.icon_link").text()),i=d.children("img");confirm("Are you sure you want to delete '"+h+"'? The application's deployments and alerts will be permanently deleted, but the underlying instance data will be preserved.")&&(i.addClass("spinner").attr("src",a(RPM.SPINNER).attr("src")),c.hasClass("to_spinner")&&c.replaceWith(RPM.SPINNER),a.post(RPM.URL(n,{id:g}),{_method:"delete"},function(){e.remove()})),b.preventDefault(),b.stopPropagation()}),a.ajaxState.register("edit_thresholds",function(a){a!==null&&(window.location.href=RPM.URL("/accounts/ACCOUNT_ID/applications/THIS_APPLICATION_ID/edit",{this_application_id:a}))});var o=a("#deploy_now"),p=o.find("a.logos"),q=o.find("div.instructions");p.click(function(b){var c=a(this).attr("data-language"),d=q.filter("."+c);q.not("."+c).slideUp("fast"),d.slideToggle("fast",function(){d.is(":visible")&&a.scrollTo(d,{duration:300})}),b.preventDefault()}),a("td.actions").prepend('<img src="/images/v3/icon-settings.png" class="trigger" width="16" height="16" />'),jQuery("td.actions .trigger").each(function(a,b){jQuery(b).dropdown(jQuery(b).siblings("ul"),{closeButton:!1})}),jQuery("a.exit_edit_mode").parent().hide(),enterEditMode=function(){jQuery("table").addClass("edit"),jQuery("table tr td.no_data[colspan]").attr("colspan",2),jQuery("a.enter_edit_mode").parent().hide(),jQuery("a.exit_edit_mode").parent().show(),jQuery("td.actions .trigger, td.actions li.edit").hide(),jQuery("td.actions .trigger").hide(),jQuery("td.actions ul").removeClass("jquery-dropdown-content").show()},exitEditMode=function(){jQuery("table").removeClass("edit"),jQuery("table tr td.no_data[colspan]").attr("colspan",5),jQuery("a.enter_edit_mode").parent().show(),jQuery("a.exit_edit_mode").parent().hide(),jQuery("td.actions .trigger, td.actions li.edit").show(),jQuery("td.actions .trigger").show(),jQuery("td.actions ul").addClass("jquery-dropdown-content").hide()},jQuery("#all-app-dropdown").dropdown("#all-app-dropdown-content")}),RPM.javascript_for_page("applications list",function(a){a("input#filter_Filter").focus().textFilter({tableSelector:"#names",rowSelector:".app",cellSelector:"a"})}),RPM.javascript_for_page("applications show",function(a){var b=a(".main_column, .context_column"),c=b.filter(".current"),d=b.filter(".historical"),e=a("#historical_comparison"),f=e.is(":checked");e.click(function(c){b.toggle(),RPM.guarded_refresh.changeInterval(parseInt(b.filter(":visible").attr("data-refresh-interval"))),a.rpm.chart.renderAll(b.filter(":visible")),a.rpm.highcharts.renderAll(b.filter(":visible")),a.rpm.highcharts.resizeAll(),a.post(RPM.URL("/accounts/ACCOUNT_ID/applications/save_historical_comparison_state"),{visible:!!a(this).is(":checked")})});if(c.eq(0).is(":visible")&&f||d.eq(0).is(":visible")&&!f)e[0].checked=!e[0].checked}),RPM.javascript_for_page("background_tasks index",function(a){var b=a(".bar_chart:visible li > a");if(b.length==1){var c=b.eq("0").attr("class").match(/_([0-9]+)/i);c&&a.ajaxState.perform("id",c[1])}a("#bar_chart_list_header select[name=type]").change(function(){var b=a(this).children(":selected").attr("value"),c=window.location.pathname+"?task="+b+window.location.hash;window.location.href=c})}),RPM.javascript_for_page("browser_traces index",function(a){var b=function(){var b=a("#text_filter");b.textFilter("destroy").textFilter({tableSelector:"#traces",beforeFilter:function(){a("tfoot").show()},noMatches:function(){a("tfoot").show()},someMatches:function(){a("tfoot").hide()}}),e()},c=function(){a("#text_filter_form:not(:visible)").slideDown()},d=function(){a("#text_filter_form:visible").slideUp()},e=function(){a("#traces tbody tr").length>=7?c():d()},f=function(){if(a("#traces tbody tr").length>1){switch(a("#search_sort_by").val()){case"duration":var b={3:"desc"};break;case"timestamp":var b={0:"desc"};break;case"url":var b={1:"asc"};break;default:var b={3:"desc"}}a("#traces").tableSort({defaultSortOrder:b})}};b(),a("#browser_trace_form").ajaxSuccess(function(){reenableFormButtons("#browser_trace_form"),b(),f()});var g=a("#search_url"),h=a("#searchSortBy"),i=a("#searchParameters");a.ajaxState.register("url",function(a){g.val(a)}),a.ajaxState.register("sort_by",function(a){h.val(a)}),a.ajaxState.register("parameters",function(a){i.val(a)}),a("#browser_trace_form").submit(function(){a.ajaxState.change("url",g.val(),!0,!0),a.ajaxState.change("sort_by",h.val(),!0,!0),a.ajaxState.change("parameters",i.val(),!0,!0)}),a("#search_submit").trigger("submit")}),RPM.javascript_for_page("deployments index",function(a){RPM.bind_table_row_link_events("#deployments_table table")}),RPM.javascript_for_page("enduser_applications",function(a){RPM.renderMap2=function(b,c,d,e){if(typeof b=="undefined"||b==null)b=!1;if(typeof c=="undefined"||c==null)c="";var f=document.getElementById("sort_by");if(f){var g="";d==null?e?g="slowest":g=f.options[f.selectedIndex].value:g=d;var h=a("#add_filter").is(":checked"),i=a("#sort_by option[value='"+g+"']").text().toLowerCase(),j=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/enduser/big_map?"+a.param({map_title:i,region:c,sort_by:g,add_filter:h})),k=a.rpm.chart.getInstance("worldwide_apdex_map");typeof k!="undefined"&&(k.unregister(),k.destroy()),a.get(RPM.URL(j),function(b){a(".big_map_container").html(b)})}},FC_Event=function(b,c,d){c=="rollOver"?a(".bar_chart_list_"+d.value+" + div > p").css("background-color","#338899"):a(".bar_chart_list_"+d.value+" + div > p").css("background-color","#BBEEEE")},triggerDrilldown=function(b){a("#bar_chart_list_column").bar_chart_list("option","cached_ajax_drilldown").load_drilldown(b,null)}}),RPM.javascript_for_page("enduser_applications geographies",function(a){var b=a.getUrlVar("sort_by");RPM.renderMap2(null,null,b,b==null),a("#sort_by").change(function(){RPM.renderMap2(a("#add_filter").is(":checked"),null,null,!1)})}),RPM.javascript_for_page("enduser_applications overview",function(a){var b=a(".main_column, .context_column"),c=b.filter(".current"),d=b.filter(".historical"),e=a("#historical_comparison"),f=e.is(":checked");e.click(function(c){b.toggle(),RPM.guarded_refresh.changeInterval(parseInt(b.filter(":visible").attr("data-refresh-interval"))),a.rpm.chart.renderAll(b.filter(":visible")),a.rpm.highcharts.renderAll(b.filter(":visible")),a.post(RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/enduser/save_historical_comparison_state"),{visible:!!a(this).is(":checked")})});if(c.eq(0).is(":visible")&&f||d.eq(0).is(":visible")&&!f)e[0].checked=!e[0].checked}),RPM.javascript_for_page("enduser_applications regions",function(a){var b=a(".big_map_container"),c=null;b&&(c=b.attr("region"));var d=a.getUrlVar("sort_by");RPM.renderMap2(a("#add_filter:checked"),c,d,d==null),a("#sort_by").change(function(){RPM.renderMap2(a("#add_filter:checked"),c,null,!1)})}),RPM.javascript_for_page("enduser_applications overview",function(a){var b="none",c=!1;a("h1.rum_install_page").length>0&&(b=a("h1.rum_install_page").attr("lang"),setup_ok=a("h1.rum_install_page").attr("setup_ok")=="true",troubleshoot_class=":not(.trouble)",setup_ok?(a(".install_step."+b+".trouble").show(),a("section.rum_intro h2.subsection").hide(),a("section.rum_intro h2.subsection.trouble").show(),troubleshoot_class=".trouble"):a(".install_step."+b+":not(.trouble)").show())}),RPM.javascript_for_page("hosts get_started",function(a){var b=function(){var c=RPM.URL("/accounts/ACCOUNT_ID/servers/get_count.json"),d=function(c){if(c.count==0)setTimeout(function(){b()},15e3);else{a(".install_step.button img.spinner").remove();var d=a(".install_step.button input");d.attr("disabled",""),d.removeClass("disabled_button");var e=a("<div>Active server(s) detected, head to the dashboard &rarr;</div>").html();d.val(e)}};a.get(c,function(a){d(a)}).error(function(){setTimeout(function(){b()},15e3)})},c=function(){a(".install_step.button form div").append("<img class='spinner' src='/images/busy.gif' /> "),b()},d=!1,e="none",f=540;if(a("h1.learn_deploy_heading").length>0){var e=a("h1.learn_deploy_heading").attr("plat");a(".install_instructions.install").height()-130>f&&a("section.taste article").css("height",a(".install_instructions.install").height()-130+"px"),a("#platform_chooser").change(function(){d==!1&&(d=!0,c());var b=a("#platform_chooser").val();a.ajaxState.change("platform",b,!0,!0),a("section.install_instructions .container:visible").slideUp("fast"),a(".container."+b).slideDown("normal",function(){a("section.taste article").css("height",a(".install_instructions.install").height()-100+"px"),a("section.taste article").height()<f&&a("section.taste article").css("height",f+"px")}),e=b}),a(".platforms_table_container table tr:not(.coming-soon)").click(function(){var b=a(this).attr("platform");a("#platform_chooser").val(b).trigger("change"),a(this).parent().find("tr").removeClass("active"),a(this).addClass("active")}),a.ajaxState.register("platform",function(b){a("#platform_chooser").val(b).trigger("change"),a(".platforms_table_container table tr[platform="+b+"]").addClass("active")})}}),RPM.javascript_for_page("hosts index",function(a){var b=[],c=function(b){var c=b.find(".actions .container");c.length==0&&(c=b.find(".actions")),c.prepend('<img src="/images/v3/icon-settings.png" class="trigger" />'),c.find(".trigger").each(function(b,c){a(c).dropdown(a(c).siblings("div.thresholds_dropdown_wrapper"),{closeOnLinkClick:!1,closeButton:!1})})},d=function(b){b.find(".cancel_link a").bind("click",function(){j(a(this).closest("form"))})},e=function(b){b.find(".ignore_checkbox input").each(function(){var b=a(this),c=a(this).parent().parent().find("input.yellow"),d=a(this).parent().parent().find("input.red"),e=function(b){self=a(b),sibling=self.parent().siblings().first().find("input.yellow, input.red"),a_checkbox=self.parent().parent().find(".ignore_checkbox input"),self.val()==""&&sibling.val()==""?a_checkbox.attr("checked",!0):(self.val()!=""||sibling.val()!="")&&a_checkbox.attr("checked",!1)};c.keyup(function(){e(this)}),d.keyup(function(){e(this)}),c.attr("value")==""&&d.attr("value")==""&&a(this).attr("checked",!0)}),b.find("fieldset.threshold_inputs").hover(function(){!!a(this).find(".ignore_checkbox input").is(":checked")}),b.find(".ignore_checkbox input").live("change",function(){a(this).is(":checked")?a(this).parent().parent().find("input.yellow, input.red").attr("value",""):h(a(this).parent().parent())})},f=function(){a("#hosts_dashboard_table").tableSort("destroy").tableSort({textExtraction:D,ajaxState:!0,defaultSortOrder:{0:"desc"},columns:{0:{preferredSortOrder:"desc",sorter:"trafficLightImage"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"desc",sorter:"numericWithUnits"},3:{preferredSortOrder:"desc",sorter:"numericWithUnits"},4:{preferredSortOrder:"desc",sorter:"numericWithUnits"},5:{preferredSortOrder:"desc",sorter:"numericWithUnits"}}})},g=function(b){c(b),b.find("p.errors").length>0?b.find(".jquery-dropdown-trigger").trigger("dropdown"):(k(b),a(".jquery-dropdown-trigger").trigger("dropup"),b.fadeOut("slow",function(){b.fadeIn("slow",function(){b.attr("style","")})})),e(b),d(b),a("#hosts_dashboard_table").trigger("update")},h=function(c){c.find("input[type=text]").each(function(){form_id=a(this).parent().parent().parent().parent().attr("id"),a(this).val(b[form_id][a(this).attr("id")]),a(this).val()==""&&(a(this).hasClass("yellow")?a(this).val(70):a(this).val(90))})},i=function(a){var c=a.closest("form").attr("id");return b[c][a.attr("id")]},j=function(c){c.find(".threshold_inputs input[type=text]").each(function(){var c=a(this),d=c.closest("form").attr("id");c.val(b[d][c.attr("id")])}),c.find("p.errors").remove(),c.find("li.error").removeClass("error"),c.find(".has_errors").removeClass("has_errors"),a(".jquery-dropdown-trigger").trigger("dropup"),c.find(".ignore_checkbox input").each(function(){var b=a(this);b.attr("checked",!1).parent(),input_row_yel=b.parent().parent().find("input.yellow"),input_row_red=b.parent().parent().find("input.red"),input_row_yel.attr("value")==""&&input_row_red.attr("value")==""&&b.attr("checked",!0)})},k=function(c){c.find(".threshold_inputs input[type=text]").each(function(){var c=a(this).closest("form"),d=c.attr("id");typeof b[d]=="undefined"&&(b[d]=[]),b[d][a(this).attr("id")]=a(this).val()})},l=function(b,c,d){var e=b.find("td."+c+" a strong.danger_value"),f=0;e.length<=0&&(e=b.find("td."+c+" a strong.caution_value")),e.length>0&&e.each(function(){the_val=parseInt(a(this).text()),the_val>f&&(f=the_val)}),yellowAndRed=[],f>0&&(incrementBy=5,f>95&&(incrementBy=1),yellowAndRed=[f+incrementBy,f+incrementBy*2],d[c+"_yellow"]=yellowAndRed[0],d[c+"_red"]=yellowAndRed[1])},m=function(){var b={},c=a("#hosts_dashboard_table tbody tr.host_row:visible");l(c,"cpu_col",b),l(c,"io_col",b),l(c,"mem_col",b),l(c,"full_disk_col",b),b.count=c.length;return b},n=function(){thresholds={disk_full_yellow:0,cpu_red:0,disk_full_red:0,disk_io_yellow:0,disk_io_red:0,memory_yellow:0,memory_red:0,cpu_yellow:0},host_rows=a("#hosts_dashboard_table tbody tr.host_row:visible"),host_rows.each(function(){host_thresholds=a.parseJSON(a(this).find("td.cpu_col").attr("host_thresholds")),a.each(host_thresholds,function(a,b){parseInt(host_thresholds[a])>thresholds[a]&&(thresholds[a]=parseInt(b))})});return thresholds},o=function(){a(".hosts_filter_tab form").submit(function(b){b.stopPropagation(),b.preventDefault();var c=a(this),d=c.closest(".actions");disableFormButtons(c),a.post(c.attr("action"),a.param(c.serializeArray()),function(b,d,e){reenableFormButtons(c),d=="success"&&(c.find(".trigger").trigger("dropup"),a("#hidden_servers_container").html(b),s())})})},p=function(){var b=a(".thresholds_dropdown_wrapper.bulk_hosts");b.find("fieldset.threshold_inputs").each(function(c){var d=a(this);if(d.find("a.bulk_row_enable_link").length==0&&!d.hasClass("has_errors")){var e=d.find("ol li.yellow label").text();b.find("#bulk_inputs_disabled").append("<span class='bulk_row_"+c+"'></span>"),b.find("#bulk_inputs_disabled .bulk_row_"+c).html(d.html()),d.html("<a which_field='bulk_row_"+c+"' class='bulk_row_enable_link' href='javascript:void(0)'>Change "+e+"</a>"),d.css("text-align","left").css("padding-left","10px"),d.find("a.bulk_row_enable_link").click(function(){var c=a(this),d=c.parent(),e=c.attr("which_field");d.html(a("#bulk_inputs_disabled span."+e).html()),d.css("text-align","center").css("padding-left","0"),a("#bulk_inputs_disabled span."+e).remove(),b.find("fieldset.buttons").show(),b.find(".img.optional.field").closest("ol").show()})}}),b.find("fieldset.threshold_inputs input").length==0&&(b.find("fieldset.buttons").hide(),b.find(".img.optional.field").closest("ol").hide())},q=function(){var b=a(".thresholds_dropdown_wrapper.bulk_hosts"),c=a("#hosts_dashboard_table tbody tr.host_row:visible");b.find(".visible_hosts_number").text(c.length),r();var d=b.find(".cancel_link a");d.click(function(){p()})},r=function(){var b=a(".thresholds_dropdown_wrapper.bulk_hosts"),c=a("#hosts_dashboard_table tbody tr.host_row:visible"),d="";c.each(function(){d+=a(this).attr("host_id")+", "}),b.find("input#host_ids_array").attr("value",d)},s=function(){reenableFormButtons("form"),a(".jquery-dropdown-trigger").trigger("dropup");var b=a("#hidden_servers_container");if(b.find(".bulk_thresh_title").length>0)a(".thresholds_dropdown_wrapper.bulk_hosts").html(b.html()),b.html(" "),a(".hosts_filter_tab .jquery-dropdown-trigger").trigger("dropdown"),r(),d(a(".hosts_filter_bar")),o(),p();else{var f=a(".thresholds_dropdown_wrapper.bulk_hosts"),g=!1;f.find("p.errors").length>0&&(f.find("p.errors").remove(),f.find("li.error").removeClass("error"),f.find(".has_errors").removeClass("has_errors"),g=!0),a("#hosts_dashboard_table tbody tr.host_row:visible").remove(),a("#hosts_dashboard_table tbody").prepend(b.html()),b.html(" "),c(a("#hosts_dashboard_table tbody tr.host_row:visible")),a("#hosts_dashboard_table tbody tr.host_row:visible").fadeOut("slow",function(){a(this).fadeIn("fast",function(){a(this).attr("style","")})}),k(a("body")),d(a("#hosts_dashboard_table tbody tr.host_row:visible")),e(a("#hosts_dashboard_table tbody")),p(),a("#hosts_dashboard_table").trigger("update")}},t=function(a,b,c,d){var e="#host_thresholds_"+b+"_";typeof d[a+"_yellow"]=="undefined"?(c.find(e+"yellow_input").hide(),c.find(e+"red_input").hide()):(c.find(e+"yellow_input").show(),c.find(e+"red_input").show(),c.find(e+"yellow").attr("value",d[a+"_yellow"]),c.find(e+"red").attr("value",d[a+"_red"]))};a("#hosts_dashboard_table .thresholds_dropdown_wrapper form").livequery("submit",function(b){b.stopPropagation(),b.preventDefault();var c=a(this),d=c.closest("tr");disableFormButtons(c),a.post(c.attr("action"),a.param(c.serializeArray()),function(a,b,e){reenableFormButtons(c),b=="success"&&(d.find(".trigger").trigger("dropup"),d.html(a),g(d))})}),o(),d(jQuery("body .actions"));if(a("#hosts").length==1){var u=a("#hosts"),v=a("#hosts_content_table table.section thead tr"),w=a("#hosts_content_breakout h2.section"),x=v.is(":visible")?v:w,y=x.find(".wedge"),z=x.position(),A=y.position(),B=z.top,C=A.left;u.css({position:"absolute",top:B+"px",left:C+"px"}).show(),u.find("li.table").tooltip("View table of hosts",{position:"above",hShift:-10}),u.find("li.breakout").tooltip("Breakout each metric by host",{position:"above",hShift:-10})}a("#hosts li.breakout a").bind("tabchange",function(){a.rpm.chart.renderAll("#hosts_content_breakout"),a.rpm.highcharts.renderAll("#hosts_content_breakout")}),a("#text_filter").textFilter({cellSelector:"tr td:nth-child(2)",ajaxState:!0,someMatches:function(){q(),k(jQuery("#app_filter_container")),a("#hosts_dashboard_table").trigger("sortStart")},noMatches:function(){a("#hosts_dashboard_table").trigger("sortStart")}}),a("#application_name .application_dropdown li").length>0&&a("#application_name > h3").dropdown("#application_name .application_dropdown",{closeOnLinkClick:!1,closeButton:!1,setMaxHeight:!0,maxHeightPadding:16}),c(a("#app_filter_container")),c(a("#hosts_dashboard_table")),q(),k(jQuery("table#hosts_dashboard_table")),k(jQuery(".hosts_filter_tab")),e(jQuery("body")),p();var D=function(b){var c=a(b),d=c.find("a").eq(0);if(c.is(":first-child"))return c.html();if(a(b).is(":last-child"))return"";return d.length>0?d.text():c.text()};f(),a(".bulk_inputs li.threshold_input").hover(function(){a("td."+a(this).attr("col_class")).css("background-color","#EEFFFF")},function(){a("td."+a(this).attr("col_class")).css("background","none")}),a("#app_filter_container img.trigger").attr("data-manual-tooltip","Change thresholds for all visible servers").tipsy({title:"data-manual-tooltip",gravity:"s",trigger:"manual"}),a("#hosts_dashboard_table .actions .trigger").bind("dropdown",function(){a("#app_filter_container .actions .trigger").tipsy("show")}).bind("dropup",function(){a("#app_filter_container .actions .trigger").tipsy("hide")});var E="/accounts/ACCOUNT_ID/servers/ID",F=a("table");a("a.delete_link",F).click(function(b){var c=a(this),d=c.closest("td"),e=d.parent(),f=e.parent(),g=e.attr("id").match(/host_([0-9]+)/)[1],h=a.trim(e.find("h3 a").not("a.icon_link").text()),i=d.children("img");confirm("Are you sure you want to delete '"+h+"'?")&&(i.addClass("spinner").attr("src",a(RPM.SPINNER).attr("src")),c.hasClass("to_spinner")&&c.replaceWith(RPM.SPINNER),a.post(RPM.URL(E,{id:g}),{_method:"delete"},function(){e.remove()})),b.preventDefault(),b.stopPropagation()})}),RPM.javascript_for_page("hosts list",function(a){a("input#filter_Filter").focus().textFilter({tableSelector:"#names",rowSelector:".server",cellSelector:"a"})}),RPM.javascript_for_page("processes index",function(a){a("#bar_chart_list_column").bind("afterGraphLoad",function(){a("table td:nth-child(2)",this).append(RPM.SPINNER),a("table",this).tableSort({ajaxState:!0,defaultSortOrder:{4:"desc"},columns:{0:{preferredSortOrder:"asc"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"desc",sorter:"numericWithUnits"},3:{preferredSortOrder:"desc",sorter:"numericWithUnits"},4:{preferredSortOrder:"desc",sorter:"memoryWithUnits"}}})})}),RPM.javascript_for_page("hosts show",function(a){var b=function(b){return a(b).find("span.sort_txt").length>0?a(b).find("span.sort_txt").text():a(b).text()},c=function(b){a("#"+(b||"process_table")+" tbody tr:nth-child(n+6)").toggle()},d=function(b){a("#"+(b||"process_table")+" tbody tr:nth-child(n+6)").hide()},e=function(b){a("#"+(b||"process_table")+" tbody tr:hidden").show()},f=function(b){return a("#"+(b||"process_table")+" tbody tr:nth-child(6):visible").length==0},g=function(b){return a("#"+(b||"process_table")+" tbody tr").length},h=!0;d("process_table"),a("tr#show_more td a").click(function(){c(a(this).closest("table").attr("id"))}).toggle(function(){a(this).html("hide "+(g(a(this).closest("table").attr("id"))-5))},function(){a(this).html(g(a(this).closest("table").attr("id"))-5+" more&hellip;")}),a("#process_table").bind("sortStart",function(a){h=f(),h&&e("process_table")}).bind("sortStop",function(a){h&&setTimeout(d,1)}).tableSort({textExtraction:b,ajaxState:!0,columns:{0:{preferredSortOrder:"asc"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"desc"},3:{preferredSortOrder:"desc"},4:{preferredSortOrder:"desc"}}})}),RPM.javascript_for_page("instances index",function(a){var b="/accounts/ACCOUNT_ID/applications/APPLICATION_ID/instances/METRIC_ID",c=a.cached_ajax("instance",{url:b,element_regexp:/instance_(\d+)/i,list_selector:"#instances",list_element:"tr"});a("td.agent a","table#instances").each(function(){c.setup_drilldown(a(this))}),a.ajaxState.register("id",function(a){c.load_drilldown(a,null)},RPM.default_instance_memory_id),RPM.bind_table_row_link_events("table#instances")}),jQuery.cookie=function(a,b,c){if(arguments.length>1&&String(b)!=="[object Object]"){c=jQuery.extend({},c);if(b===null||b===undefined)c.expires=-1;if(typeof c.expires=="number"){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}b=String(b);return document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?g(f[1]):null};var FORMALIZE=function(a,b,c,d){var e="placeholder"in c.createElement("input"),f="autofocus"in c.createElement("input"),g="webkitAppearance"in c.createElement("select").style,h=!!a.browser.msie&&parseInt(a.browser.version,10)===6,i=!!a.browser.msie&&parseInt(a.browser.version,10)===7;return{go:function(){for(var a in FORMALIZE.init)FORMALIZE.init[a]()},init:{detect_webkit:function(){!g||a("html").addClass("is_webkit")},full_input_size:function(){!!i&&!!a("textarea, input.input_full").length&&a("textarea, input.input_full").wrap('<span class="input_full_wrap"></span>')},ie6_skin_inputs:function(){if(!!h&&!!a("input, select, textarea").length){var b=/button|submit|reset/,c=/date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;a("input").each(function(){var d=a(this);this.getAttribute("type").match(b)?(d.addClass("ie6_button"),this.disabled&&d.addClass("ie6_button_disabled")):this.getAttribute("type").match(c)&&(d.addClass("ie6_input"),this.disabled&&d.addClass("ie6_input_disabled"))}),a("textarea, select").each(function(){this.disabled&&a(this).addClass("ie6_input_disabled")})}},autofocus:function(){!f&&!!a(":input[autofocus]").length&&a(":input[autofocus]:visible:first").focus()},placeholder:function(){!e&&!!a(":input[placeholder]").length&&(FORMALIZE.misc.add_placeholder(),a(":input[placeholder]").each(function(){var b=a(this),c=b.attr("placeholder");b.focus(function(){b.val()===c&&b.val("").removeClass("placeholder_text")}).blur(function(){FORMALIZE.misc.add_placeholder()}),b.closest("form").submit(function(){b.val()===c&&b.val("").removeClass("placeholder_text")}).bind("reset",function(){setTimeout(FORMALIZE.misc.add_placeholder,50)})}))}},misc:{add_placeholder:function(){!e&&!!a(":input[placeholder]").length&&a(":input[placeholder]").each(function(){var b=a(this),c=b.attr("placeholder");(!b.val()||b.val()===c)&&b.val(c).addClass("placeholder_text")})}}}}(jQuery,this,this.document);jQuery(document).ready(function(){FORMALIZE.go()}),function(a){a.widget("rpm.textFilter",a.rpm.component({options:{tableSelector:"table",cellSelector:"tbody tr td",rowSelector:"tbody tr",hiddenClass:"hidden",allowRegexp:!1,ajaxState:!1,ajaxStateKey:"filter",beforeFilter:function(a){},noMatches:function(a){},someMatches:function(a){}},component:"rpm.textFilter",_create:function(){var b=this;b.options.element=b.element,b.options.table=a(b.options.tableSelector),b.log("options",b.options),b.log("element",b.element),b.element.bind("beforeFilter",b.options.beforeFilter),b.element.bind("noMatches",b.options.noMatches),b.element.bind("someMatches",b.options.someMatches),b.element.bind("keyup",b.options,b._filterFunc).trigger("keyup"),b.element.bind("click",b.options,b._filterFunc),b.element.bind("keydown",b._trapReturns),b.options.ajaxState&&a.ajaxState.register(b.options.ajaxStateKey,function(a){b.options.element.val(a).trigger("keyup")}),b.log("initialized:",b)},_filterFunc:function(b){var c=this,d=b.data;if(d.element.val().length>=1){if(d.allowRegexp){var e=d.element.val();e.charAt(0)=="^"&&(e=e.substring(1)),e.charAt(e.length-1)=="$"&&(e=e.substring(0,e.length-1));var f=new RegExp(e)}else var f=new RegExp(d.element.val(),"i");a(d.rowSelector,d.table).addClass(d.hiddenClass),a(d.cellSelector,d.table).filter(function(b){return a(this).text().match(f)}).parent().removeClass(d.hiddenClass),d.element.trigger("beforeFilter"),d.table.each(function(){a(d.rowSelector).filter(":not(."+d.hiddenClass+")",this).length>0?d.element.trigger("someMatches"):d.element.trigger("noMatches")})}else a(d.rowSelector,d.table).filter("."+d.hiddenClass).removeClass(d.hiddenClass),d.element.trigger("someMatches");d.ajaxState&&a.ajaxState.change(d.ajaxStateKey,d.element.val(),!0,!0)},_trapReturns:function(a){a&&a.keyCode=="13"&&(a.preventDefault(),a.stopPropagation())},clearSearch:function(){this.options.element.val("").trigger("keyup").focus()},destroy:function(){this.options.element.unbind("beforeFilter").unbind("noMatches").unbind("someMatches").unbind("keyup").unbind("click").unbind("keydown").textFilter=null,this.options={},a.Widget.prototype.destroy.apply(this)}}))}(jQuery),RPM.javascript_for_page("notes show",function(a){twttr.anywhere(function(a){a.hovercards()}),RPM.can_create_notes===!0&&(a(".note_item .content a").click(function(a){a.stopPropagation();return!0}),a.ajaxState.register("tweet",function(a){a==="chart"?(RPM.lightbox.open_for_url(RPM.URL("/accounts/ACCOUNT_ID/notes/NOTE_ID/make_public?tweet=true&for=chart")),window.location.hash=""):a==="true"&&(RPM.lightbox.open_for_url(RPM.URL("/accounts/ACCOUNT_ID/notes/NOTE_ID/make_public?tweet=true")),window.location.hash="")}),a.ajaxState.register("go_back",function(b){if(b==="true"){var c=a("p.context_link a").attr("href")||"/",d=a("<span> Feel free to add details to what you tweeted below or <a/>.</span>");d.find("a").attr("href",c).text("go back to what you were doing"),d.appendTo(".flash.notice:first p:last"),window.location.hash=""}}))}),RPM.javascript_for_page("long_term_trends index",function(a){function b(){jQuery.get(load_chart_url,{quarter_start_date:jQuery("#quarter_start_date").val()})}jQuery("#report_wrapper").ajaxError(function(a,b,c){jQuery(this).html("<p class='error'>Report generation failed. We have been notified of the issue and are investigating. Your patience is appreciated. Please <a href='javascript:location.reload();'>refresh the page</a> to try again.</p>")}),jQuery(document).ready(function(){b(),jQuery("#quarter_start_date").datepicker({dateFormat:"yy-M-dd"}),jQuery("form.clear").live("submit",function(){jQuery("#time_window_submit_button").val("Loading...").attr("disabled","disabled"),jQuery("#report_wrapper").slideUp(600,function(){jQuery("#report_wrapper").html('<p class="loading">'+RPM.SPINNER+" Generating report&hellip;</p>").slideDown(),b()});return!1})})}),RPM.javascript_for_page("optimizations index",function(a){a("ul.menu").not(".evented").addClass("evented").find("li h3 a:first-child").each(function(){var b=a(this);b.closest("li").addClass("drilldown").click(function(a){a.target!=b[0]&&(window.location=b.attr("href"))})})}),RPM.javascript_for_page("scalability_analysis index",function(a){a("#metric").bind("tabchange",function(){a("#color_legend").show()})}),RPM.javascript_for_page("profiles index",function(a){RPM.bind_table_row_link_events("table#profiles");var b=a("#profiler_status"),c=b.children(".container"),d,e=["start_profiler","scheduled","running","cancelled","done","timeout_error","error"],f,g=function(a){if(a.type=="done")window.location=window.location.pathname;else if(d!=a.type||a.type=="start_profiler")c.html(a.html),h(a);else if(a.type=="running"){c.find(".status_progressbar").progressbar("option","value",Math.round(a.remaining_percentage));var b=a.remaining_minutes;b!==undefined&&(b<=0?b=" &mdash; less than a minute remaining":b=" &mdash; "+b+" minute"+(b=="1"?"":"s")+" remaining",c.find("span.remaining").html(b))}},h=function(b){d=b.type,clearInterval(f);if(b.type=="scheduled"||b.type=="running"){i(),f=setInterval(i,15e3);var g=b.type=="scheduled"?100:0;c.find(".status_progressbar").progressbar({value:g})}else b.type=="start_profiler"&&j();a.each(e,function(a,b){c.find("a."+b+"_link").click(function(a){clearInterval(f),d=undefined,c.cover("dark"),i(b,function(){c.uncover()}),a.preventDefault()})})},i=function(b,c){var b=b||d||"start_profiler";if(b=="start_profiler")var e=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/profiles/new");else var e=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/profiles/PROFILE_ID/status");if(c)var f=function(a){g(a),c(a)};else var f=g;var h={};d&&(h.current_type=d),a.get(e,h,f,"json")},j=function(){var b=a("#profiler_status .duration_value"),d=a("#profiler_status #profile_duration"),e=a("#profiler_status .duration_slider");e.addClass("standard").slider({min:2,max:10,value:5,slide:function(a,c){var d=c.value.toString();b.html(d+" minute"+(d=="1"?"":"s"))},change:function(a,b){d.attr("value",b.value)}});var f=a("#profiler_status #jvm_selector"),h=f.find("tr"),i=f.find('input[type="radio"]');h.find("td:last-child").addClass("last"),i.filter(":checked").closest("tr").addClass("selected"),i.change(function(b){h.removeClass("selected"),a(this).closest("tr").addClass("selected")}),h.find("td").click(function(b){i.attr("checked",!1);var c=a(this).parent().find('input[type="radio"]');c.triggerHandler("change"),c.attr("checked",!0)});var j=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/profiles");a("form#start_profiler a.submit_button").click(function(b){var d=a(this).closest("form");c.cover("dark"),a.post(j,d.serialize(),function(a){RPM.context.profile_id=a.profile_id,g(a),c.uncover()},"json"),b.preventDefault()})};h({type:RPM.profile_status_type||"start_profiler"})}),RPM.javascript_for_page("profiles show",function(a){a(".profile_tree .collapsed_node .show_link, .profile_tree .collapsed_node .hide_link").live("click",function(){var b=a(this).closest(".collapsed_node"),c=b.next(".collapsed_nodes_block"),d=b.find(".show_link, .hide_link");d.toggle(),c.toggle();return!1}),a.browser.msie&&a("form input[type=submit], form button").live("click",function(){a(this).parents("form").trigger("submit_ie");return!1});var b=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/profiles/PROFILE_ID/tree");a("form.tree_controls").live("submit submit_ie",function(c){var d=a(this),e="#"+d.attr("id");form_data=d.serialize(),tree_container=a(e.replace(/_form$/,"_profile_tree_container")),RPM.form_helper.disable_fieldset(e),tree_container.cover(),a.post(b,form_data,function(a){tree_container.empty().append(a),tree_container.uncover(),RPM.form_helper.reenable_fieldset(e),reenableFormButtons(e)}),c.preventDefault()})}),function(a){RPM.event_list={initialize:function(){var b=new RegExp(["all","note","deployment","incident","caution","alert","downtime","profile","settings"].join("|"),"ig");a(".event_list").each(function(){var c=a(this),d=c.find("ul.buttons");if(d.length<1)return!0;createTipsyTooltips(c),d.buttons({currentSelection:"all",deselectable:!0,click:function(d){var e=a(this),f=e.attr("class");c.find("ol > li").show();if(f.match(/selected/i)&&!f.match(/all/i)){var f=f.match(b);f=a.isArray(f)?a.trim(f[0]):"",c.find(".by_day_list").hide(),c.find(".by_type_list").hide(),c.find("."+f+"_list").show(),a.ajaxState.change("$event_list",f)}else f.match(/selected/i)&&f.match(/all/i)?a.ajaxState.change("event_list","all"):a.ajaxState.perform("event_list","all"),c.find(".by_day_list").show(),c.find(".by_type_list").hide()}}),a.ajaxState.register("event_list",function(a){if(a===""||a==null)a="all";d.buttons("value",a)},"all"),c.css("min-height",c.outerHeight(!0)+"px")})}}}(jQuery),RPM.javascript_for_page("sessions",function(a){a("#login_email").focus(),RPM.lightbox.for_selector("a[rel=lightbox]"),RPM.lightbox.videos_for_selector("a[rel=lightbox_video]")}),RPM.javascript_for_page("solr",function(a){RPM.bind_sore_core_select=function(b){var c=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/ACTION_NAME?core=CORE",{action_name:b});a("select#solr_core").change(function(b){var d=a(b.target).val();window.location=RPM.URL(c,{core:d})})}}),RPM.javascript_for_page("solr caches",function(a){RPM.bind_sore_core_select("solr_caches")}),RPM.javascript_for_page("solr updates",function(a){RPM.bind_sore_core_select("solr_updates")}),RPM.javascript_for_page("sql_traces index",function(a){a("#traces").tableSort({defaultSortOrder:{1:"desc"},columns:{0:{preferredSortOrder:"asc"},1:{preferredSortOrder:"desc",sorter:"numericWithUnits"},2:{preferredSortOrder:"desc",sorter:"numericWithSeparator"}}}),a("pre.sql a").sql_highlighter(),a("input#text_filter").focus()}),RPM.javascript_for_page("sql_traces show",function(a){a("pre.sql").sql_highlighter(),a(".stack_trace.full").hide(),a("#st_toggle").click(function(b){var c=a(this);a(".stack_trace.full").toggle(),a(".stack_trace.partial").toggle(),c.text()=="Show Rails"?c.text("Hide Rails"):c.text("Show Rails"),b.preventDefault()}),a(".sql_full").hide(),a(".expando").click(function(){a(this).text()=="Show full statement"?a(this).text("Collapse"):a(this).text("Show full statement"),a(".sql_full").toggle(),a(".sql_preview").toggle()})});var swfobject=function(){function O(a){var b=/[\\\"<>\.;]/,c=b.exec(a)!=null;return c?encodeURIComponent(a):a}function N(a,b){var c=b?"visible":"hidden";r&&I(a)?I(a).style.visibility=c:M("#"+a,"visibility:"+c)}function M(c,d){if(!t.ie||!t.mac){var e=h.getElementsByTagName("head")[0],f=J("style");f.setAttribute("type","text/css"),f.setAttribute("media","screen"),(!t.ie||!t.win)&&typeof h.createTextNode!=a&&f.appendChild(h.createTextNode(c+" {"+d+"}")),e.appendChild(f);if(t.ie&&t.win&&typeof h.styleSheets!=a&&h.styleSheets.length>0){var g=h.styleSheets[h.styleSheets.length-1];typeof g.addRule==b&&g.addRule(c,d)}}}function L(a){var b=t.pv,c=a.split(".");c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0;return b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function K(a,b,c){a.attachEvent(b,c),m[m.length]=[a,b,c]}function J(a){return h.createElement(a)}function I(a){var b=null;try{b=h.getElementById(a)}catch(c){}return b}function H(a){var b=I(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function G(a){var b=I(a);b&&(b.nodeName=="OBJECT"||b.nodeName=="EMBED")&&(t.ie&&t.win?b.readyState==4?H(a):g.attachEvent("onload",function(){H(a)}):b.parentNode.removeChild(b))}function F(a,b,c){var d=J("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function E(c,d,f){var g,h=I(f);if(h){typeof c.id==a&&(c.id=f);if(t.ie&&t.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=' class="'+c[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var m in d)d[m]!=Object.prototype[m]&&(k+='<param name="'+m+'" value="'+d[m]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",l[l.length]=c.id,g=I(c.id)}else if(t.webkit&&t.webkit<312){var n=J("embed");n.setAttribute("type",e);for(var o in c)c[o]!=Object.prototype[o]&&(o.toLowerCase()=="data"?n.setAttribute("src",c[o]):o.toLowerCase()=="styleclass"?n.setAttribute("class",c[o]):o.toLowerCase()!="classid"&&n.setAttribute(o,c[o]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&n.setAttribute(p,d[p]);h.parentNode.replaceChild(n,h),g=n}else{var q=J(b);q.setAttribute("type",e);for(var r in c)c[r]!=Object.prototype[r]&&(r.toLowerCase()=="styleclass"?q.setAttribute("class",c[r]):r.toLowerCase()!="classid"&&q.setAttribute(r,c[r]));for(var s in d)d[s]!=Object.prototype[s]&&s.toLowerCase()!="movie"&&F(q,s,d[s]);h.parentNode.replaceChild(q,h),g=q}}return g}function D(a){var c=J("div");if(t.win&&t.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function C(a){if(t.ie&&t.win&&a.readyState!=4){var b=J("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(D(a),b),a.style.display="none";var c=function(){a.parentNode.removeChild(a)};K(g,"onload",c)}else a.parentNode.replaceChild(D(a),a)}function B(a){s=!0;var b=I(a.id);if(b){if(a.altContentId){var c=I(a.altContentId);c&&(p=c,q=a.altContentId)}else p=D(b);!/%$/.test(a.width)&&parseInt(a.width,10)<310&&(a.width="310"),!/%$/.test(a.height)&&parseInt(a.height,10)<137&&(a.height="137"),h.title=h.title.slice(0,47)+" - Flash Player Installation";var d=t.ie&&t.win?"ActiveX":"PlugIn",e=h.title,i="MMredirectURL="+g.location+"&MMplayerType="+d+"&MMdoctitle="+e,j=a.id;if(t.ie&&t.win&&b.readyState!=4){var k=J("div");j+="SWFObjectNew",k.setAttribute("id",j),b.parentNode.insertBefore(k,b),b.style.display="none";var l=function(){b.parentNode.removeChild(b)};K(g,"onload",l)}E({data:a.expressInstall,id:f,width:a.width,height:a.height},{flashvars:i},j)}}function A(a){var c=a.getElementsByTagName(b)[0];if(c){var d=J("embed"),e=c.attributes;if(e){var f=e.length;for(var g=0;g<f;g++)e[g].nodeName=="DATA"?d.setAttribute("src",e[g].nodeValue):d.setAttribute(e[g].nodeName,e[g].nodeValue)}var h=c.childNodes;if(h){var i=h.length;for(var j=0;j<i;j++)h[j].nodeType==1&&h[j].nodeName=="PARAM"&&d.setAttribute(h[j].getAttribute("name"),h[j].getAttribute("value"))}a.parentNode.replaceChild(d,a)}}function z(){var a=k.length;for(var b=0;b<a;b++){var c=k[b].id;if(t.pv[0]>0){var d=I(c);d&&(k[b].width=d.getAttribute("width")?d.getAttribute("width"):"0",k[b].height=d.getAttribute("height")?d.getAttribute("height"):"0",L(k[b].swfVersion)?(t.webkit&&t.webkit<312&&A(d),N(c,!0)):k[b].expressInstall&&!s&&L("6.0.65")&&(t.win||t.mac)?B(k[b]):C(d))}else N(c,!0)}}function y(b){if(typeof g.addEventListener!=a)g.addEventListener("load",b,!1);else if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof g.attachEvent!=a)K(g,"onload",b);else if(typeof g.onload=="function"){var c=g.onload;g.onload=function(){c(),b()}}else g.onload=b}function x(a){r?a():j[j.length]=a}function w(){if(!r){if(t.ie&&t.win){var a=J("span");try{var b=h.getElementsByTagName("body")[0].appendChild(a);b.parentNode.removeChild(b)}catch(c){return}}r=!0,o&&(clearInterval(o),o=null);var d=j.length;for(var e=0;e<d;e++)j[e]()}}function v(){n.readyState=="complete"&&(n.parentNode.removeChild(n),w())}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g=window,h=document,i=navigator,j=[],k=[],l=[],m=[],n,o=null,p=null,q=null,r=!1,s=!1,t=function(){var f=typeof h.getElementById!=a&&typeof h.getElementsByTagName!=a&&typeof h.createElement!=a,j=[0,0,0],k=null;if(typeof i.plugins!=a&&typeof i.plugins[c]==b)k=i.plugins[c].description,k&&(typeof i.mimeTypes==a||!i.mimeTypes[e]||!!i.mimeTypes[e].enabledPlugin)&&(k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),j[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10),j[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10),j[2]=/r/.test(k)?parseInt(k.replace(/^.*r(.*)$/,"$1"),10):0);else if(typeof g.ActiveXObject!=a){var l=null,m=!1;try{l=new ActiveXObject(d+".7")}catch(n){try{l=new ActiveXObject(d+".6"),j=[6,0,21],l.AllowScriptAccess="always"}catch(n){j[0]==6&&(m=!0)}if(!m)try{l=new ActiveXObject(d)}catch(n){}}if(!m&&l)try{k=l.GetVariable("$version"),k&&(k=k.split(" ")[1].split(","),j=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)])}catch(n){}}var o=i.userAgent.toLowerCase(),p=i.platform.toLowerCase(),q=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,r=!1,s=p?/win/.test(p):/win/.test(o),t=p?/mac/.test(p):/mac/.test(o);return{w3cdom:f,pv:j,webkit:q,ie:r,win:s,mac:t}}(),u=function(){if(!!t.w3cdom){x(z);if(t.ie&&t.win)try{h.write("<script id=__ie_ondomload defer=true src=//:></script>"),n=I("__ie_ondomload"),n&&K(n,"onreadystatechange",v)}catch(b){}t.webkit&&typeof h.readyState!=a&&(o=setInterval(function(){/loaded|complete/.test(h.readyState)&&w()},10)),typeof h.addEventListener!=a&&h.addEventListener("DOMContentLoaded",w,null),y(w)}}(),P=function(){t.ie&&t.win&&window.attachEvent("onunload",function(){var a=m.length;for(var b=0;b<a;b++)m[b][0].detachEvent(m[b][1],m[b][2]);var c=l.length;for(var d=0;d<c;d++)G(l[d]);for(var e in t)t[e]=null;t=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c){if(!(!t.w3cdom||!a||!b)){var d={};d.id=a,d.swfVersion=b,d.expressInstall=c?c:!1,k[k.length]=d,N(a,!1)}},getObjectById:function(c){var d=null;if(t.w3cdom){var e=I(c);if(e){var f=e.getElementsByTagName(b)[0];!f||f&&typeof e.SetVariable!=a?d=e:typeof f.SetVariable!=a&&(d=f)}}return d},embedSWF:function(c,d,e,f,g,h,i,j,k){if(!(!t.w3cdom||!c||!d||!e||!f||!g)){e+="",f+="";if(L(g)){N(d,!1);var l={};if(k&&typeof k===b)for(var m in k)k[m]!=Object.prototype[m]&&(l[m]=k[m]);l.data=c,l.width=e,l.height=f;var n={};if(j&&typeof j===b)for(var o in j)j[o]!=Object.prototype[o]&&(n[o]=j[o]);if(i&&typeof i===b)for(var p in i)i[p]!=Object.prototype[p]&&(typeof n.flashvars!=a?n.flashvars+="&"+p+"="+i[p]:n.flashvars=p+"="+i[p]);x(function(){E(l,n,d),l.id==d&&N(d,!0)})}else h&&!s&&L("6.0.65")&&(t.win||t.mac)&&(s=!0,N(d,!1),x(function(){var a={};a.id=a.altContentId=d,a.width=e,a.height=f,a.expressInstall=h,B(a)}))}},getFlashPlayerVersion:function(){return{major:t.pv[0],minor:t.pv[1],release:t.pv[2]}},hasFlashPlayerVersion:L,createSWF:function(a,b,c){return t.w3cdom?E(a,b,c):undefined},removeSWF:function(a){t.w3cdom&&G(a)},createCSS:function(a,b){t.w3cdom&&M(a,b)},addDomLoadEvent:x,addLoadEvent:y,getQueryParamValue:function(a){var b=h.location.search||h.location.hash;if(a==null)return O(b);if(b){var c=b.substring(1).split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return O(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(s&&p){var a=I(f);a&&(a.parentNode.replaceChild(p,a),q&&(N(q,!0),t.ie&&t.win&&(p.style.display="block")),p=null,q=null,s=!1)}}}}();RPM.javascript_for_page("target_downtime_events index",function(a){a("#availability ul li").click(function(b){var c=a(this),d=c.attr("data-type"),e=a("#target_downtime_filter_threshold").val(),f=a("#target_downtime_filter_show_ignored").val();window.location.search="?target_downtime_filter[ctw]="+d+"&target_downtime_filter[threshold]="+e+"&target_downtime_filter[show_ignored]="+f})}),RPM.javascript_for_page("traced_errors index",function(a){var b=function(){if(a("#errors tbody tr").length>3){switch(a("#search_sort_by").val()){case"timestamp":var b={0:"desc"};break;case"message":var b={2:"asc"};break;case"action_name":var b={1:"asc"};break;case"total_count":var b={3:"desc"};break;default:var b={0:"desc"}}a("#errors").tableSort({defaultSortOrder:b,columns:{0:{preferredSortOrder:"desc"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"asc"},3:{preferredSortOrder:"desc",sorter:"numericWithSeparator"}}})}};b()}),RPM.javascript_for_page("transaction_traces index",function(a){var b=function(){if(a("#traces tbody tr").length>1){switch(a("#search_sort_by").val()){case"duration":var b={2:"desc"};break;case"timestamp":var b={0:"desc"};break;case"path":var b={1:"asc"};break;default:var b={2:"desc"}}a("#traces").tableSort({defaultSortOrder:b,columns:{0:{preferredSortOrder:"desc"},1:{preferredSortOrder:"asc"},2:{preferredSortOrder:"desc",sorter:"numericWithSeparator"},3:{preferredSortOrder:"desc",sorter:"numericWithSeparator"}}})}};a("#transaction_trace_form").ajaxSuccess(b);var c=a("#search_name"),d=a("#search_type"),e=a("#search_sort_by"),f=a("#search_parameters");a.ajaxState.register("name",function(a){c.val(a)}),a.ajaxState.register("type",function(a){d.val(a)}),a.ajaxState.register("sort_by",function(a){e.val(a)}),a.ajaxState.register("parameters",function(a){f.val(a)}),a("#transaction_trace_form").submit(function(){a.ajaxState.change("name",c.val(),!0,!0),a.ajaxState.change("type",d.val(),!0,!0),a.ajaxState.change("sort_by",e.val(),!0,!0),a.ajaxState.change("parameters",f.val(),!0,!0)}),a("#search_submit").trigger("submit")}),RPM.javascript_for_page("transaction_traces show",function(a){a("#trace_details_table").tableTree({expandAllButton:"#trace_details_expand_all",collapseAllButton:"#trace_details_collapse_all"});var b=a("code.sql"),c={max_length:600,more:"[see the rest&hellip;]",less:"[see less]"};b.size()<100&&b.truncate(c);var d=a("tr:has(strong.caution_value), tr:has(strong.danger_value)","#trace_details_table"),e=function(b,c){var d=c.attr("data-parent");if(d&&d.length>0){var f=a("#"+d+":not(.expanded)").eq(0);f.length>0&&(f.trigger("nodeExpand"),e(0,f))}};d.each(function(b,c){e(b,a(c))});var f=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/transaction_traces/TRANSACTION_TRACE_ID/show_sql_inline?segment=SEGMENT_ID&use_presenter=true"),g=function(b,d,e){var h=a(this),i=h.attr("id").match(/segment_([_0-9]+)/i)[1],j=d.find("#segment_row_"+i);j.length==0&&(j=a(this).closest("tr"));var k=j.attr("data-sql_id"),l="segment_sql_explain_"+k,m=d.find("."+l),n=m.closest("tr");if(m.length>0)m.is(":visible")||(n.addClass("visible"),j.addClass("sql_explain_open")),m.slideToggle(400,function(a){m.is(":visible")||(j.removeClass("sql_explain_open"),n.removeClass("visible"))});else{n=a('<tr class="sql_explain_panel detail_row"><td colspan="'+j.children().length+'"><div class="container '+l+'"> Fetching details&hellip;</div></td></tr>'),n.addClass("visible"),m=n.find("div").addClass("loading");var o=RPM.URL(f,{segment_id:k});e||(o+="&hide_sql=true"),o=o.replace(/#(.*)$/,""),j.addClass("sql_explain_open").after(n),m.prepend(RPM.SPINNER).load(o,"",function(b,f,i){RPM.stackTrace(),m.removeClass("loading").find("h3.plain").bind_close_button(function(a){g.apply(h,[a,d,e])}),a("code.sql",m).sql_highlighter().truncate(c)})}b.preventDefault(),b.stopPropagation()};a("table td a.detail_drilldown_link").live("click",function(b){var c=a(this),d=c.closest("table"),e=d.attr("id")=="trace_details_table",f=c.closest("tr");!f.hasClass("expanded")&&f.attr("id")!=c.attr("id").replace("segment_","segment_row_")&&f.trigger("nodeExpand"),g.apply(this,[b,d,e])}),RPM.tt_toggler={toggle_query:function(a){var b=a.find(".container"),c=a.prevAll("tr.branch").first(),d=a.prev("tr");b.is(":visible")?RPM.tt_toggler._collapse_div(b,a,d):(RPM.tt_toggler._expand_parent(c),RPM.tt_toggler._expand_div(b,a))},collapse_query:function(a){var b=a.find(".container"),c=a.prevAll("tr.branch").first(),d=a.prev("tr");RPM.tt_toggler._collapse_div(b,a,d)},_expand_parent:function(a){a.hasClass("expanded")||a.trigger("nodeExpand")},_expand_div:function(a,b){a.hide(),b.addClass("visible"),a.slideDown("fast")},_collapse_div:function(a,b,c){a.slideUp("fast",function(){b.removeClass("visible"),c.removeClass("sql_explain_open")})}},a("#trace_details_table a.detail_link").live("click",function(b){RPM.tt_toggler.toggle_query(a(this).closest("tr").nextAll(".detail_row").first()),b.preventDefault(),b.stopPropagation()}),a("#trace_details_table tr.detail_row h4.subsection a.close, #trace_sql_table tr.detail_row h4.subsection a.close, #trace_details_table tr.detail_row h3.plain").live("click",function(b){RPM.tt_toggler.toggle_query(a(this).closest("tr")),b.preventDefault()}),a("#trace_details_table a.toggle_closed, #trace_sql_table a.toggle_closed").live("click",function(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=c.closest("tr").attr("class").match(/depth_\d+/,"")[0],e=parseInt(d.split("_")[1]),f=c.closest("tr").nextAll("tr");f.each(function(){var b=a(this),c=b.attr("class").match(/depth_\d+/)[0].split("_")[1];if(e>=c&&b.hasClass("node"))return!1;b.is(":visible")&&RPM.tt_toggler.collapse_query(b)})}),a("#trace_details_table .rollup:not(.loading) a.node_toggler").live("click",function(b){b.preventDefault(),b.stopPropagation();var c=a(this),d=c.closest("tr"),e=d.prev("tr:visible"),f="#"+d.next("tr:visible").attr("id"),g=d.attr("id").replace("segment_row_",""),h=d.attr("data-parent"),i=RPM.URL("/accounts/ACCOUNT_ID/applications/APPLICATION_ID/transaction_traces/TRANSACTION_TRACE_ID/expand_node"),j=c.parent().html();d.addClass("loading"),c.after(RPM.SPINNER).after(" Loading&hellip;"),a.get(i,{node_id:g},function(a,b,g){d.removeClass("rollup").after(a).trigger("nodeExpand").removeClass("loading"),e.nextUntil(f).find("code").sql_highlighter(),c.parent().html(j)})}),a("#trace_sql_table").tableSort({defaultSortOrder:{1:"desc"},columns:{0:{preferredSortOrder:"asc",sorter:"numericWithUnits"},1:{preferredSortOrder:"desc"}}}),a("#show_small_queries").change(function(){a(this).is(":checked")?a("#trace_sql_table .small_query").show():a("#trace_sql_table .small_query").hide()}),a("#trace_details_table tr.uninstrumented .label").append('<a href="http://newrelic.com/docs/docs/custom-metric-collection" data-tip="Our agent can\'t see what is happening in your code. Consult our documentation to find out how to add instrumentation to your app."><img src="/images/v3/icon-help-small.png" /></a>')})